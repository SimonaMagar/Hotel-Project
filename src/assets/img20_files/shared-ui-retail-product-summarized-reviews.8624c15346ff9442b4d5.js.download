/*@license For license information please refer to shared-ui-retail-product-summarized-reviews.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5705],{30702:function(e,n,i){i.d(n,{W:function(){return b},j:function(){return x}});var t=i(96540),a=i(47848),d=i(53735),r=i(72195),m=i(62152),l=i(1023),s=i(22913),c=i(93065),o=i(97222),u=i(98750),v=i(28667),k=i(22828),S=i(33685),p=i(97445),y=i(25859),g=i(37137),N=i(85911);const _=e=>{const n={};return e.filter(e=>{if("FragmentDefinition"!==e.kind)return!0;const i=e.name.value;return!n[i]&&(n[i]=!0,!0)})};var E=(e,n)=>{var i,t;let a;try{a=JSON.parse(n)}catch(l){return{clientPayload:void 0,serverPayload:n}}const{events:d}=a,r=Object.keys((null==d?void 0:d[e])||{});r.sort((e,n)=>parseInt(n.slice(1),10)-parseInt(e.slice(1),10));const m=r[0];return{clientPayload:m?null==(t=null==(i=d[e])?void 0:i[m])?void 0:t.event_data:void 0,serverPayload:n}},f=({data:e})=>{const{list:n}=e;return"EGDSBulletedList"===(null==n?void 0:n.__typename)?t.createElement(S.y,{spacing:!0},n.listItems.map((e,n)=>t.createElement(p.x,{key:n},"EGDSTextStandardListItem"===(null==e?void 0:e.__typename)&&(null==e?void 0:e.text)))):null};f.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SummarizedReviewsContentListFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductAmenitiesSection"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"list"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBulletedList"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"listItems"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSTextStandardListItem"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:301,source:{body:"\n  fragment SummarizedReviewsContentListFragment on ProductAmenitiesSection {\n    list {\n      __typename\n      ... on EGDSBulletedList {\n        __typename\n        listItems {\n          ... on EGDSTextStandardListItem {\n            __typename\n            text\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},f.displayName="SummarizedReviewsContentList";var F={kind:"Document",definitions:_([{kind:"FragmentDefinition",name:{kind:"Name",value:"SummarizedReviewsContentFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewSummaryInfo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductAmenitiesSection"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SummarizedReviewsContentListFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"impressionAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"clickStreamAnalytics"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"theme"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSLocalThemeProviderFragment"},directives:[]}]}}]}}].concat(f.fragment.definitions,o.dy.fragment.definitions)),loc:{start:0,end:434,source:{body:"\n  fragment SummarizedReviewsContentFragment on ReviewSummaryInfo {\n    __typename\n    content {\n      ... on ProductAmenitiesSection {\n        title {\n          __typename\n          text\n        }\n        ...SummarizedReviewsContentListFragment\n      }\n    }\n    impressionAnalytics {\n      __typename\n      referrerId\n      linkName\n    }\n    clickStreamAnalytics\n    theme {\n      ...EGDSLocalThemeProviderFragment\n    }\n  }\n  \n  \n".concat([f.fragment.loc.source.body,o.dy.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},I=({data:e})=>{var n;const{content:i,impressionAnalytics:a,clickStreamAnalytics:d}=e,r=1===(0,c.useExperiment)("Reviews_Overlay_revamp",!1).exposure.bucket;if(!(null==i?void 0:i.list))return null;const l=(null==a?void 0:a.referrerId)||"",s=(null==a?void 0:a.linkName)||"",o=t.createElement(v.C,null,t.createElement(u.E,{padded:!1},t.createElement(m.M,{tag:r?"h4":"h3",size:7},null==(n=null==i?void 0:i.title)?void 0:n.text),t.createElement(f,{data:i})));return d?t.createElement(k.E0,{eventData:E("review_summarisation.presented",d)},o):t.createElement(k.ee,{trackOnce:!0,referrerId:l,linkName:s},o)};I.fragment=F,I.displayName="SummarizedReviewsContent";var D={kind:"Document",definitions:_([{kind:"FragmentDefinition",name:{kind:"Name",value:"SummarizedReviewsDisclaimerFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSGraphicText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"graphic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Icon"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSMarkFragment"},directives:[]}]}}]}}].concat(o.qU.fragment.definitions)),loc:{start:0,end:253,source:{body:"\n  fragment SummarizedReviewsDisclaimerFragment on EGDSGraphicText {\n    __typename\n    text\n    graphic {\n      ... on Icon {\n        __typename\n        title\n        token\n        id\n        description\n      }\n      ...EGDSMarkFragment\n    }\n  }\n\n  \n".concat([o.qU.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},R=({data:e})=>{const{text:n,graphic:i}=e,a=1===(0,c.useExperiment)("PDP_Explore_AI_Updates",!1).exposure.bucket;return n?t.createElement("div",null,"Icon"!==(null==i?void 0:i.__typename)||a?null:t.createElement(r.N,{padding:{inlineend:"one"}},t.createElement(y.LD,{id:i.id,name:i.token,size:y.So.EXTRA_SMALL})),"Mark"===(null==i?void 0:i.__typename)&&a?t.createElement(r.N,{padding:{inlineend:"one"}},t.createElement(o.qU,{data:i,size:g.K.EXTRA_SMALL})):null,t.createElement(N.D,{size:100,inline:!!n},n)):null};R.fragment=D,R.displayName="SummarizedReviewsDisclaimer";var T={kind:"Document",definitions:_([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SummarizedReviewsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ContextInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productIdentifier"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ProductIdentifierInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"productReviewSummary"},arguments:[{kind:"Argument",name:{kind:"Name",value:"context"},value:{kind:"Variable",name:{kind:"Name",value:"context"}}},{kind:"Argument",name:{kind:"Name",value:"productIdentifier"},value:{kind:"Variable",name:{kind:"Name",value:"productIdentifier"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibilityHeader"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SummarizedReviewsContentFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"disclaimer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SummarizedReviewsDisclaimerFragment"},directives:[]}]}}]}}]}}].concat(I.fragment.definitions,R.fragment.definitions)),loc:{start:0,end:374,source:{body:"\n  query SummarizedReviewsQuery($context: ContextInput!, $productIdentifier: ProductIdentifierInput!) {\n    productReviewSummary(context: $context, productIdentifier: $productIdentifier) {\n      accessibilityHeader\n      summary {\n        ...SummarizedReviewsContentFragment\n      }\n      disclaimer {\n        ...SummarizedReviewsDisclaimerFragment\n      }\n    }\n  }\n\n  \n  \n".concat([I.fragment.loc.source.body,R.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},x=({inputs:e,skipSsr:n,batchKey:i})=>{var u;const{context:v}=(0,s.R)(),k=1===(0,c.useExperiment)("PDP_Explore_AI_Updates",!1).exposure.bucket,S=1===(0,c.useExperiment)("Reviews_Overlay_revamp",!1).exposure.bucket,p={...e,context:v},{data:y,error:g,loading:N}=(0,l.IT)(T,{context:{batchKey:null!=i?i:"default-product-details-experience-batch-key",shouldLogPerformance:!0},variables:p,ssr:!n});if(N||g||!y||!y.productReviewSummary)return null;const{summary:_,disclaimer:E,accessibilityHeader:f}=(null==y?void 0:y.productReviewSummary)||{};if(!_)return null;const F=null==(u=null==_?void 0:_[0])?void 0:u.theme,D=t.createElement(r.N,{padding:"four"},t.createElement(d.X,{space:"three",direction:"column"},null==_?void 0:_.map((e,n)=>t.createElement(I,{data:e,key:n})),E&&t.createElement(R,{data:E}))),x=t.createElement(a.g,{backgroundTheme:"secondary"},D),b=F?t.createElement(a.g,null,t.createElement("div",null,t.createElement(o.dy,{data:F},t.createElement(a.g,{backgroundTheme:"primary"},D)))):t.createElement(a.g,{backgroundTheme:"primary"},D);return t.createElement("div",{"data-stid":"product-summarized-reviews"},f&&S&&t.createElement(m.M,{className:"is-visually-hidden","aria-label":f||""},f),t.createElement(r.N,{margin:{blockstart:S?"four":"two",blockend:S?"unset":"three"}},k?b:x))};x.displayName="sharedui-SummarizedReviews";var b=(e=>(e.ACTIVITY_ID="ACTIVITY_ID",e.CART_ID="CART_ID",e.CAR_OFFER_TOKEN="CAR_OFFER_TOKEN",e.CHECKOUT_SESSION_ID="CHECKOUT_SESSION_ID",e.ENTITY_ID="ENTITY_ID",e.LEGACY_ORDER_ID="LEGACY_ORDER_ID",e.OFFER_ID="OFFER_ID",e.ORDER_ID="ORDER_ID",e.PROPERTY_ID="PROPERTY_ID",e.SAILING_TOKEN="SAILING_TOKEN",e))(b||{})}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/landing-pwa/shared-ui-retail-product-summarized-reviews.8624c15346ff9442b4d5.js.map