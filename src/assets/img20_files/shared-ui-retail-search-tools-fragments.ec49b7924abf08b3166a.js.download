/*@license For license information please refer to shared-ui-retail-search-tools-fragments.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4896],{18301:function(e,n,t){t.d(n,{$B:function(){return ft},$T:function(){return Hd},$j:function(){return xa},A:function(){return Bt},AK:function(){return Li},AS:function(){return an},As:function(){return Rl},BG:function(){return ro},BW:function(){return ad},C6:function(){return Ma},CG:function(){return Aa},CN:function(){return un},Cq:function(){return mn},DB:function(){return vn},DH:function(){return gn},Dv:function(){return yn},EZ:function(){return Wa},F4:function(){return it},Fe:function(){return Ud},GD:function(){return vr},Gu:function(){return rr},I5:function(){return Qd},IU:function(){return bt},In:function(){return En},Ir:function(){return nn},K0:function(){return Kd},KE:function(){return Ll},LN:function(){return Pe},LV:function(){return Gn},LY:function(){return Oa},Mk:function(){return hn},Nc:function(){return $l},P8:function(){return xi},PO:function(){return $e},Pm:function(){return ht},QB:function(){return Ca},Rm:function(){return Vd},Sl:function(){return td},T3:function(){return Ve},TE:function(){return ba},U9:function(){return Ke},W4:function(){return to},Wg:function(){return Jr},XG:function(){return He},XI:function(){return ao},XO:function(){return et},Xh:function(){return Nt},YX:function(){return Ri},ZC:function(){return St},Zl:function(){return dt},_F:function(){return $i},_G:function(){return Pn},_e:function(){return io},aJ:function(){return Xe},aM:function(){return rd},bG:function(){return wl},bR:function(){return dn},bh:function(){return we},c5:function(){return ed},d4:function(){return cn},dg:function(){return At},eI:function(){return Fd},eT:function(){return ze},f1:function(){return Ra},fb:function(){return Ot},fw:function(){return Ui},gj:function(){return _i},h1:function(){return je},hG:function(){return ya},ht:function(){return on},i1:function(){return Ua},i2:function(){return st},ie:function(){return Bi},jP:function(){return Hl},kB:function(){return Ul},kI:function(){return We},kh:function(){return Vl},lG:function(){return no},lf:function(){return fa},m1:function(){return Bn},m7:function(){return bn},mL:function(){return eo},mX:function(){return qe},m_:function(){return id},n$:function(){return ka},o4:function(){return fd},o8:function(){return jl},pW:function(){return ld},pj:function(){return Qe},qc:function(){return Ga},qy:function(){return Nd},rF:function(){return Wl},ro:function(){return pn},rv:function(){return hd},t4:function(){return nt},tX:function(){return ln},uM:function(){return Ze},uT:function(){return wa},uc:function(){return nd},up:function(){return Ue},uy:function(){return Je},vE:function(){return Jn},vo:function(){return or},wU:function(){return dd},yD:function(){return Vt},zO:function(){return Tt},zi:function(){return Ye}});var a=t(96540),i=t(6057),l=t(8997),r=t(96912),d=t(39859),o=t(1023),s=t(22828),c=t(59836),m=t(25859),u=t(42971),v=t(41681),S=t(39029),g=t(24822),k=t(92416),p=t(6205),y=t(65113),f=t(62152),E=t(85911),h=t(39366),F=t(95079),D=t(22429),N=t(25607),T=t(3579),_=t(95123),I=t(14679),b=t(37457),C=t(3169),L=t(69045),A=t(72195),G=t(1843),R=t(73128),x=t(20438),O=t(93065),B=t(56651),P=t(22913),M=t(9705),$=t(62547),U=t(69633),w=t(34969),W=t(27158),V=t(55587),H=t(47730),z=t(53735),q=t(28667),Q=t(8983),K=t(23211),j=t(14280),Y=t(58794),X=t(81809),J=t(43094),Z=t(20536),ee=t(5155),ne=t(77976),te=t(60306),ae=t(26277),ie=t(59671),le=t(80575),re=t(79611),de=t(2507),oe=t(26143),se=t(28155),ce=t(77027),me=t(39656),ue=t(80105),ve=t(28154),Se=t(68370),ge=t(45514),ke=t(92760),pe=t(99374),ye=t(73700),fe=t(38347),Ee=t(46568),he=t(6412),Fe=t(72127),De=t(62735),Ne=t(70157),Te=t(47848),_e=t(6237),Ie=t(77950),be=t(75523),Ce=t(42955),Le=t(88616),Ae=t(20780),Ge=t(46414),Re=t(82715);const xe=e=>{const n={};return e.filter(e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!n[t]&&(n[t]=!0,!0)})};var Oe={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSButtonFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSButton"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"disabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"analytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:255,source:{body:"\n  fragment EGDSButtonFragment on EGDSButton {\n    primary\n    disabled\n    accessibility\n    icon {\n      id\n      description\n      token\n      title\n    }\n    analytics {\n      linkName\n      referrerId\n    }\n    action {\n      accessibility\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Be={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSPrimaryButtonFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UIPrimaryButton"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSButtonFragment"},directives:[]}]}}].concat(Oe.definitions)),loc:{start:0,end:111,source:{body:"\n  fragment EGDSPrimaryButtonFragment on UIPrimaryButton {\n    egdsElementId\n    ...EGDSButtonFragment\n  }\n\n  \n".concat([Oe.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Pe=({data:e,onClick:n,size:t,isFullWidth:o=!0,floating:c=!1})=>{const{egdsElementId:m,primary:u,analytics:v}=e,S=null!=m?m:"search_form_primary_button",g=(0,s.KY)(),k={onClick:a.useCallback(()=>{if(v){const{referrerId:e,linkName:n}=v;g(e,n)}n()},[v,n,g]),id:S,isFullWidth:o,size:t||i.V.LARGE};return c?a.createElement(d.O,{type:"fade-button"},a.createElement(l.t,{...k},u)):a.createElement(r.y,{...k},u)};Pe.displayName="SearchToolsEGDSPrimaryButton",Pe.fragment=Be;var Me={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSTertiaryButtonFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UITertiaryButton"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSButtonFragment"},directives:[]}]}}].concat(Oe.definitions)),loc:{start:0,end:113,source:{body:"\n  fragment EGDSTertiaryButtonFragment on UITertiaryButton {\n    egdsElementId\n    ...EGDSButtonFragment\n  }\n\n  \n".concat([Oe.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},$e=({onClick:e,isFullWidth:n,size:t,data:i,isDisabled:l,domRef:r,id:d})=>{const{egdsElementId:o,primary:u,disabled:v,accessibility:S,analytics:g,icon:k}=i,p=d||(o||"search_form_tertiary_button"),y=(0,s.KY)(),f=l||v,E=a.useCallback(()=>{if(g){const{referrerId:e,linkName:n}=g;y(e,n)}e()},[g,e,y]);return a.createElement(c.q,{"aria-label":null!=S?S:"",id:p,"data-test-id":p,onClick:E,disabled:f,isFullWidth:n,size:t,domRef:r},k&&a.createElement(m.LD,{name:k.id}),u)};$e.displayName="SearchToolsEGDSTertiaryButton",$e.fragment=Me;var Ue=(e,n)=>{var t,a;return{event:{event_name:e.name,event_version:e.version},...(null==n?void 0:n.productLine)&&{search_form:{product_line:n.productLine}},...(null==n?void 0:n.component)&&{additional_context:{user_interface:{component_name:n.component.name,...n.component.elementName&&{component_element_name:n.component.elementName}}}},...(null==n?void 0:n.searchRequest)&&{search_request:{...n.searchRequest.searchId&&{search_id:n.searchRequest.searchId},...n.searchRequest.tripType&&{trip_type:n.searchRequest.tripType},...n.searchRequest.tripStartDate&&{trip_start_date:n.searchRequest.tripStartDate},...n.searchRequest.tripEndDate&&{trip_end_date:n.searchRequest.tripEndDate},...n.searchRequest.tripStartTime&&{trip_start_time:n.searchRequest.tripStartTime},...n.searchRequest.tripEndTime&&{trip_end_time:n.searchRequest.tripEndTime},...n.searchRequest.tripDuration&&{trip_duration:n.searchRequest.tripDuration},...n.searchRequest.searchTriggeredBy&&{search_triggered_by:n.searchRequest.searchTriggeredBy},...n.searchRequest.adultCount&&{adult_count:n.searchRequest.adultCount},...n.searchRequest.childCount&&{child_count:n.searchRequest.childCount},...n.searchRequest.roomCount&&{room_count:n.searchRequest.roomCount},...(null==(t=n.searchRequest.flexibleSearch)?void 0:t.searchDays)&&{flexible_search:{search_days:n.searchRequest.flexibleSearch.searchDays,search_range:n.searchRequest.flexibleSearch.searchRange,search_requirement:n.searchRequest.flexibleSearch.searchRequirement}},...n.searchRequest.partialStay&&{partial_stay:[{check_in_date:n.searchRequest.partialStay.checkInDate,check_out_date:n.searchRequest.partialStay.checkOutDate}]},...(null==(a=n.searchRequest.flightSearch)?void 0:a.multiDestinationFlightSearch)&&{flight_search:{multi_destination_flight_search:n.searchRequest.flightSearch.multiDestinationFlightSearch.map(e=>({destination_full_name:null==e?void 0:e.destinationFullName,origin_full_name:null==e?void 0:e.originFullName,trip_start_date:null==e?void 0:e.tripStartDate}))}}}},...(null==n?void 0:n.destination)&&{destination:{destination_geo_id:n.destination.geoId,destination_full_name:n.destination.fullName,destination_geo_system:n.destination.geoSystem,destination_type:n.destination.type,destination_group:n.destination.group}},...(null==n?void 0:n.origin)&&{origin:{origin_airport_code:n.origin.airportCode,origin_full_name:n.origin.fullName,origin_geo_id:n.origin.geoId}},...(null==n?void 0:n.destinationList)&&{destination_list:n.destinationList.map(e=>({...e.geoId&&{destination_geo_id:e.geoId},...e.fullName&&{destination_full_name:e.fullName},...e.geoSystem&&{destination_geo_system:e.geoSystem},...e.type&&{destination_type:e.type},...e.group&&{destination_group:e.group}}))},...(null==n?void 0:n.errorList)&&{error_list:n.errorList.map(e=>({error_name:e.errorName,error_type:e.errorType,error_description:e.errorDescription}))}}},we=e=>{var n,t,a,i,l,r,d,o;return{fullName:(null==(n=null==e?void 0:e.data)?void 0:n.locationFullName)||(null==e?void 0:e.term),...(null==(t=null==e?void 0:e.data)?void 0:t.geoType)&&{type:null==e?void 0:e.data.geoType},...(null==(a=null==e?void 0:e.data)?void 0:a.regionId)&&{geoId:null==e?void 0:e.data.regionId},...(null==(l=null==(i=null==e?void 0:e.data)?void 0:i.analyticsInfo)?void 0:l.sourceName)&&{geoSystem:null==(r=e.data.analyticsInfo)?void 0:r.sourceName},...(null==(d=null==e?void 0:e.data)?void 0:d.lineOfBusiness)&&{group:null==(o=null==e?void 0:e.data)?void 0:o.lineOfBusiness}}},We=e=>e.map(e=>we(e)),Ve=e=>{var n,t,a;return{fullName:(null==(n=null==e?void 0:e.data)?void 0:n.locationFullName)||e.term,...(null==(t=null==e?void 0:e.data)?void 0:t.regionId)&&{geoId:null==e?void 0:e.data.regionId},...(null==(a=null==e?void 0:e.data)?void 0:a.airportCode)&&{airportCode:e.data.airportCode}}},He=e=>{var n,t,a;return{fullName:null!=(n=null==e?void 0:e.value)?n:"",geoId:null!=(t=null==e?void 0:e.regionId)?t:"",type:null!=(a=null==e?void 0:e.regionType)?a:""}},ze=(e,n)=>{return{destination:n?He(n):{fullName:""},origin:e?(t=e,{fullName:null!=(a=null==t?void 0:t.value)?a:"",geoId:null!=(i=null==t?void 0:t.regionId)?i:"",...(null==t?void 0:t.airportCode)&&{airportCode:null==t?void 0:t.airportCode}}):{fullName:""}};var t,a,i},qe=(e,n)=>{var t,a;return null!=(a=null==(t=e.find(e=>{var t;return null==(t=e.name)?void 0:t.startsWith(n)}))?void 0:t.value)?a:""},Qe=e=>{const n="EGDSSearchFormTravelersField",t=`${n}-InfantInSeatAge`,a=`${n}-ChildrenAge`,i=`${n}-ChildrenAge-Room`,l=`${n}-InfantOnLap`;return e.reduce((e,n)=>{return n.name&&((r=n.name).startsWith(a)||r.startsWith(t)||r.startsWith(i)||r.startsWith(l))?e+1:e;var r},0)},Ke=e=>e.reduce((e,n)=>n.name&&n.name.startsWith("EGDSSearchFormTravelersField-Adult")?e+Number(n.value):e,0),je=e=>e.reduce((e,n)=>n.name&&n.name.startsWith("EGDSSearchFormTravelersField-Adult-Room")?e+1:e,0),Ye=e=>e.split("/").map(e=>{const n=e.split("_")[0],[t,a]=n.split("-");return{month:parseInt(a,10),year:parseInt(t,10)}}),Xe=e=>{const n=e.match(/(\d+)/);return n?parseInt(n[0],10):0},Je=e=>{const n=e.split(",").map(e=>{const n=Xe(e);return e.includes("WEEK")?7*n:n});return n.every(e=>0===e)?null:n},Ze=e=>{var n,t,a;const i=null!=(n=e.location.destination)?n:[],l=null!=(t=e.location.origin)?t:[],r=null!=(a=e.dates.dateInputs)?a:[];return i.map((e,n)=>{var t,a;return{destinationFullName:null==e?void 0:e.value,originFullName:null==(t=l[n])?void 0:t.value,tripStartDate:null==(a=r[n])?void 0:a.value}})},en=a.createContext(null),nn=({children:e,analytics:n})=>{const t=a.useMemo(()=>({analytics:n}),[n]);return a.createElement(en.Provider,{value:t},e)},tn={search_button:"SearchSubmitAnalytics",soft_packages_car_pill:"SoftPackagesAnalytics",soft_packages_hotel_pill:"SoftPackagesAnalytics",soft_packages_flight_pill:"SoftPackagesAnalytics",search_form_error_summary:"ErrorSummaryAnalytics",traveler_selector_error_summary:"ErrorSummaryAnalytics",search_form_playback:"PlaybackAnalytics",date_form_field:"DatesAnalytics","date-picker":"DatesAnalytics",dates:"DatesAnalytics","date-range-select":"DatesAnalytics"},an=e=>{const n=(0,a.useContext)(en),t=(0,s.iQ)(),i=(0,s.KY)(),l=a.useMemo(()=>{const n=tn[e];return n?(e=>{if(e)return e.split("").map((e,n)=>0===n?e.toLowerCase():e).join("");return e})(n):null},[e]),r=a.useCallback((e,t)=>{var a,i,r;if(!l)return null;const d=t?null==(i=null==(a=null==n?void 0:n.analytics)?void 0:a[l])?void 0:i[t]:null==(r=null==n?void 0:n.analytics)?void 0:r[l];if(!(null==d?void 0:d.event)||!(null==d?void 0:d.payload))return null;const{component:o,productLine:s,destination:c,searchRequest:m,errorList:u,destinationList:v,origin:S}=e,{event:g,payload:k}=d;return{clientPayload:Ue(g,{productLine:s,component:o,destination:c,searchRequest:m,errorList:u,origin:S,destinationList:v}),serverPayload:k}},[l,n]);return{trackEvent:(e,n,a)=>{const l=r(e,a);if(l)t(l);else if((null==n?void 0:n.linkName)&&(null==n?void 0:n.referrerId)){const{referrerId:e,linkName:t}=n;i(e,t)}},ImpressionTracker:({children:e,clickstreamInteractionsPayload:n,uisPrimePayload:t})=>{const i=r(n,"presented");if(i)return a.createElement(s.E0,{eventData:i},e);if((null==t?void 0:t.linkName)&&(null==t?void 0:t.referrerId)){const{referrerId:n,linkName:i}=t;return a.createElement(s.ee,{referrerId:n,linkName:i},e)}return a.createElement(a.Fragment,null,e)}}},ln=({data:e,checked:n,onChange:t})=>{const{egdsElementId:i,description:l,enabled:r,name:d,required:o,label:s,checkedAnalytics:c,uncheckedAnalytics:m,state:v,__typename:S,value:g}=e,[k,p]=a.useState(null!=n?n:"CHECKED"===v);a.useEffect(()=>{p(null!=n?n:"CHECKED"===v)},[n,v]);const{trackEvent:y}=an(null!=i?i:""),f=a.useCallback(e=>{p(e.currentTarget.checked),c&&e.currentTarget.checked&&y({component:{name:S,elementName:e.currentTarget.name}},c,"select"),m&&!e.currentTarget.checked&&y({component:{name:S,elementName:e.currentTarget.name}},m,"deselect"),null==t||t(e)},[c,k,t,y,m]);return a.createElement(u.x,{id:null!=i?i:"",checked:k,description:null!=l?l:void 0,disabled:!r,name:null!=d?d:void 0,onChange:f,required:o,value:null!=g?g:void 0},null==s?void 0:s.text)};ln.displayName="EGDSBasicCheckBox",ln.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSBasicCheckBoxFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBasicCheckBox"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkedAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"uncheckedAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"required"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}],loc:{start:0,end:306,source:{body:"\n  fragment EGDSBasicCheckBoxFragment on EGDSBasicCheckBox {\n    egdsElementId\n    description\n    enabled\n    checkedAnalytics {\n      linkName\n      referrerId\n    }\n    uncheckedAnalytics {\n      linkName\n      referrerId\n    }\n    label {\n      text\n    }\n    name\n    required\n    state\n    value\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}},__typename:"EGDSBasicCheckBox"};var rn={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSCheckBoxFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSCheckBox"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSBasicCheckBoxFragment"},directives:[]}]}}].concat(ln.fragment.definitions)),loc:{start:0,end:108,source:{body:"\n  fragment EGDSCheckBoxFragment on EGDSCheckBox {\n    __typename\n\n    ...EGDSBasicCheckBoxFragment\n  }\n\n  \n".concat([ln.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},dn=({data:e,onChange:n})=>"EGDSBasicCheckBox"===(null==e?void 0:e.__typename)?a.createElement(ln,{onChange:n,data:e}):null;dn.displayName="EGDSCheckBox",dn.fragment=rn;var on={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ClientSideAnalyticsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClientSideAnalytics"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}}],loc:{start:0,end:97,source:{body:"\n  fragment ClientSideAnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},sn={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSStandardSwitchFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSStandardSwitch"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkedLabel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkedDescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkedAccessibilityLabel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkedAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClientSideAnalyticsFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"uncheckedAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClientSideAnalyticsFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}].concat(on.definitions)),loc:{start:0,end:320,source:{body:"\n  fragment EGDSStandardSwitchFragment on EGDSStandardSwitch {\n    id\n    enabled\n    checked\n    checkedLabel\n    checkedDescription\n    checkedAccessibilityLabel\n    checkedAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n    uncheckedAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n    __typename\n  }\n  \n".concat([on.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},cn=({data:e,onChange:n})=>{var t;const[i,l]=a.useState(null!=(t=null==e?void 0:e.checked)&&t),r=a.useCallback(e=>{const t=e.currentTarget.checked;l(t),null==n||n(e)},[n]);if(!e)return null;const{id:d,enabled:o,checkedLabel:s,checkedDescription:c,checkedAccessibilityLabel:m}=e;return a.createElement(v.Y,{id:null!=d?d:"",checked:i,disabled:!o,label:null!=s?s:void 0,description:null!=c?c:void 0,a11yLabel:null!=m?m:void 0,onChange:r})};cn.displayName="EGDSStandardSwitch",cn.fragment=sn;var mn=({data:e,children:n})=>{var t;return e?a.createElement(s.ee,{referrerId:e.referrerId,linkName:null!=(t=e.linkName)?t:e.referrerId,intersectionOptions:{threshold:.5}},n):a.createElement(a.Fragment,null,n)};mn.displayName="ClientSideImpressionEventAnalytics",mn.fragment=on;var un=({data:e,onTabSelected:n,backgroundColor:t,tabsType:i})=>{const{tabs:l,selectedTabId:r}=e,d=(0,s.KY)(),o=r?l.findIndex(e=>"EGDSBasicTab"===e.__typename?e.tabId===r:0):0,[c,m]=(0,a.useState)(o),u=(0,k.eg)({viewSizes:k.pf})<=k.pf.SMALL,v=u?S.Ah.EQUAL_WIDTH:S.Ah.NATURAL,p={selectedTab:-1!==c?c:0,onTabSelect:e=>{m(e);const t=l[e];if("EGDSBasicTab"===t.__typename){const{clickAnalytics:e,tabId:a}=t;(e=>{if(e&&"ClientSideAnalytics"===(null==e?void 0:e.__typename)){const{linkName:n,referrerId:t}=e;d(t,n)}})(e),n&&n(a)}},tabsType:null!=i?i:v,backgroundColor:null!=t?t:S.pD.PRIMARY};return a.createElement(S.IN,{...p,withBorder:!0},l.map(e=>{const n="EGDSBasicTab"===e.__typename?e.tabId:"",t="EGDSBasicTab"===e.__typename?e.label:"";return a.createElement(g.X,{id:n,key:n,name:t,targetURI:`#EGDSBasicTabSearchForm_${n}`})}))};function vn(e,n,t){return e.replace(`\${${n}}`,t)}function Sn(e,n,t){return n.reduce((e,n,a)=>vn(e,n.key,t[a]),e)}un.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSBasicTabsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBasicTabs"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selectedTabId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tabs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBasicTab"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tabId"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:305,source:{body:"\n  fragment EGDSBasicTabsFragment on EGDSBasicTabs {\n    __typename\n    egdsElementId\n    selectedTabId\n    tabs {\n      ... on EGDSBasicTab {\n        __typename\n        accessibility\n        clickAnalytics {\n          linkName\n          referrerId\n        }\n        label\n        tabId\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},un.displayName="EGDSBasicTabs";var gn=e=>e.includes("(")?e.split("(")[0].trim():e.trim(),kn=({textFragment:e,values:n,count:t=0,locale:a="en-US"})=>{if(!e||"EGDSCardinalLocalizedText"!==e.__typename)return"";const{templates:i,models:l}=e,r=new Intl.PluralRules(a.replace("_","-")).select(t).toUpperCase(),d=i.find(e=>e.category===r);return d&&l?Sn(d.template,l,n):""},pn=({errorCount:e=0,inputErrorRef:n,data:t,errorName:i="SEARCH_FORM_ERROR"})=>{const l=(0,s.KY)(),r=a.createRef(),{body:d,goToErrorLinkText:o,goToFirstErrorLinkText:c,heading:m,analytics:u,impressionAnalytics:v,headingTemplate:S,egdsElementId:g}=t,{ImpressionTracker:k}=an(g||"search_form_error_summary"),F=0===e,D=1===e,N=m.trim()?m:(e=>{if("EGDSCardinalLocalizedText"===(null==S?void 0:S.__typename)){const n=S.templates.slice(1,3),t=D?"":S.models[0].key;return vn(D?n[0].template:n[1].template,t,e.toString())}return""})(e);a.useEffect(()=>{var e;(0,h.liveAnnounce)(N,h.Level.ASSERTIVE),null==(e=r.current)||e.focus()},[]);const T=D?o:c;return F?null:a.createElement(k,{clickstreamInteractionsPayload:{errorList:[{errorName:i,errorType:"summary",errorDescription:N}]},uisPrimePayload:v},a.createElement(p.O,{theme:"error"},a.createElement(f.M,{size:7,"aria-level":3},N),d&&a.createElement(E.D,{size:300},d.text),T&&a.createElement(y.i,{domRef:r},a.createElement("button",{type:"button",onClick:()=>{var e;if(null==(e=null==n?void 0:n.current)||e.focus(),u){const{referrerId:e,linkName:n}=u;l(D?`${e}.One.Error`:`${e}.Many.Errors`,n)}}},T))))};pn.displayName="SearchToolsEGDSErrorSummary",pn.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSErrorSummaryFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSErrorSummary"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"goToErrorLinkText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"goToFirstErrorLinkText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"heading"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"analytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"impressionAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClientSideImpressionEventAnalyticsFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"headingTemplate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSCardinalLocalizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"templates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"template"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ClientSideImpressionEventAnalyticsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClientSideImpressionEventAnalytics"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}}],loc:{start:0,end:638,source:{body:"\n  fragment EGDSErrorSummaryFragment on EGDSErrorSummary {\n    egdsElementId\n    goToErrorLinkText\n    goToFirstErrorLinkText\n    heading\n    body {\n      text\n    }\n    analytics {\n      linkName\n      referrerId\n    }\n    impressionAnalytics {\n      ...ClientSideImpressionEventAnalyticsFragment\n    }\n    headingTemplate {\n      ... on EGDSCardinalLocalizedText {\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n      }\n    }\n  }\n\n  fragment ClientSideImpressionEventAnalyticsFragment on ClientSideImpressionEventAnalytics {\n    linkName\n    referrerId\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var yn=({disabled:e,data:n,errorMessage:t,setFieldRefByTypename:i,allowSpecialCharacters:l=!1,onChange:r})=>{const{label:d,value:o,egdsElementId:s,placeholder:c,step:m,max:u,min:v,__typename:S}=n,g=null===o?void 0:Number(o),[k,p]=a.useState(g),y=a.createRef();a.useEffect(()=>{i&&y&&i(S,y)},[]);return a.createElement(F.R,{label:null!=d?d:"",id:null!=s?s:"",placeholder:null!=c?c:"",name:s?`EGDSNumberInput-${s}`:"",value:k,step:null!=m?m:void 0,max:null!=u?u:void 0,min:null!=v?v:void 0,onChange:e=>{const n=""===e.target.value?void 0:Number(e.target.value);p(n),null==r||r(n)},onBeforeInput:e=>{const{data:n}=e.nativeEvent;!n||l||(e=>/^[0-9]$/.test(e))(n)||e.preventDefault()},disabled:e,invalid:null!=t?t:"",domRef:y})};yn.displayName="EGDSNumberInputField",yn.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSNumberInputFieldFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSNumberInputField"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instructions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"min"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeholder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"step"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"readOnly"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"required"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSInputValidation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSRangeInputValidation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"min"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}],loc:{start:0,end:391,source:{body:"\n  fragment EGDSNumberInputFieldFragment on EGDSNumberInputField {\n    egdsElementId\n    errorMessage\n    instructions\n    label\n    max\n    min\n    placeholder\n    step\n    readOnly\n    required\n    validations {\n      ... on EGDSInputValidation {\n        errorMessage\n      }\n      ... on EGDSRangeInputValidation {\n        errorMessage\n        min\n        max\n      }\n    }\n    value\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var fn={EXTRA_SMALL:m.So.EXTRA_SMALL,SMALL:m.So.SMALL,MEDIUM:m.So.MEDIUM,MEDIUM_LARGE:m.So.MEDIUM,LARGE:m.So.LARGE,XLARGE:m.So.XLARGE},En=e=>{const{data:n,uniqueId:t}=e,{id:i,title:l,description:r,size:d}=n,o=(0,T.D4)(),s=t||i||o,c=fn[null!=d?d:"LARGE"];return a.createElement(m.LD,{id:s,name:i,title:null!=l?l:r,description:r,size:c})};En.displayName="Icon",En.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"IconFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Icon"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]}]}}],loc:{start:0,end:91,source:{body:"\n  fragment IconFragment on Icon {\n    id\n    title\n    token\n    description\n    size\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var hn="EGDSBasicPill",Fn={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSBasicPillFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBasicPill"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"disabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selectedText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IconFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"selectAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AnalyticsFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"deselectAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AnalyticsFragment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AnalyticsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClientSideAnalytics"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}}].concat(En.fragment.definitions)),loc:{start:0,end:391,source:{body:"\n  fragment EGDSBasicPillFragment on EGDSBasicPill {\n    accessibility\n    disabled\n    name\n    primary\n    selected\n    selectedText\n    value\n    icon {\n      ...IconFragment\n    }\n    selectAnalytics {\n      ...AnalyticsFragment\n    }\n    deselectAnalytics {\n      ...AnalyticsFragment\n    }\n  }\n\n  fragment AnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n  }\n\n  \n".concat([En.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Dn=e=>{var n;const{data:t,onChange:i,triggerPill:l,onClick:r,active:d}=e,{accessibility:o,name:c,primary:m,selected:u,value:v,disabled:S,icon:g,selectAnalytics:k,deselectAnalytics:p,selectedText:y}=t,f=(0,s.KY)(),E=null!=c?c:"egds-basic-pill",[F,T]=a.useState(u),_=(0,a.useRef)(!1),I=y||m,b=(0,D.j)(E,e=>{const{checked:n}=e.currentTarget;if(T(n),_.current||(_.current=!0),i&&i(e),k&&n){const{linkName:n,referrerId:t}=k;return f(t,n),e}if(p&&!n){const{linkName:e,referrerId:n}=p;f(n,e)}return e});return a.useEffect(()=>{_.current&&(0,h.liveAnnounce)(null!=o?o:void 0,h.Level.POLITE)},[o]),a.useEffect(()=>{T(u)},[u]),a.createElement(N.B,{checked:F,active:d,disabled:S,icon:"Icon"===(null==g?void 0:g.__typename)?g.token:"",id:E,name:`${hn}-${c}`,onChange:b,value:null!=v?v:"",altText:null!=o?o:"",triggerPill:l,onClick:()=>{r&&r()}},null!=(n=F?I:m)?n:"")};Dn.displayName="EGDSBasicPill",Dn.fragment={...Fn,__typename:"EGDSBasicPill"};var Nn=({data:e,onClick:n})=>{var t;const{id:i,primary:l,accessibility:r,removeAnalytics:d,name:o,value:c}=e,m=null!=(t=null!=i?i:o)?t:"egds-basic-removable-pill",u=(0,s.KY)();return a.createElement("div",null,a.createElement(_.i,{id:m,onClick:e=>{if(n&&n({event:e,id:null!=i?i:""}),d){const{referrerId:e,linkName:n}=d;u(e,n)}},a11yRemoveText:r||""},l),a.createElement("input",{type:"hidden",name:null!=o?o:"",value:null!=c?c:""}))};Nn.displayName="EGDSBasicRemovablePill",Nn.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSBasicRemovablePillFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBasicRemovablePill"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"removeAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}],loc:{start:0,end:191,source:{body:"\n  fragment EGDSBasicRemovablePillFragment on EGDSBasicRemovablePill {\n    primary\n    name\n    accessibility\n    id\n    removeAnalytics {\n      referrerId\n      linkName\n    }\n    value\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var Tn={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSBasicTriggerPillFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBasicTriggerPill"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"disabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IconFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"selectAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AnalyticsFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"deselectAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AnalyticsFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"AnalyticsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClientSideAnalytics"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}}].concat(En.fragment.definitions)),loc:{start:0,end:376,source:{body:"\n  fragment EGDSBasicTriggerPillFragment on EGDSBasicTriggerPill {\n    id\n    disabled\n    primary\n    selected\n    icon {\n      ...IconFragment\n    }\n    selectAnalytics {\n      ...AnalyticsFragment\n    }\n    deselectAnalytics {\n      ...AnalyticsFragment\n    }\n    accessibility\n  }\n\n  fragment AnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n  }\n\n  \n".concat([En.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},_n=e=>{const{data:n,onChange:t,triggerPill:i,onClick:l,domRef:r,active:d}=e,{id:o,primary:c,selected:m,disabled:u,icon:v,selectAnalytics:S,deselectAnalytics:g,accessibility:k}=n,p=(0,s.KY)(),y=null!=o?o:"egds-basic-pill",[f,E]=a.useState(d||m);a.useEffect(()=>{E(null!=d&&d)},[d]);const h=(0,D.j)(y,e=>{if(E(!f),t&&t(e),l&&l(),S&&f){const{linkName:n,referrerId:t}=S;return p(t,n),e}if(g&&!f){const{linkName:e,referrerId:n}=g;p(n,e)}return e});return a.createElement(N.B,{checked:f,active:f,selected:m,disabled:u,icon:"Icon"===(null==v?void 0:v.__typename)?v.token:"",id:y,name:`EGDSBasicTriggerPill-${y}`,triggerPill:i,onClick:h,altText:null!=k?k:"",domRef:r},null!=c?c:"")};_n.displayName="EGDSBasicTriggerPill",_n.fragment=Tn;var In={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSPillFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSPill"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSBasicPillFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSBasicTriggerPillFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSBasicRemovablePillFragment"},directives:[]}]}}].concat(Dn.fragment.definitions,_n.fragment.definitions,Nn.fragment.definitions)),loc:{start:0,end:176,source:{body:"\n  fragment EGDSPillFragment on EGDSPill {\n    __typename\n\n    ...EGDSBasicPillFragment\n    ...EGDSBasicTriggerPillFragment\n    ...EGDSBasicRemovablePillFragment\n  }\n\n  \n  \n  \n".concat([Dn.fragment.loc.source.body,_n.fragment.loc.source.body,Nn.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},bn=e=>{const{data:n}=e;switch(n.__typename){case"EGDSBasicPill":return a.createElement(Dn,{...e,data:n});case"EGDSBasicTriggerPill":return a.createElement(_n,{...e,data:n});case"EGDSBasicRemovablePill":return a.createElement(Nn,{...e,data:n});default:return null}};bn.displayName="SearchToolsEGDSPill",bn.fragment=In;var Cn=e=>{const n=e.hour,t=n>=12?"PM":"AM";return`${String(n%12||12).padStart(2,"0")}${String(e.minute).padStart(2,"0")}${t}`},Ln=e=>{if(!e||!/^\d{4}-\d{2}-\d{2}$/.test(e))return;const[n,t,a]=e.split("-").map(Number);return{day:a,month:t,year:n}},An=e=>{const{name:n,airportCode:t,coordinates:a,regionId:i,geoType:l,propertyId:r}=e;return{term:n||"",data:{__typename:"SearchLocationBasicItem",locationFullName:n||"",itemAccessibilityText:n||"",airportCode:t||null,coordinates:a||null,regionId:i||null,geoType:l||null,propertyId:r||null,primaryText:n||"",secondaryText:t||"",graphic:null,analyticsInfo:null,impressionAnalytics:null,remove:null}}},Gn=(e=>(e.FLIGHT="flight",e.STAY="stay",e.CAR="car",e.CAR_PICKUP="car_pickup",e.CAR_DROPOFF="car_dropoff",e))(Gn||{}),Rn={isRoundTrip:!0,driverAge:{enabled:!1},matchCriteria:{stayMatchesFlight:!1,carMatchesFlight:!1,carMatchesStay:!1},userTouched:{flightOrigin:!1,flightDestination:!1,flightDates:!1,stayDestination:!1,stayDates:!1,carPickup:!1,carDropoff:!1,carDates:!1}},xn=(e,n)=>{switch(n.type){case"UPDATE_FLIGHT_ORIGIN":return{...e,flightOrigin:n.location,userTouched:"user_input"===n.source?{...e.userTouched,flightOrigin:!0}:e.userTouched};case"UPDATE_FLIGHT_DESTINATION":return{...e,flightDestination:n.location,userTouched:"user_input"===n.source?{...e.userTouched,flightDestination:!0}:e.userTouched};case"UPDATE_FLIGHT_DATES":return{...e,flightDates:n.dates,userTouched:"user_input"===n.source?{...e.userTouched,flightDates:!0}:e.userTouched};case"UPDATE_IS_ROUND_TRIP":return{...e,isRoundTrip:n.isRoundTrip};case"UPDATE_CABIN_CLASS":return{...e,cabinClass:n.cabinClass};case"UPDATE_STAY_DESTINATION":return{...e,stayDestination:n.location,userTouched:"user_input"===n.source?{...e.userTouched,stayDestination:!0}:e.userTouched};case"UPDATE_STAY_DATES":return{...e,stayDates:n.dates,userTouched:"user_input"===n.source?{...e.userTouched,stayDates:!0}:e.userTouched};case"UPDATE_CAR_PICKUP":return{...e,carPickup:n.location,userTouched:"user_input"===n.source?{...e.userTouched,carPickup:!0}:e.userTouched};case"UPDATE_CAR_DROPOFF":return{...e,carDropoff:n.location,userTouched:"user_input"===n.source?{...e.userTouched,carDropoff:!0}:e.userTouched};case"UPDATE_CAR_DATES":return{...e,carDates:n.dates,userTouched:"user_input"===n.source?{...e.userTouched,carDates:!0}:e.userTouched};case"UPDATE_DRIVER_AGE":return{...e,driverAge:{...e.driverAge,...n.driverAge}};case"UPDATE_MATCH_CRITERIA":return{...e,matchCriteria:{...e.matchCriteria,...n.matchCriteria}};default:return e}},On=a.createContext(null),Bn=({children:e})=>{const[n,t]=a.useReducer(xn,Rn),i=a.useMemo(()=>({flightDates:n.flightDates,flightOrigin:n.flightOrigin,flightDestination:n.flightDestination,cabinClass:n.cabinClass,isRoundTrip:n.isRoundTrip,updateFlightDates:(e,n)=>{t({type:"UPDATE_FLIGHT_DATES",dates:e,source:n})},updateFlightOrigin:(e,n)=>{t({type:"UPDATE_FLIGHT_ORIGIN",location:e,source:n})},updateFlightDestination:(e,n)=>{t({type:"UPDATE_FLIGHT_DESTINATION",location:e,source:n})},updateCabinClass:e=>{t({type:"UPDATE_CABIN_CLASS",cabinClass:e})},updateIsRoundTrip:e=>{t({type:"UPDATE_IS_ROUND_TRIP",isRoundTrip:e})},stayDates:n.stayDates,stayDestination:n.stayDestination,updateStayDates:(e,n)=>{t({type:"UPDATE_STAY_DATES",dates:e,source:n})},updateStayDestination:(e,n)=>{t({type:"UPDATE_STAY_DESTINATION",location:e,source:n})},carDates:n.carDates,carPickup:n.carPickup,carDropoff:n.carDropoff,updateCarDates:(e,n)=>{t({type:"UPDATE_CAR_DATES",dates:e,source:n})},updateCarPickup:(e,n)=>{t({type:"UPDATE_CAR_PICKUP",location:e,source:n})},updateCarDropoff:(e,n)=>{t({type:"UPDATE_CAR_DROPOFF",location:e,source:n})},driverAge:n.driverAge,matchCriteria:n.matchCriteria,userTouched:n.userTouched,updateDriverAge:e=>{t({type:"UPDATE_DRIVER_AGE",driverAge:e})},updateMatchCriteria:e=>{t({type:"UPDATE_MATCH_CRITERIA",matchCriteria:e})}}),[n]);return a.createElement(On.Provider,{value:i},e)},Pn=()=>a.useContext(On),Mn={flight:{getDestination:e=>e.flightDestination,getOrigin:e=>e.flightOrigin,getUpdateDestination:e=>e.updateFlightDestination,getUpdateOrigin:e=>e.updateFlightOrigin},stay:{getDestination:e=>e.stayDestination,getUpdateDestination:e=>e.updateStayDestination},car_pickup:{getDestination:e=>e.carPickup,getUpdateDestination:e=>e.updateCarPickup},car_dropoff:{getDestination:e=>e.carDropoff,getUpdateDestination:e=>e.updateCarDropoff}},$n={flight:{getDates:e=>e.flightDates,getUpdateDates:e=>e.updateFlightDates},stay:{getDates:e=>e.stayDates,getUpdateDates:e=>e.updateStayDates},car:{getDates:e=>e.carDates,getUpdateDates:e=>e.updateCarDates}},Un=e=>{if(!e)return{start:null,end:null};return{start:`${e.start.year}-${String(e.start.month).padStart(2,"0")}-${String(e.start.day).padStart(2,"0")}`,end:e.end?`${e.end.year}-${String(e.end.month).padStart(2,"0")}-${String(e.end.day).padStart(2,"0")}`:null}},wn=e=>{if(!e)return{adultTravelerCounts:[1],childTravelerCounts:[0],childrenAges:[[]],totalTravelerCount:1,roomCount:0,petCounts:[0]};const n=(e=>"rooms"in e?e.rooms.map(e=>e.adults):[e.adults||0])(e),t=(e=>{var n;return"rooms"in e?e.rooms.map(e=>{var n;return(null==(n=e.childrenAges)?void 0:n.length)||0}):[(null==(n=e.childrenAges)?void 0:n.length)||0]})(e),a=(e=>"rooms"in e?e.rooms.map(e=>e.childrenAges):[e.childrenAges])(e),i=(e=>("rooms"in e?e.rooms:[e]).reduce((e,n)=>{var t;return e+n.adults+((null==(t=n.childrenAges)?void 0:t.length)||0)},0))(e),l=(e=>{var n;return"rooms"in e?null==(n=e.rooms)?void 0:n.length:1})(e),r=(e=>"rooms"in e?e.rooms.map(e=>e.pets?1:0):[e.pets?1:0])(e);return{adultTravelerCounts:n,childTravelerCounts:t,childrenAges:a,totalTravelerCount:i,roomCount:l,petCounts:r}},Wn=a.createContext({state:{},dispatch:()=>{}}),Vn=e=>{var n,t,a,i,l,r;if(e)return"rooms"in e?{type:"rooms",rooms:e.rooms.map(e=>{var n,t,a,i,l;return{adults:e.adults,children:{count:null!=(t=null==(n=e.childrenAges)?void 0:n.length)?t:0,ages:null!=(a=e.childrenAges)?a:[]},infants:{count:(null!=(i=e.infantsInSeat)?i:0)+(null!=(l=e.infantsOnLap)?l:0),ages:[]}}})}:{type:"basic",basic:{adults:e.adults,children:{count:null!=(t=null==(n=e.childrenAges)?void 0:n.length)?t:0,ages:null!=(a=e.childrenAges)?a:[]},infantsInSeat:{count:null!=(i=e.infantsInSeat)?i:0,ages:[]},infantsOnLap:{count:null!=(l=e.infantsOnLap)?l:0,ages:[]},pets:null!=(r=e.pets)&&r}}},Hn=(e,n)=>{var t,a,i,l,r,d,o,s,c,m,u,v,S,g,k,p;const{type:y}=n;if("UPDATE_DATES"===y)return{...e,dates:{start:n.start,end:n.end}};if("UPDATE_PARTIAL_STAY_DATES"===y)return{...e,partialStaysDates:{start:n.start,end:n.end}};if("UPDATE_TRAVELERS"===y)return{...e,legacyTravelers:wn(null==(t=n.travelers)?void 0:t.travelers)};if("UPDATE_TRAVELERS_BASIC"===y){const t="basic"===(null==(a=e.travelers)?void 0:a.type)?e.travelers.basic:void 0,d={adults:null!=(i=null==t?void 0:t.adults)?i:1,children:null!=(l=null==t?void 0:t.children)?l:{count:0,ages:[]},infantsInSeat:null==t?void 0:t.infantsInSeat,infantsOnLap:null==t?void 0:t.infantsOnLap,pets:null!=(r=null==t?void 0:t.pets)&&r,...n.payload};return(null==t?void 0:t.cabinClass)&&!n.payload.cabinClass&&(d.cabinClass=t.cabinClass),{...e,travelers:{type:"basic",basic:d}}}if("UPDATE_TRAVELERS_ROOMS"===y)return{...e,travelers:{type:"rooms",rooms:n.rooms}};if("ADD_TRAVELERS_ROOM"===y){const n="rooms"===(null==(d=e.travelers)?void 0:d.type)&&null!=(o=e.travelers.rooms)?o:[],t=n.length>0?{...n[0],children:{count:0,ages:[]},infants:n[0].infants?{count:0,ages:[]}:void 0}:{adults:1,children:{count:0,ages:[]}};return{...e,travelers:{type:"rooms",rooms:[...n,t]}}}if("REMOVE_TRAVELERS_ROOM"===y){const t="rooms"===(null==(s=e.travelers)?void 0:s.type)&&null!=(c=e.travelers.rooms)?c:[];return{...e,travelers:{type:"rooms",rooms:t.filter((e,t)=>t!==n.roomIndex)}}}if("UPDATE_CABIN_CLASS"===y)return"basic"===(null==(m=e.travelers)?void 0:m.type)&&e.travelers.basic?{...e,travelers:{type:"basic",basic:{...e.travelers.basic,cabinClass:n.cabinClass}}}:e;if("UPDATE_DATES_AND_TRAVELERS"===y){const t=void 0!==(null==(u=n.travelers)?void 0:u.travelers),a=void 0!==(null==(v=n.travelers)?void 0:v.dateRange),i=t?wn(n.travelers.travelers):e.legacyTravelers,l=t?Vn(n.travelers.travelers):e.travelers,r=a?Un(n.travelers.dateRange):e.dates;return{...e,travelers:l,legacyTravelers:i,dates:r}}if("UPDATE_DESTINATION"===y||"UPDATE_ORIGIN"===y){const{location:t}=n;return{...e,["UPDATE_DESTINATION"===y?"destination":"origin"]:t}}if("UPDATE_FULL_DETAILS_FLIGHTS"===y){const{details:t}=n,{startDate:a,endDate:i,cabinClass:l,tripType:r,legs:d}=t,o=wn(null==t?void 0:t.travelers),s=Vn(null==t?void 0:t.travelers);let c;c=a&&i?Un({start:a,end:i}):a?Un({start:a,end:a}):{start:null,end:null};const m=null==d?void 0:d[0],u=(null==m?void 0:m.origin)?An(m.origin):e.origin,v=(null==m?void 0:m.destination)?An(m.destination):e.destination;return{...e,origin:u,destination:v,travelers:s,legacyTravelers:o,dates:c,cabinClass:l,tripType:r,flightLegs:d}}if("UPDATE_FULL_DETAILS_CARS"===y){const t=wn(null==(S=n.details)?void 0:S.travelers),a=null==(g=n.details)?void 0:g.pickUpTime,i=null==(k=n.details)?void 0:k.dropOffTime,l=a&&i?Un({start:{day:a.day,month:a.month,year:a.year},end:{day:i.day,month:i.month,year:i.year}}):{start:null,end:null},r=a?Cn(a):void 0,d=i?Cn(i):void 0,o=()=>{var t,a,i;if(null==(t=n.details)?void 0:t.isRoundTrip){return{term:"",data:{__typename:"SearchLocationBasicItem",airportCode:null,coordinates:null,geoType:null,graphic:null,locationFullName:"",itemAccessibilityText:"",primaryText:"",propertyId:null,remove:null,secondaryText:null,analyticsInfo:null,impressionAnalytics:null,regionId:null}}}return(null==(a=n.details)?void 0:a.dropOffLocation)?An(null==(i=n.details)?void 0:i.dropOffLocation):e.origin};return{...e,origin:null==(p=n.details)?void 0:p.pickUpLocation,destination:o(),legacyTravelers:t,dates:l,pickUpTime:r,dropOffTime:d}}return"UPDATE_PICK_UP_TIME"===y?{...e,pickUpTime:n.pickUpTime}:"UPDATE_DROP_OFF_TIME"===y?{...e,dropOffTime:n.dropOffTime}:e},zn=e=>{const{children:n}=e,[t,i]=a.useReducer(Hn,{}),l=a.useMemo(()=>({state:t,dispatch:i}),[t]);return a.createElement(Wn.Provider,{value:l},n)},qn=()=>a.useContext(Wn);function Qn(e){var n,t,a,i,l,r,d,o;if(e){if("basic"===e.type&&e.basic){const{basic:s}=e,c=null!=(t=null==(n=s.children)?void 0:n.count)?t:0,m=null!=(i=null==(a=s.infantsInSeat)?void 0:a.count)?i:0,u=null!=(r=null==(l=s.infantsOnLap)?void 0:l.count)?r:0,v=s.adults+c+m+u;return{adultTravelerCounts:[s.adults],childTravelerCounts:[c],childrenAges:[null!=(o=null==(d=s.children)?void 0:d.ages)?o:[]],petCounts:s.pets?[1]:[0],infantsOnLapCounts:[u],infantsInSeatCounts:[m],roomCount:1,totalTravelerCount:v}}if("rooms"===e.type&&e.rooms){const n=[],t=[],a=[];let i=0;return e.rooms.forEach(e=>{var l,r;n.push(e.adults),t.push(e.children.count),a.push(e.children.ages),i+=e.adults+e.children.count+(null!=(r=null==(l=e.infants)?void 0:l.count)?r:0)}),{adultTravelerCounts:n,childTravelerCounts:t,childrenAges:a,roomCount:e.rooms.length,totalTravelerCount:i}}}}function Kn(e){var n,t,a,i,l,r,d,o,s,c,m,u;if(!e)return;const v=null!=(n=e.roomCount)?n:1,S=null!=(t=e.adultTravelerCounts)?t:[2],g=null!=(a=e.childTravelerCounts)?a:[0],k=null!=(i=e.childrenAges)?i:[[]];if(1===v){return{type:"basic",basic:{adults:null!=(l=S[0])?l:2,children:{count:null!=(r=g[0])?r:0,ages:null!=(d=k[0])?d:[]},pets:(null!=(s=null==(o=e.petCounts)?void 0:o[0])?s:0)>0}}}const p=[];for(let y=0;y<v;y+=1)p.push({adults:null!=(c=S[y])?c:2,children:{count:null!=(m=g[y])?m:0,ages:null!=(u=k[y])?u:[]}});return{type:"rooms",rooms:p}}var jn=e=>{var n,t,a,i,l,r,d;if(e)return"rooms"===e.type&&e.rooms?{rooms:e.rooms.map(e=>{var n,t;return{adults:e.adults,childrenAges:e.children.ages,pets:!1,infantsInSeat:null!=(t=null==(n=e.infants)?void 0:n.count)?t:0,infantsOnLap:0}})}:"basic"===e.type&&e.basic?{adults:e.basic.adults,childrenAges:null!=(t=null==(n=e.basic.children)?void 0:n.ages)?t:[],pets:null!=(a=e.basic.pets)&&a,infantsInSeat:null!=(l=null==(i=e.basic.infantsInSeat)?void 0:i.count)?l:0,infantsOnLap:null!=(d=null==(r=e.basic.infantsOnLap)?void 0:r.count)?d:0}:void 0},Yn=()=>{const e=qn(),n=(0,b.kW)(),t=a.useRef(null),i=a.useRef(null);a.useEffect(()=>{const a=e.state.travelers;if(a!==t.current){if(a&&i.current){const e=Qn(a);if(e&&JSON.stringify(e)===JSON.stringify(i.current))return void(t.current=a)}if(a){const e=Qn(a);if(e){t.current=a,i.current=e;const l={travelers:jn(a)};n.dispatch({type:"UPDATE_TRAVELERS",travelers:l})}}}},[e.state.travelers,n.dispatch]),a.useEffect(()=>{const a=n.state.travelers;if(a!==i.current){if(a&&t.current){const e=Kn(a);if(e&&(l=e,r=t.current,l===r||l&&r&&l.type===r.type&&("basic"===l.type&&"basic"===r.type?l.basic&&r.basic&&l.basic.adults===r.basic.adults&&(null!=(d=l.basic.pets)&&d)===(null!=(o=r.basic.pets)&&o)&&(null!=(c=null==(s=l.basic.children)?void 0:s.count)?c:0)===(null!=(u=null==(m=r.basic.children)?void 0:m.count)?u:0)&&JSON.stringify(null!=(S=null==(v=l.basic.children)?void 0:v.ages)?S:[])===JSON.stringify(null!=(k=null==(g=r.basic.children)?void 0:g.ages)?k:[])&&(null!=(y=null==(p=l.basic.infantsInSeat)?void 0:p.count)?y:0)===(null!=(E=null==(f=r.basic.infantsInSeat)?void 0:f.count)?E:0)&&JSON.stringify(null!=(F=null==(h=l.basic.infantsInSeat)?void 0:h.ages)?F:[])===JSON.stringify(null!=(N=null==(D=r.basic.infantsInSeat)?void 0:D.ages)?N:[])&&(null!=(_=null==(T=l.basic.infantsOnLap)?void 0:T.count)?_:0)===(null!=(b=null==(I=r.basic.infantsOnLap)?void 0:I.count)?b:0)&&JSON.stringify(null!=(L=null==(C=l.basic.infantsOnLap)?void 0:C.ages)?L:[])===JSON.stringify(null!=(G=null==(A=r.basic.infantsOnLap)?void 0:A.ages)?G:[]):"rooms"===l.type&&"rooms"===r.type&&l.rooms&&r.rooms&&l.rooms.length===r.rooms.length&&l.rooms.every((e,n)=>{var t,a,i,l,d,o,s,c;const m=r.rooms[n];return e.adults===m.adults&&e.children.count===m.children.count&&JSON.stringify(e.children.ages)===JSON.stringify(m.children.ages)&&(null!=(a=null==(t=e.infants)?void 0:t.count)?a:0)===(null!=(l=null==(i=m.infants)?void 0:i.count)?l:0)&&JSON.stringify(null!=(o=null==(d=e.infants)?void 0:d.ages)?o:[])===JSON.stringify(null!=(c=null==(s=m.infants)?void 0:s.ages)?c:[])}))))return void(i.current=a)}var l,r,d,o,s,c,m,u,v,S,g,k,p,y,f,E,h,F,D,N,T,_,I,b,C,L,A,G;if(a){const n=Kn(a);n&&(i.current=a,t.current=n,"rooms"===n.type&&n.rooms?e.dispatch({type:"UPDATE_TRAVELERS_ROOMS",rooms:n.rooms}):"basic"===n.type&&n.basic&&e.dispatch({type:"UPDATE_TRAVELERS_BASIC",payload:n.basic}))}}},[n.state.travelers,e.dispatch])},Xn=({children:e})=>((()=>{const e=qn(),n=(0,b.kW)(),t=a.useRef(null);a.useEffect(()=>{const a=e.state.dates;if((null==a?void 0:a.start)&&(null==a?void 0:a.end)){const e=n.state.dates;!(t.current&&t.current.start===a.start&&t.current.end===a.end||e&&a.start===e.start&&a.end===e.end)&&(t.current={start:a.start,end:a.end},n.dispatch({type:"UPDATE_DATES",start:a.start,end:a.end}))}},[e.state.dates,n.dispatch,n.state.dates]),a.useEffect(()=>{const a=n.state.dates;if((null==a?void 0:a.start)&&(null==a?void 0:a.end)){const n=e.state.dates;!(t.current&&t.current.start===a.start&&t.current.end===a.end||n&&a.start===n.start&&a.end===n.end)&&(t.current={start:a.start,end:a.end},e.dispatch({type:"UPDATE_DATES",start:a.start,end:a.end}))}},[n.state.dates,e.dispatch,e.state.dates])})(),(()=>{const e=qn(),n=(0,b.kW)(),t=a.useRef(null),i=a.useRef(null);a.useEffect(()=>{var a,i,l,r;const d=e.state.origin;if(d){const e=n.state.origin;!(t.current&&t.current.term===d.term&&(null==(a=t.current.data)?void 0:a.primaryText)===(null==(i=d.data)?void 0:i.primaryText)||e&&d.term===e.term&&(null==(l=d.data)?void 0:l.primaryText)===(null==(r=e.data)?void 0:r.primaryText))&&(t.current=d,n.dispatch({type:"UPDATE_ORIGIN",location:d}))}},[e.dispatch,e.state.origin]),a.useEffect(()=>{var a,i,l,r;const d=n.state.origin;if(d){const n=e.state.origin;!(t.current&&t.current.term===d.term&&(null==(a=t.current.data)?void 0:a.primaryText)===(null==(i=d.data)?void 0:i.primaryText)||n&&d.term===n.term&&(null==(l=d.data)?void 0:l.primaryText)===(null==(r=n.data)?void 0:r.primaryText))&&(t.current=d,e.dispatch({type:"UPDATE_ORIGIN",location:d}))}},[n.dispatch,n.state.origin]),a.useEffect(()=>{var t,a,l,r;const d=e.state.destination;if(d){const e=n.state.destination;!(i.current&&i.current.term===d.term&&(null==(t=i.current.data)?void 0:t.primaryText)===(null==(a=d.data)?void 0:a.primaryText)||e&&d.term===e.term&&(null==(l=d.data)?void 0:l.primaryText)===(null==(r=e.data)?void 0:r.primaryText))&&(i.current=d,n.dispatch({type:"UPDATE_DESTINATION",location:d}))}},[e.dispatch,e.state.destination]),a.useEffect(()=>{var t,a,l,r;const d=n.state.destination;if(d){const n=e.state.destination;!(i.current&&i.current.term===d.term&&(null==(t=i.current.data)?void 0:t.primaryText)===(null==(a=d.data)?void 0:a.primaryText)||n&&d.term===n.term&&(null==(l=d.data)?void 0:l.primaryText)===(null==(r=n.data)?void 0:r.primaryText))&&(i.current=d,e.dispatch({type:"UPDATE_DESTINATION",location:d}))}},[n.dispatch,n.state.destination])})(),Yn(),(()=>{const e=qn(),n=(0,b.kW)();a.useEffect(()=>{var t,a;const i=e.state.flightLegs;if(i&&i.length>0){const l=n.state.flightLegs;if(JSON.stringify(i)!==JSON.stringify(l)){const l=jn(e.state.travelers);n.dispatch({type:"UPDATE_FULL_DETAILS_FLIGHTS",details:{legs:i,tripType:e.state.tripType,cabinClass:e.state.cabinClass,travelers:l,startDate:(null==(t=e.state.dates)?void 0:t.start)?Ln(e.state.dates.start):void 0,endDate:(null==(a=e.state.dates)?void 0:a.end)?Ln(e.state.dates.end):void 0}})}}},[e.state.flightLegs,n.dispatch])})(),a.createElement(a.Fragment,null,e)),Jn=({children:e})=>a.createElement(zn,null,a.createElement(b.tb,null,a.createElement(Xn,null,e))),Zn=()=>{},et=e=>{var n;const t=qn(),a=(0,b.kW)(),i=Pn();if(e){const l=((e,n)=>{var t,a;if(!e||!n)return null;const i=Mn[n];return i?{destination:i.getDestination(e),origin:null==(t=i.getOrigin)?void 0:t.call(i,e),updateDestination:i.getUpdateDestination(e),updateOrigin:null==(a=i.getUpdateOrigin)?void 0:a.call(i,e)}:null})(i,e),r=((e,n)=>{if(!e||!n)return null;const t=$n[n];return t?{dates:t.getDates(e),updateDates:t.getUpdateDates(e)}:null})(i,e);return{globalState:t,reflectionState:a,flexState:i,actionSource:"user_input",destination:null==l?void 0:l.destination,origin:null==l?void 0:l.origin,dates:null==r?void 0:r.dates,travelers:void 0,legacyTravelers:void 0,pickUpTime:void 0,dropOffTime:void 0,cabinClass:void 0,tripType:void 0,flightLegs:void 0,partialStaysDates:void 0,updateDates:void 0,updateDestination:null!=(n=null==l?void 0:l.updateDestination)?n:Zn,updateOrigin:null==l?void 0:l.updateOrigin,updateFlexPackageDates:null==r?void 0:r.updateDates,updateTravelers:Zn,updateTravelersBasic:Zn,updateTravelersRooms:Zn,addTravelersRoom:Zn,removeTravelersRoom:Zn,updatePickUpTime:Zn,updateDropOffTime:Zn,updatePartialStayDates:Zn,updateFullDetailsFlights:Zn,updateFullDetailsCars:Zn,updateDatesAndTravelers:Zn}}return{flexState:i,dates:t.state.dates||a.state.dates,partialStaysDates:t.state.partialStaysDates||a.state.partialStaysDates,origin:t.state.origin||a.state.origin,destination:t.state.destination||a.state.destination,travelers:t.state.travelers,legacyTravelers:t.state.legacyTravelers||a.state.travelers,pickUpTime:t.state.pickUpTime||a.state.pickUpTime,dropOffTime:t.state.dropOffTime||a.state.dropOffTime,cabinClass:t.state.cabinClass||a.state.cabinClass,tripType:t.state.tripType||a.state.tripType,flightLegs:t.state.flightLegs||a.state.flightLegs,actionSource:void 0,updateFlexPackageDates:void 0,updateDates:(e,n)=>{t.dispatch({type:"UPDATE_DATES",start:e,end:n})},updatePartialStayDates:(e,n)=>{t.dispatch({type:"UPDATE_PARTIAL_STAY_DATES",start:e,end:n})},updateOrigin:e=>{t.dispatch({type:"UPDATE_ORIGIN",location:e})},updateDestination:e=>{t.dispatch({type:"UPDATE_DESTINATION",location:e})},updateTravelers:e=>{t.dispatch({type:"UPDATE_TRAVELERS",travelers:e})},updateTravelersBasic:e=>{t.dispatch({type:"UPDATE_TRAVELERS_BASIC",payload:e})},updateTravelersRooms:e=>{t.dispatch({type:"UPDATE_TRAVELERS_ROOMS",rooms:e})},addTravelersRoom:()=>{t.dispatch({type:"ADD_TRAVELERS_ROOM"})},removeTravelersRoom:e=>{t.dispatch({type:"REMOVE_TRAVELERS_ROOM",roomIndex:e})},updateFullDetailsFlights:e=>{t.dispatch({type:"UPDATE_FULL_DETAILS_FLIGHTS",details:e})},updateFullDetailsCars:e=>{t.dispatch({type:"UPDATE_FULL_DETAILS_CARS",details:e})},updateDatesAndTravelers:e=>{t.dispatch({type:"UPDATE_DATES_AND_TRAVELERS",travelers:e})},updatePickUpTime:e=>{t.dispatch({type:"UPDATE_PICK_UP_TIME",pickUpTime:e})},updateDropOffTime:e=>{t.dispatch({type:"UPDATE_DROP_OFF_TIME",dropOffTime:e})},globalState:t,reflectionState:a}},nt="EGDSBasicSelect",tt=({onChange:e,selectValue:n,emptyState:t,data:i,errorMessage:l,setInputRef:r,isPickUpTimeField:d})=>{const o=(0,s.KY)(),{pickUpTime:c,dropOffTime:m,updatePickUpTime:u,updateDropOffTime:v}=et(),{egdsElementId:S,label:g,icon:k,options:p,clickAnalytics:y,readOnly:f,disabled:E}=i,h=null!=S?S:"search_form_basic_select",F=a.useRef(null),N=a.useMemo(()=>{var e,t;return void 0!==n?n:c&&d?c:m&&!d?m:null!=(t=null==(e=null==p?void 0:p.find(e=>e.selected))?void 0:e.value)?t:void 0},[p,n]),[T,_]=a.useState(N);a.useEffect(()=>{_(void 0!==n?n:d?c:m)},[c,m,n,d]);const b=a.useCallback(()=>{if(y&&"ClientSideAnalytics"===y.__typename){const{referrerId:e,linkName:n}=y;o(e,n)}},[y,o]),C=(0,D.j)(h,n=>(_(n.target.value),void 0!==d&&(d?u(n.target.value):v(n.target.value)),e&&e(n),n));return a.useEffect(()=>{r&&r(F)},[]),(null==p?void 0:p.length)>0?a.createElement(I._,{readOnly:f,disabled:E,id:h,name:`${nt}-${h}`,label:g,icon:null==k?void 0:k.id,onClick:b,"aria-label":null!=g?g:"",onChange:C,emptyState:t,value:T,placeholder:t?g:void 0,invalid:l,domRef:F},p.map(({label:e,value:n,selected:t})=>a.createElement("option",{key:n,label:e,value:n,selected:null!=t&&t},e))):null};tt.displayName="EGDSBasicSelect";var at={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSSelectFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSSelect"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSBasicSelectFragment"},directives:[]}]}}].concat((tt.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSBasicSelectFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBasicSelect"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClientSideAnalyticsFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"disabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"readOnly"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"ClientSideAnalyticsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClientSideAnalytics"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}}],loc:{start:0,end:388,source:{body:"\n  fragment EGDSBasicSelectFragment on EGDSBasicSelect {\n    egdsElementId\n    clickAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n    icon {\n      id\n    }\n    label\n    options {\n      label\n      selected\n      value\n    }\n    disabled\n    errorMessage\n    readOnly\n    value\n  }\n\n  fragment ClientSideAnalyticsFragment on ClientSideAnalytics {\n    linkName\n    referrerId\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}}).definitions)),loc:{start:0,end:102,source:{body:"\n  fragment EGDSSelectFragment on EGDSSelect {\n    __typename\n\n    ...EGDSBasicSelectFragment\n  }\n\n  \n".concat([tt.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},it=e=>{const{data:n,fieldError:t}=e;var i,l;const r={errorMessage:t?(i=t,"EGDSBasicSelect"===n.__typename?(null==i?void 0:i.isValid)?"":null!=(l=n.errorMessage)?l:"":""):"",...e};return"EGDSBasicSelect"===n.__typename?a.createElement(tt,{...r,data:n}):null};it.displayName="SearchToolsEGDSSelect",it.fragment=at;var lt={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSRequiredInputValidationFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSRequiredInputValidation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]}]}}],loc:{start:0,end:117,source:{body:"\n  fragment EGDSRequiredInputValidationFragment on EGDSRequiredInputValidation {\n    __typename\n    errorMessage\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},rt={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSTextInputFieldFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSTextInputField"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instructions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeholder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"readOnly"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"required"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSRequiredInputValidationFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}].concat(lt.definitions)),loc:{start:0,end:254,source:{body:"\n  fragment EGDSTextInputFieldFragment on EGDSTextInputField {\n    egdsElementId\n    errorMessage\n    instructions\n    label\n    placeholder\n    readOnly\n    required\n    validations {\n      ...EGDSRequiredInputValidationFragment\n    }\n    value\n  }\n\n  \n".concat([lt.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},dt=({data:e,onChange:n,invalid:t,setInputRef:i,customValue:l})=>{const{label:r,value:d,egdsElementId:o,placeholder:s}=e,c=l||d,[m,u]=a.useState(null!=c?c:""),v=a.createRef();return a.useEffect(()=>{i&&i(v)},[]),a.createElement(C.V,{placeholder:null!=s?s:"",id:null!=o?o:"",label:r,name:null!=o?o:"",value:m,onChange:e=>{n&&n(e),u(e.target.value)},invalid:null!=t?t:"",domRef:v,"aria-label":null!=r?r:""})};dt.displayName="EGDSTextInputField",dt.fragment=rt;var ot={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"TemplateModelFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TemplateModel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]}]}}],loc:{start:0,end:76,source:{body:"\n  fragment TemplateModelFragment on TemplateModel {\n    key\n    source\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},st={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSBasicLocalizedTextFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBasicLocalizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"template"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TemplateModelFragment"},directives:[]}]}}]}}].concat(ot.definitions)),loc:{start:0,end:142,source:{body:"\n  fragment EGDSBasicLocalizedTextFragment on EGDSBasicLocalizedText {\n    template\n    models {\n      ...TemplateModelFragment\n    }\n  }\n\n  \n".concat([ot.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},ct={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSCardinalLocalizedTextFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSCardinalLocalizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TemplateModelFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"templates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CardinalTemplateFragment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"CardinalTemplateFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CardinalTemplate"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"template"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]}]}}].concat(ot.definitions)),loc:{start:0,end:307,source:{body:"\n  fragment EGDSCardinalLocalizedTextFragment on EGDSCardinalLocalizedText {\n    egdsElementId\n    text\n    models {\n      ...TemplateModelFragment\n    }\n    templates {\n      ...CardinalTemplateFragment\n    }\n  }\n\n  fragment CardinalTemplateFragment on CardinalTemplate {\n    template\n    category\n  }\n\n  \n".concat([ot.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},mt={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSCompositeLocalizedTextFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSCompositeLocalizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"template"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CompositeLocalizedTextModelFragment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"CompositeLocalizedTextModelFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CompositeLocalizedTextModel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTemplateModelsFragment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSTemplateModelsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSTemplateModels"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TemplateModelFragment"},directives:[]}]}}]}}].concat(ot.definitions)),loc:{start:0,end:456,source:{body:"\n  fragment EGDSCompositeLocalizedTextFragment on EGDSCompositeLocalizedText {\n    egdsElementId\n    text\n    template\n    models {\n      ...CompositeLocalizedTextModelFragment\n    }\n  }\n\n  fragment CompositeLocalizedTextModelFragment on CompositeLocalizedTextModel {\n    key\n    models {\n      ...EGDSTemplateModelsFragment\n    }\n  }\n\n  fragment EGDSTemplateModelsFragment on EGDSTemplateModels {\n    models {\n      ...TemplateModelFragment\n    }\n  }\n\n  \n".concat([ot.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},ut={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSLocalizedTextFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSLocalizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSBasicLocalizedTextFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSCardinalLocalizedTextFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSCompositeLocalizedTextFragment"},directives:[]}]}}].concat(st.definitions,ct.definitions,mt.definitions)),loc:{start:0,end:196,source:{body:"\n  fragment EGDSLocalizedTextFragment on EGDSLocalizedText {\n    ...EGDSBasicLocalizedTextFragment\n    ...EGDSCardinalLocalizedTextFragment\n    ...EGDSCompositeLocalizedTextFragment\n  }\n\n  \n  \n  \n".concat([st.loc.source.body,ct.loc.source.body,mt.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},vt={EXTERNAL:"_blank",INTERNAL:"_self"},St=({data:{action:{analytics:e,resource:n,target:t,accessibility:i},text:l,icon:r,iconPosition:d},inline:o=!0})=>{const c=(0,s.KY)(),u=a.useCallback(()=>{c(e.referrerId,e.linkName)},[c,e]);return a.createElement(y.i,{onClickCapture:u,inline:o},a.createElement("a",{target:vt[t],href:n.value},r&&"TRAILING"!==d&&a.createElement(m.LD,{name:r.id}),l,r&&"TRAILING"===d&&a.createElement(m.LD,{name:r.id}),i&&a.createElement(E.D,{className:"is-visually-hidden"},i)))};St.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSStandardLinkFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSStandardLink"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resource"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"analytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"iconPosition"},arguments:[],directives:[]}]}}],loc:{start:0,end:286,source:{body:"\n  fragment EGDSStandardLinkFragment on EGDSStandardLink {\n    text\n    egdsElementId\n    action {\n      accessibility\n      target\n      resource {\n        value\n      }\n      analytics {\n        linkName\n        referrerId\n      }\n    }\n    icon {\n      id\n    }\n    iconPosition\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},St.displayName="EGDSStandardLink";var gt=({data:e,inline:n,size:t})=>a.createElement(E.D,{inline:n,size:t},e.text);gt.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSPlainTextFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSPlainText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}],loc:{start:0,end:66,source:{body:"\n  fragment EGDSPlainTextFragment on EGDSPlainText {\n    text\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},gt.displayName="EGDSPlainText";var kt={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSSpannableTextInlineContentFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSSpannableTextItem"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSPlainTextFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSStandardLinkFragment"},directives:[]}]}}].concat(gt.fragment.definitions,St.fragment.definitions)),loc:{start:0,end:150,source:{body:"\n  fragment EGDSSpannableTextInlineContentFragment on EGDSSpannableTextItem {\n    ...EGDSPlainTextFragment\n    ...EGDSStandardLinkFragment\n  }\n\n  \n  \n".concat([gt.fragment.loc.source.body,St.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},pt=({data:e})=>{switch(e.__typename){case"EGDSPlainText":return a.createElement(gt,{data:e,inline:!0});case"EGDSStandardLink":return a.createElement(St,{data:e});default:return null}};pt.fragment=kt,pt.displayName="EGDSSpannableTextInlineContent";var yt={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSSpannableTextFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSSpannableText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"inlineContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSPlainTextFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSStandardLinkFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}].concat(gt.fragment.definitions,St.fragment.definitions)),loc:{start:0,end:186,source:{body:"\n  fragment EGDSSpannableTextFragment on EGDSSpannableText {\n    text\n    inlineContent {\n      ...EGDSPlainTextFragment\n      ...EGDSStandardLinkFragment\n    }\n    __typename\n  }\n  \n  \n".concat([gt.fragment.loc.source.body,St.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},ft=({data:e})=>{var n,t;return(null==(n=null==e?void 0:e.inlineContent)?void 0:n.length)?a.createElement("div",{"data-stid":"egds-spannable-text"},null==(t=null==e?void 0:e.inlineContent)?void 0:t.map((e,n)=>a.createElement(a.Fragment,{key:`inline-content-${n}`},a.createElement(pt,{data:e})," "))):null};ft.displayName="EGDSSpannableText",ft.fragment={...yt,__typename:"EGDSSpannableText"};var Et=["localhost","wwwexpediacom","shared-ui.expedia.biz"],ht=e=>{const{children:n}=e,t=Et.includes(window.location.hostname);return a.createElement(a.Fragment,null,t&&a.createElement(A.N,{margin:{blockend:"three"}},a.createElement(L.G,{theme:"warning",text:"Fallback is in use"},a.createElement(m.LD,{size:m.So.MEDIUM,name:"warning"}))),n)};ht.displayName="FallbackBadge";var Ft=({data:e,className:n,size:t})=>{var i,l;return a.createElement(G.D,{className:n,id:e.id,name:e.id,description:e.description,url:null!=(l=null==(i=e.url)?void 0:i.value)?l:void 0,size:t})};Ft.displayName="Mark",Ft.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MarkFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Mark"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HttpURI"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:142,source:{body:"\n  fragment MarkFragment on Mark {\n    description\n    id\n    url {\n      ... on HttpURI {\n        __typename\n        value\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var Dt={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"UIGraphicFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UIGraphic"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Icon"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IconFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Mark"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MarkFragment"},directives:[]}]}}]}}].concat(En.fragment.definitions,Ft.fragment.definitions)),loc:{start:0,end:148,source:{body:"\n  fragment UIGraphicFragment on UIGraphic {\n    ... on Icon {\n      ...IconFragment\n    }\n\n    ... on Mark {\n      ...MarkFragment\n    }\n  }\n  \n  \n".concat([En.fragment.loc.source.body,Ft.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Nt=({data:e,markOptions:n})=>{switch(e.__typename){case"Icon":return a.createElement(En,{data:e});case"Mark":return a.createElement(Ft,{data:e,...n});default:return null}};Nt.displayName="UIGraphic",Nt.fragment=Dt;var Tt={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EGUisMicroMessageFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGUisMicroMessage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"schemaName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messageContent"},arguments:[],directives:[]}]}}],loc:{start:0,end:99,source:{body:"\n  fragment EGUisMicroMessageFragment on EGUisMicroMessage {\n    schemaName\n    messageContent\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},_t=e=>{const n=864e5*e;return new Date((new Date).getTime()+n)},It=e=>Math.ceil(e/1e3/60/60/24),bt=({year:e,month:n,day:t})=>new Date(e,n-1,t),Ct=/[-]/,Lt=e=>{if("string"==typeof e)return n=e,Ct.test(n)?n.replace(/[-]/g,e=>String.fromCharCode(e.charCodeAt(0)-1632+48)):n;var n;const t=e.getDate().toString().padStart(2,"0"),a=(e.getMonth()+1).toString().padStart(2,"0");return`${e.getFullYear()}-${a}-${t}`},At={SUN:R.aF.SUN,MON:R.aF.MON,TUE:R.aF.TUE,WED:R.aF.WED,THU:R.aF.THU,FRI:R.aF.FRI,SAT:R.aF.SAT},Gt=e=>{var n;return!!(null==(n=null==e?void 0:e.value)?void 0:n.startsWith("0"))},Rt=(e,n,t)=>{const a=new Date(e.year,e.month,e.day);return!e.isPast&&(n&&t?a>=n&&a<=t:n&&!t?a>=n:!(!n&&t)||a<=t)},xt=e=>new Date(`${e}T00:00:00`),Ot=e=>{const n=new Date(e);return null==n||n.setDate(n.getDate()+1),n},Bt=e=>{var n,t;return null==(t=null==(n=null==e?void 0:e.toISOString())?void 0:n.match(/[0-9]{4}-[0-9]{2}-[0-9]{2}/gi))?void 0:t[0]},Pt=e=>e.locale?e.locale.replace("_","-"):"en-US",Mt=e=>({day:e.getDate(),month:e.getMonth()+1,year:e.getFullYear()}),$t=e=>({__typename:"Date",...Mt(e)}),Ut=(e,n,t)=>"flights"===e&&(null==n?void 0:n.journeyCriteria)&&n.journeyCriteria.length>0?{journeyCriteria:n.journeyCriteria.map(e=>({origin:e.origin,destination:e.destination,departureDate:e.departureDate})),flightsSearchContext:{tripType:t?"ROUND_TRIP":"ONE_WAY"}}:null,wt={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSSearchFormButtonFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSSearchFormButton"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSButtonFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"onClick"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSSubmitSearchFormActionFragment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSSubmitSearchFormActionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSSubmitSearchFormAction"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"analytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}}]}}].concat(Oe.definitions)),loc:{start:0,end:319,source:{body:"\n  fragment EGDSSearchFormButtonFragment on EGDSSearchFormButton {\n    egdsElementId\n    ...EGDSButtonFragment\n    onClick {\n      ...EGDSSubmitSearchFormActionFragment\n    }\n  }\n\n  fragment EGDSSubmitSearchFormActionFragment on EGDSSubmitSearchFormAction {\n    analytics {\n      linkName\n      referrerId\n    }\n  }\n  \n".concat([Oe.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Wt=({children:e,submitButtonProps:n,primary:t,isFullWidth:l=!1})=>a.createElement(r.y,{...n,size:i.V.LARGE,"aria-label":null!=t?t:"",isFullWidth:l},e),Vt=({data:e,isFullWidth:n=!1})=>{var t,i;const{egdsElementId:l,primary:r,disabled:d,icon:o}=e,s={id:null!=l?l:"search_button",disabled:d,type:"submit"};return a.createElement(k.LM,null,a.createElement(k.NP,null,a.createElement(Wt,{isFullWidth:!0,submitButtonProps:s,primary:r},r)),a.createElement(k.rw,null,o?a.createElement(Wt,{submitButtonProps:s,primary:r,isFullWidth:n},a.createElement(m.LD,{name:null!=(t=null==o?void 0:o.token)?t:"search",title:null!=(i=null==o?void 0:o.title)?i:"",id:null==o?void 0:o.id})):a.createElement(Wt,{submitButtonProps:s,primary:r,isFullWidth:n},r)))};Vt.displayName="EGDSSearchFormButton",Vt.fragment=wt;var Ht="EGDSSearchFormLocationField",zt=`${Ht}-Location`,qt=`${Ht}-RegionId`,Qt=`${Ht}-Lat`,Kt=`${Ht}-Long`,jt=`${Ht}-Values`,Yt=`${Ht}-Selected`,Xt=`${Ht}-AmenitiesFacilitiesGroup`,Jt=`${Ht}-LocGroup`,Zt=`${Ht}-PropertiesGoodForGroup`,ea=`${Ht}-PropertyTypeGroup`,na=`${Ht}-PropertyId`,ta=`${Ht}-PropertyFilter`,aa="EGDSSearchFormTravelersField",ia=`${aa}-Adult-Room`,la=`${aa}-ChildrenAge-Room`,ra="EGDSSearchFormTravelersField",da=`${ra}-Adult`,oa=`${ra}-ChildrenAge`,sa=`${ra}-InfantOnLapAge`,ca=`${ra}-InfantInSeatAge`,ma=`${ra}-Pets`,ua="SearchFormDurationSpanField",va=`${ua}-Min`,Sa=`${ua}-Max`,ga="EGDSBasicPill",ka={DATES_FIELD_ID:"soft_packages_date_form_field",FIELD_TYPENAME:"EGDSSearchFormDatePickerFieldSoftPackages"},pa=(e,n=0)=>"string"==typeof e&&e.includes("-")?new Date(`${e}T00:00:00`):new Date(new Date(e).setDate(new Date(e).getDate()+n)),ya=(e,n)=>e.fieldsWithErrors.find(e=>e.__typename===n),fa=(e,n="")=>{var t;return null!=(t={"origin_select-input":`${e}Origin`,"destination_select-input":`${e}Destination`,"pick_up_location-input":`${e}PickUp`,"drop_off_location-input":`${e}DropOff`,"airport_location-input":`${e}Airport`,"hotel_location-input":`${e}Hotel`,"partial_date-input":`${e}PartialStay`,"flexible_packages_flight_origin-input":`${e}Origin`,"flexible_packages_flight_destination-input":`${e}Destination`,"flexible_packages_stay_destination-input":`${e}Stay`,"flexible_packages_car_pickup_location-input":`${e}PickUp`,"flexible_packages_car_dropoff_location-input":`${e}DropOff`,flexible_packages_flight_dates:`${e}Flight`,flexible_packages_stay_dates:`${e}Stay`,flexible_packages_car_dates:`${e}Car`}[n.replace(/-\d+$/,"")])?t:e},Ea=(e,n)=>{var t;const{ageInput:a,config:i}=e||{},l=null!=(t=a.value)?t:"",r=""===l,d=Number(l),o=!Number.isNaN(d),s="number"==typeof(null==i?void 0:i.min)&&"number"==typeof(null==i?void 0:i.max);let c=!0;c=n?!o||!s||d>=i.min&&d<=i.max:!o||!s||(d<(null==i?void 0:i.min)||d>(null==i?void 0:i.max));const m=!r&&c;return{__typename:fa("EGDSNumberInputField",null==a?void 0:a.id),isValid:m,validations:{ageRange:!r&&!c}}},ha=(e,n)=>!(!e||!n)&&e===n,Fa=(e,n,t,a=!1)=>{var i,l,r;const d=null!=(i=n.value)?i:"",o=""===d;let s=!o,c=!1,m=!1;return a||(m=ha(null!=(l=null==t?void 0:t.origin)?l:"",null!=(r=null==t?void 0:t.destination)?r:""),c=!!e&&(!o&&e.value===d),s=!o&&!c&&!m),{__typename:fa("EGDSSearchFormLocationField",null==n?void 0:n.id),isValid:s,validations:{sameLocationSelected:c||m}}},Da=(e,n,t)=>{var a,i,l;const r=null!=(a=e.value)?a:"",d=""===r;if(n&&!d){const a=n.value===r,d=ha(null!=(i=null==t?void 0:t.origin)?i:"",null!=(l=null==t?void 0:t.destination)?l:"");return{__typename:fa("EGDSSearchFormLocationField",null==e?void 0:e.id),isValid:!a&&!d,validations:{sameLocationSelected:a||d}}}return{__typename:fa("EGDSSearchFormLocationField",null==e?void 0:e.id),isValid:!d}},Na=(e,n,t,a)=>{var i,l;const r=null==e?void 0:e.value,d=null==n?void 0:n.value,o=pa(null!=r?r:""),s=pa(null!=d?d:""),c=!r,m=!(e&&!n)&&!d,u=t.validateWhenEmpty&&(c||m),v=0!==t.maxNumberOfDaysSelected&&s>=pa(o,t.maxNumberOfDaysSelected),S=o.getTime()===s.getTime(),g=s<o,k=g&&null!=(i=null==n?void 0:n.getAttribute("name"))?i:void 0,{allowSameDateSelect:p,minStartDayRange:y=0}=t,f=!(!y&&0===y)&&((e,n)=>{const t=new Date,a=pa(new Date(t.setDate(t.getDate()+(n-1))));return e.getTime()<=a.getTime()})(o,y),E=!!(null==(l=t.softPackageValidation)?void 0:l.isSoftPackagesSelected)&&((e,n)=>{if(!n)return!1;const{day:t,month:a,year:i}=n,l=new Date(i,a-1,t);return e.getTime()<l.getTime()})(o,t.softPackageValidation.validDaysLowerBoundInclusive),h=S&&!!a&&a===ka.DATES_FIELD_ID,F=!v&&(p||!S||h)&&!g&&!u&&!f&&!E;return{__typename:fa("EGDSSearchFormDatePickerField",null!=a?a:null==e?void 0:e.id),isValid:F,validations:{maxDate:v,sameDate:S,endDateBeforeStartDate:g,emptyDate:u,startDateOutsideMinRange:f,softPackageDateTooEarly:E,invalidDateInputFieldName:k}}},Ta=e=>{let n=parseInt(e.substr(0,2),10);const t=parseInt(e.substr(2,2),10);return e.includes("PM")&&12!==n&&(n+=12),e.includes("AM")&&12===n&&(n-=12),{hours:n,minutes:t}},_a=e=>{if(!e)return{__typename:"EGDSSearchFormTravelersField",isValid:!0};const{totalTravelers:n,childCountWithoutAge:t=0,config:a}=e,i=t>0;if(void 0!==a&&void 0!==n){const{maxTotalTravelers:e}=a,t=n>e;return{__typename:"EGDSSearchFormTravelersField",isValid:!(t||i),validations:{maxTotalTravelers:t,missingChildAges:i}}}return{__typename:"EGDSSearchFormTravelersField",isValid:!i,validations:{maxTotalTravelers:!1,missingChildAges:i}}},Ia=(e,n)=>{const{value:t,id:a}=e;return{__typename:fa(n,a),isValid:""!==t}},ba=(e,n=!1,t=!1,a=!0)=>{var i,l,r;const{location:d,dates:o,age:s,time:c,travelers:m}=e,{config:u}=d,{startDateInput:v,endDateInput:S,partialStayStartDateInput:g,partialStayEndDateInput:k,softPackagesStartDateInput:p,softPackageEndDateInput:y,config:f}=o,E=d.origin?[Da(d.origin,n&&null!=(i=d.destination)?i:null,null==u?void 0:u.airportCode),Na(v,S,f)]:[Na(v,S,f)];if(d.destination&&E.push(Fa(d.origin,d.destination,null==u?void 0:u.airportCode,n)),s&&E.push(Ea(s,!0)),c){pa(null!=(l=o.startDateInput.value)?l:""),null==(r=null==c?void 0:c.pickup)||r.value;E.push({__typename:"EGDSBasicSelectPickUp",isValid:!0},((e,n,t)=>{var a,i;const{startDateInput:l,endDateInput:r}=t,d=pa(null!=(a=null==l?void 0:l.value)?a:""),o=pa(null!=(i=null==r?void 0:r.value)?i:""),s=null==e?void 0:e.value,c=null==n?void 0:n.value;if(!s||!c)return{__typename:"EGDSBasicSelectDropOff",isValid:!0};const m=Ta(s);d.setHours(m.hours,m.minutes);const u=Ta(c);o.setHours(u.hours,u.minutes);const v=o>d;return d.setTime(d.getTime()+72e5),{__typename:"EGDSBasicSelectDropOff",isValid:v&&o>=d}})(c.pickup,c.dropOff,o))}if(k&&g){const e=Na(g,k,f,"partial_date-input"),n=((e,n)=>{var t,a,i,l,r,d,o,s;const c=pa(null!=(a=null==(t=e.startDate)?void 0:t.value)?a:""),m=pa(null!=(l=null==(i=e.endDate)?void 0:i.value)?l:""),u=pa(null!=(d=null==(r=n.startDate)?void 0:r.value)?d:""),v=pa(null!=(s=null==(o=n.endDate)?void 0:o.value)?s:"");return c<u||m>v})({startDate:g,endDate:k},{startDate:v,endDate:S});E.push({...e,isValid:e.isValid&&!n,validations:{...e.validations,dateOutsideTripRange:n}})}const h=(({softPackagesStartDateInput:e,softPackageEndDateInput:n,startDateInput:t,endDateInput:a,config:i,isSoftPackagesAddonSelected:l,softPackagesHaveDates:r})=>{var d,o,s,c;const m=[];if(l&&r&&e&&n){const t=!e||!(null==e?void 0:e.value),a=!n||!(null==n?void 0:n.value);(t||a)&&m.push({__typename:fa(ka.FIELD_TYPENAME,ka.DATES_FIELD_ID),isValid:!1,validations:{emptyDate:!0}})}if(e&&n){const l=Na(e,n,i,ka.DATES_FIELD_ID),r=pa(null!=(d=null==e?void 0:e.value)?d:"")<pa(null!=(o=null==t?void 0:t.value)?o:"")||!!a&&pa(null!=(s=null==n?void 0:n.value)?s:"")>pa(null!=(c=null==a?void 0:a.value)?c:"");m.push({...l,__typename:fa(ka.FIELD_TYPENAME,ka.DATES_FIELD_ID),isValid:l.isValid&&!r,validations:{...l.validations,dateOutsideTripRange:r}})}return m})({softPackagesStartDateInput:p,softPackageEndDateInput:y,startDateInput:v,endDateInput:S,config:f,isSoftPackagesAddonSelected:t,softPackagesHaveDates:a});return E.push(...h),m&&E.push(_a(m)),d.originSelect&&E.push(Ia(d.originSelect,"AllInclusiveVacationsSearchFormOrigin")),d.destinationSelect&&E.push(Ia(d.destinationSelect,"AllInclusiveVacationsSearchFormDestination")),E.filter(e=>!e.isValid)},Ca=e=>{var n,t;const{location:a,dates:i,travelers:l}=e,{config:r}=a,{dateInputs:d,config:o}=i,s=[];if(a.origin){a.origin.map((e,n)=>({__typename:`${fa("EGDSSearchFormLocationField",null==e?void 0:e.id)}-leg${n}`,isValid:""!==(null==e?void 0:e.value)})).forEach(e=>s.push(e))}if(a.destination&&(null==(n=a.origin)||n.forEach((e,n)=>{var t,i,l;const d=null==(t=a.destination)?void 0:t[n];s.push(((e,n,t,a)=>{var i,l,r;const d=null!=(i=n.value)?i:"",o=""===d,s=!!e&&!o&&e.value===d,c=ha(null!=(l=null==a?void 0:a.origin)?l:"",null!=(r=null==a?void 0:a.destination)?r:""),m=!o&&!s&&!c;return{__typename:`${fa("EGDSSearchFormLocationField",null==n?void 0:n.id)}-leg${t}`,isValid:m,validations:{sameLocationSelected:s||c}}})(e,d,n,null==(l=null==(i=null==r?void 0:r.locationFlightsConfig)?void 0:i[n])?void 0:l.airportCode))})),null==d?void 0:d.length){const e=new Set;for(let n=0;n<d.length-1;n+=1)for(let a=n+1;a<d.length;a+=1){const i=d[n],l=d[a],r=Na(i,l,o),c=null==(t=r.validations)?void 0:t.invalidDateInputFieldName;c&&!e.has(c)?(e.add(c),s.push(r)):c||s.push(r)}}return l&&s.push(_a(l)),s.filter(e=>!e.isValid)},La=(e,n,t)=>{var a,i,l,r,d,o,s,c;const m=pa(null!=(i=null==(a=e.startDateInput)?void 0:a.value)?i:""),u=pa(null!=(r=null==(l=e.endDateInput)?void 0:l.value)?r:""),v=pa(null!=(o=null==(d=n.startDateInput)?void 0:d.value)?o:""),S=pa(null!=(c=null==(s=n.endDateInput)?void 0:s.value)?c:""),g=m<v||u>S;return{__typename:"stay"===t?"EGDSSearchFormDatePickerFieldStay":"EGDSSearchFormDatePickerFieldCar",isValid:!g,validations:{dateOutsideTripRange:g}}},Aa=e=>{var n,t,a,i,l,r,d,o,s,c,m,u;const{flight:v,stay:S,car:g,travelers:k,matchCriteria:p}=e,y=[],f=(null==p?void 0:p.stayMatchesFlight)&&v,E=(null==p?void 0:p.carMatchesFlight)&&v||(null==p?void 0:p.carMatchesStay)&&S;if(v&&((null==(n=v.origin)?void 0:n.input)&&y.push(Da(v.origin.input,null!=(a=null==(t=v.destination)?void 0:t.input)?a:null,null==(i=v.origin.config)?void 0:i.airportCode)),(null==(l=v.destination)?void 0:l.input)&&y.push(Fa(null==(r=v.origin)?void 0:r.input,v.destination.input,null==(d=v.destination.config)?void 0:d.airportCode)),v.dates&&y.push(Na(v.dates.startDateInput,v.dates.endDateInput,v.dates.config,"flexible_packages_flight_dates"))),S&&!f&&((null==(o=S.destination)?void 0:o.input)&&y.push(Fa(void 0,S.destination.input,null==(s=S.destination.config)?void 0:s.airportCode)),S.dates&&(y.push(Na(S.dates.startDateInput,S.dates.endDateInput,S.dates.config,"flexible_packages_stay_dates")),(null==v?void 0:v.dates)&&y.push(La(S.dates,v.dates,"stay")))),g&&!E){if((null==(c=g.pickup)?void 0:c.input)&&y.push(Da(g.pickup.input,null,null==(m=g.pickup.config)?void 0:m.airportCode)),g.dates){y.push(Na(g.dates.startDateInput,g.dates.endDateInput,g.dates.config,"flexible_packages_car_dates"));const e=null!=(u=null==v?void 0:v.dates)?u:null==S?void 0:S.dates;e&&y.push(La(g.dates,e,"car"))}g.age&&y.push(Ea(g.age,!1))}return k&&y.push(_a(k)),y.filter(e=>!e.isValid)},Ga=e=>n=>n.getAttribute("name")===e,Ra=e=>e.reduce((e,n)=>(e=>e instanceof HTMLInputElement&&(/^null-\d+$/.test(e.id)||e.id.includes("traveler_selector_")||void 0!==e.dataset.stid&&/^EGDSSearchFormTravelersField-(Adult|Children|Infant)[\w-]+$/.test(e.dataset.stid)))(n)?e+(e=>{if(void 0!==e.dataset.stid&&/^EGDSSearchFormTravelersField-(Children|Infant)[\w-]+$/.test(e.dataset.stid))return 1;const n=parseFloat(e.value);return Number.isNaN(n)?0:n})(n):e,0),xa=e=>e.reduce((e,n)=>n.name&&n.name.startsWith(la)&&""===n.value?e+1:e,0),Oa=(e,n,t,a)=>{const i=new CustomEvent("change"),l=document.createElement("input");t&&(l.type=t),a&&l.setAttribute("id",a),l.value=e;const r=e=>{n(e)};l.addEventListener("change",r),l.dispatchEvent(i),l.removeEventListener("change",r)},Ba=a.createContext({isEnhancedDateSelectorUI:{showPopoverOffset:!1,hideDatesPlayback:!1,hideFooterSection:!1,disableAutoPosition:!1}}),Pa=()=>a.useContext(Ba),Ma=({pageLocation:e,children:n})=>{const t=(0,O.useExperiment)("Search_Form_Enhanced_Date_Picker_UI_Desktop",!1),i=(0,k.eg)({viewSizes:k.pf}),l="ENTRY"===e,r=i>k.pf.MEDIUM,d=l&&r&&t.exposure.bucket>0,o=a.useMemo(()=>({isEnhancedDateSelectorUI:{showPopoverOffset:d,hideDatesPlayback:d,hideFooterSection:d&&2===t.exposure.bucket,disableAutoPosition:d}}),[d,t.exposure.bucket]);return a.useEffect(()=>{l&&r&&t.logExperiment(t.exposure)},[t,l,r]),a.createElement(Ba.Provider,{value:o},n)},$a=e=>{const n=new Date(e);return`${n.toLocaleString("default",{month:"short"})} ${n.getUTCDate()}`},Ua=(e,n,t,a)=>{const[i,l]=e.split(" - "),{formatDateString:r}=t;if(!i||!l||!n)return"";const d=(null==a?void 0:a.start)?`, ${a.start}`:"",o=(null==a?void 0:a.end)?`, ${a.end}`:"";let s,c;try{s=`${r(i,{skeleton:"MMMd"})}${d}`,c=`${r(l,{skeleton:"MMMd"})}${o}`}catch(m){s=`${$a(i)}${d}`,c=`${$a(l)}${o}`}return Sn(n.template,n.models,[s,c])},wa=(e,n,t)=>{var a,i;const{formatDateString:l}=n,[r,d]=e.split(" - ");if(!r||!d)return"";const o=null!=(a=Va(r,n))?a:Lt(r),s=null!=(i=Va(d,n))?i:Lt(d);if(!o||!s)return"";const c=l(o,{skeleton:"MMMd"}),m=l(s,{skeleton:"MMMd"});return(null==t?void 0:t.start)&&(null==t?void 0:t.end)?`${c}, ${t.start} - ${m}, ${t.end}`:`${c} - ${m}`},Wa=(e,n,t,a)=>{const{formatDateString:i}=a,[l,r]=n.split(" - "),d=t?i(e,{skeleton:"MMMd"}):l,o=t?r:i(e,{skeleton:"MMMd"});return"Invalid date"===d||"Invalid date"===o?"":`${d} - ${o}`},Va=(e,n)=>{let t=null;try{if(t=n.parseLocalDateString(e,{raw:"yyyy-MM-dd"})||n.parseLocalDateString(e,{raw:"MM/dd/yyyy"}),!t)return null}catch(a){return null}return n.formatDate(t,{raw:"yyyy-MM-dd"})||null},Ha=e=>{const{day:n,dayData:{validStartDate:t,validEndDate:i}={}}=e,l=!Rt(n,t,i),r=a.useMemo(()=>n.isPast?"muted":n.isToday?"today":"default",[n.isPast,n.isToday]);return a.createElement(w.f,{theme:r,disabled:l},n.day)},za=(e,n)=>Rt(n,e.validStartDate,e.validEndDate);Ha.canClick=za,Ha.canSpan=za,Ha.getAriaLabel=(e,n,t)=>{const{localeDateString:a}=n;return Rt(n,e.validStartDate,e.validEndDate)?a:t.formatText("calendar.unavailable.a11yLabel",a)};var qa={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSDatePickerFlexibilityCalendarContentFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSDatePickerFlexibilityCalendarContent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"flexibleDateOptions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSBasicPillFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"formElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]}]}}]}}].concat(Dn.fragment.definitions)),loc:{start:0,end:259,source:{body:"\n  fragment EGDSDatePickerFlexibilityCalendarContentFragment on EGDSDatePickerFlexibilityCalendarContent {\n    __typename\n    flexibleDateOptions {\n      ...EGDSBasicPillFragment\n    }\n    formElementId\n    title {\n      text\n      accessibility\n    }\n  }\n  \n".concat([Dn.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Qa="EGDSDatePickerFlexibilityCalendarContent",Ka=`${Qa}-SelectedOption`,ja=({data:e,onSelect:n,currentlySelectedPillValue:t,className:i})=>{var l,r;const{isEnhancedDateSelectorUI:d}=Pa(),o=null!=(r=null==(l=null==e?void 0:e.flexibleDateOptions)?void 0:l.map(e=>{var n,a,i,l;return{selected:e.value===t,checked:e.value===t,text:null!=(n=e.primary)?n:"",disabled:e.disabled,value:null!=(a=e.value)?a:"",id:null!=(i=e.value)?i:"",altText:null!=(l=e.accessibility)?l:void 0}}))?r:[];return a.createElement(a.Fragment,null,d.hideFooterSection&&a.createElement(W.j,{blockMargin:"unset"}),a.createElement(A.N,{margin:{large:{...d.hideFooterSection?{blockstart:"three"}:{}},medium:{inlinestart:"two",blockend:"three",blockstart:"one"},small:{inlinestart:"two",blockend:"three",blockstart:"one"}}},a.createElement("div",{className:i},a.createElement(V.p,{data:o,handleSelectedPill:e=>{n(e)}}))))};ja.displayName=Qa,ja.fragment=qa;var Ya=e=>{const{flexibleCalendarProps:n}=e,t=null==n?void 0:n.data,i=null==n?void 0:n.includeFlexibleCalendarContent;return a.createElement(a.Fragment,null,i&&n&&t&&a.createElement(ja,{...n,data:t}))},Xa=({data:e,onChange:n,children:t,ariaLabel:i})=>{const{primary:l,subText:r,disabled:d,selected:o,name:c,selectedAnalytics:m,unselectedAnalytics:u}=e,v=(0,s.KY)();return a.createElement(Y.t,{id:null!=c?c:"",disabled:d,name:null!=c?c:"",checked:o,onChange:e=>{n&&n(e),(e=>{const n=e?m:u;if("ClientSideAnalytics"===(null==n?void 0:n.__typename)){const{linkName:e,referrerId:t}=n;v(t,e)}})(!o)},"aria-label":null!=i?i:`${l} ${r}`},t)};Xa.displayName="EGDSToggleButton";var Ja={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSToggleButtonGroupFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSToggleButtonGroup"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSToggleButtonFragment"},directives:[]}]}}]}}].concat((Xa.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSToggleButtonFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSToggleButton"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selectedAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"unselectedAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Icon"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"selected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"disabled"},arguments:[],directives:[]}]}}],loc:{start:0,end:350,source:{body:"\n  fragment EGDSToggleButtonFragment on EGDSToggleButton {\n    __typename\n    egdsElementId\n    primary\n    subText\n    name\n    selectedAnalytics {\n      linkName\n      referrerId\n    }\n    unselectedAnalytics {\n      linkName\n      referrerId\n    }\n    icon {\n      ... on Icon {\n        id\n        size\n      }\n    }\n    selected\n    disabled\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}}).definitions)),loc:{start:0,end:146,source:{body:"\n  fragment EGDSToggleButtonGroupFragment on EGDSToggleButtonGroup {\n    __typename\n    options {\n      ...EGDSToggleButtonFragment\n    }\n  }\n\n  \n".concat([Xa.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Za=({data:e})=>{const{options:n}=e,[t,i]=a.useState(n),l=e=>{i(n=>n.map(n=>n.name===e.target.name?{...n,selected:!n.selected}:n))};return a.createElement(X.v,{wrapButtons:!0},t.map((e,n)=>a.createElement(Xa,{key:n,data:e,onChange:l})))};Za.displayName="EGDSToggleButtonGroup";var ei={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSDatePickerFlexibleMonthsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSDatePickerFlexibleMonths"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"heading"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subHeading"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSToggleButtonGroupFragment"},directives:[]}]}}]}}].concat((Za.fragment=Ja).definitions)),loc:{start:0,end:176,source:{body:"\n  fragment EGDSDatePickerFlexibleMonthsFragment on EGDSDatePickerFlexibleMonths {\n    heading\n    subHeading\n    options {\n      ...EGDSToggleButtonGroupFragment\n    }\n  }\n  \n".concat([Za.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},ni="EGDSDatePickerFlexibleMonths",ti=`${ni}-Options`,ai=({monthSelectionButton:e,onMonthSelectionToggle:n})=>{const{icon:t,primary:i,subText:l}=e;return a.createElement(Xa,{data:e,onChange:n,ariaLabel:`${i} ${l}`},a.createElement(z.X,{direction:"column",alignItems:"center",blockSize:"full_size",justifyContent:"center"},t&&a.createElement(m.LD,{name:"Icon"===(null==t?void 0:t.__typename)?t.id:""}),i&&a.createElement(E.D,{size:100,weight:"bold",spacing:"one"},null!=i?i:""),l&&a.createElement(E.D,{size:100},null!=l?l:"")))},ii=({data:e,monthsSelectionToggleButtons:n,onMonthSelectionToggle:t})=>{const{heading:i,subHeading:l}=e,r=(0,k.eg)({viewSizes:k.pf}),d=r<=k.pf.MEDIUM,o=r<=k.pf.SMALL,s={grow:1,maxWidth:o||d?void 0:"twenty_four",minWidth:o||d?"quarter_width":void 0};return a.createElement("div",null,a.createElement(z.X,{alignItems:"center",direction:"column",space:"three"},a.createElement(q.C,null,a.createElement("div",null,a.createElement(f.M,{size:6,align:"center"},i),a.createElement(j.s,null,l)))),n&&a.createElement(k.LM,null,a.createElement(k.NP,null,a.createElement(A.N,{padding:{blockstart:"four"}},a.createElement(z.X,{direction:"row",justifyContent:"space-around",wrap:"wrap",space:"three"},null==n?void 0:n.options.map((e,n)=>a.createElement(q.C,{...s,key:n},a.createElement("div",null,a.createElement(ai,{monthSelectionButton:e,onMonthSelectionToggle:t}))))))),a.createElement(k.zQ,null,a.createElement(A.N,{padding:{blockstart:"four"}},a.createElement(Q.w,{columns:6,space:"three"},null==n?void 0:n.options.map((e,n)=>a.createElement(K.T,{...s,key:n},a.createElement("div",null,a.createElement(ai,{monthSelectionButton:e,onMonthSelectionToggle:t})))))))))};ii.displayName=ni,ii.fragment=ei;var li={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSDatePickerFlexibleNightsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSDatePickerFlexibleNights"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"heading"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"includeWeekend"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSCheckBoxFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSPillFragment"},directives:[]}]}}]}}].concat(bn.fragment.definitions,dn.fragment.definitions)),loc:{start:0,end:208,source:{body:"\n  fragment EGDSDatePickerFlexibleNightsFragment on EGDSDatePickerFlexibleNights {\n    heading\n    includeWeekend {\n      ...EGDSCheckBoxFragment\n    }\n    options {\n      ...EGDSPillFragment\n    }\n  }\n  \n  \n".concat([bn.fragment.loc.source.body,dn.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},ri="EGDSDatePickerFlexibleNights",di=`${ri}-Options`,oi=`${ri}-Weekend`,si=({data:e,onNightSelectionPillChange:n,nightsSelectionPills:t,onIncludeWeekendCheck:i,includeWeekendCheckbox:l})=>{const{heading:r}=e;return a.createElement("div",null,a.createElement(z.X,{alignItems:"center",direction:"column",space:"three"},a.createElement(q.C,null,a.createElement(f.M,{size:6},r)),a.createElement(q.C,null,a.createElement(V.p,{data:t,handleSelectedPill:n,wrap:!0,align:"center"}),";"),l&&a.createElement(q.C,null,a.createElement(dn,{data:l,onChange:i}))))};si.displayName=ri,si.fragment=li;var ci={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSDatePickerFlexibilityDatesContentFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSDatePickerFlexibilityDatesContent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nightsSelection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSDatePickerFlexibleNightsFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"monthsSelection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSDatePickerFlexibleMonthsFragment"},directives:[]}]}}]}}].concat(ii.fragment.definitions,si.fragment.definitions)),loc:{start:0,end:274,source:{body:"\n  fragment EGDSDatePickerFlexibilityDatesContentFragment on EGDSDatePickerFlexibilityDatesContent {\n    __typename\n    nightsSelection {\n      ...EGDSDatePickerFlexibleNightsFragment\n    }\n    monthsSelection {\n      ...EGDSDatePickerFlexibleMonthsFragment\n    }\n  }\n  \n  \n".concat([ii.fragment.loc.source.body,si.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},mi=({data:e,className:n,onNightSelectionPillChange:t,nightsSelectionPills:i,onIncludeWeekendCheck:l,includeWeekendCheckbox:r,monthsSelectionToggleButtons:d,onMonthSelectionToggle:o})=>{const{nightsSelection:s,monthsSelection:c}=e;return a.createElement(A.N,{padding:"four"},a.createElement("div",{className:n},s&&a.createElement(si,{data:s,onNightSelectionPillChange:t,nightsSelectionPills:i,onIncludeWeekendCheck:l,includeWeekendCheckbox:r}),a.createElement(W.j,{blockMargin:"six"}),c&&a.createElement(ii,{data:c,monthsSelectionToggleButtons:d,onMonthSelectionToggle:o})))};mi.displayName="EGDSDatePickerFlexibilityDatesContent",mi.fragment=ci;var ui={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSDatePickerFlexibilityContentFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSDatePickerFlexibilityContent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"calendarContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSDatePickerFlexibilityCalendarContentFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentSelector"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSBasicTabsFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"flexibleDatesContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSDatePickerFlexibilityDatesContentFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"flexibilityLabel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"templates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"template"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]}]}}]}}]}}].concat(un.fragment.definitions,ja.fragment.definitions,mi.fragment.definitions)),loc:{start:0,end:476,source:{body:"\n  fragment EGDSDatePickerFlexibilityContentFragment on EGDSDatePickerFlexibilityContent {\n    __typename\n    calendarContent {\n      ...EGDSDatePickerFlexibilityCalendarContentFragment\n    }\n    contentSelector {\n      ...EGDSBasicTabsFragment\n    }\n    flexibleDatesContent {\n      ...EGDSDatePickerFlexibilityDatesContentFragment\n    }\n    flexibilityLabel {\n      templates {\n        template\n        category\n      }\n      models {\n        key\n      }\n    }\n  }\n  \n  \n  \n".concat([un.fragment.loc.source.body,ja.fragment.loc.source.body,mi.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},vi={calendarTabId:"calendar-tab",flexibleTabId:"flexible-dates-tab"},Si=({data:e,children:n,className:t,onContentSelectorSelection:i,onNightSelectionPillChange:l,nightsSelectionPills:r,onIncludeWeekendCheck:d,includeWeekendCheckbox:o,monthsSelectionToggleButtons:s,onMonthSelectionToggle:c,contentSelector:m})=>{const{flexibleDatesContent:u}=e,v="EGDSBasicTabs"===(null==m?void 0:m.__typename)?m.selectedTabId:"",g=(0,a.useRef)(null),{calendarTabId:p,flexibleTabId:y}=(0,a.useMemo)(()=>{if("EGDSBasicTabs"===(null==m?void 0:m.__typename)){const{tabs:e}=m;return"EGDSBasicTab"===e[0].__typename&&"EGDSBasicTab"===e[1].__typename?{calendarTabId:e[0].tabId,flexibleTabId:e[1].tabId}:vi}return vi},[m]);(0,a.useEffect)(()=>{g.current&&(e=>{const n=new KeyboardEvent("keydown",{key:"Tab",code:"Tab",keyCode:9,bubbles:!0,cancelable:!0}),t=Array.from(e.querySelectorAll('button, input, select, textarea, [tabindex]:not([tabindex="-1"])')).filter(e=>!e.hasAttribute("disabled"));t[0].dispatchEvent(n),t[0].focus()})(g.current)},[v,p,y]);const f=a.createElement("div",{className:t,ref:g},"EGDSBasicTabs"===(null==m?void 0:m.__typename)&&a.createElement(un,{data:m,onTabSelected:i,backgroundColor:S.pD.SECONDARY,tabsType:S.Ah.EQUAL_WIDTH}),v===p&&a.createElement(a.Fragment,null,a.createElement("div",{id:p}),n),v===y&&u&&a.createElement("div",{id:y},a.createElement(mi,{data:u,onNightSelectionPillChange:l,nightsSelectionPills:r,onIncludeWeekendCheck:d,includeWeekendCheckbox:o,monthsSelectionToggleButtons:s,onMonthSelectionToggle:c})));return a.createElement(k.LM,null,a.createElement(k.NP,null,a.createElement(H.v,{direction:"vertical"},f)),a.createElement(k.rw,null,f))};Si.displayName="EGDSDatePickerFlexibilityContent";var gi=e=>{var n;const t=null==(n=e.find(e=>e.selected))?void 0:n.value;return!!t&&((null==t?void 0:t.includes("WEEK"))||(null==t?void 0:t.includes("6_DAY_LOWER,7_DAY_UPPER"))||(null==t?void 0:t.includes("MONTH")))},ki=e=>{if(e){const n=null==e?void 0:e.options.map((e,n)=>0===n||1===n?{...e,selected:!e.selected}:e);return{...e,options:[...n]}}return null},pi={...{CONTENT_SELECTOR_CHANGED:(e,{tabSelected:n})=>e.contentSelector.data?{...e,contentSelector:{...e.contentSelector,data:{...e.contentSelector.data,selectedTabId:null!=n?n:""}}}:{...e},CONTENT_SELECTOR_RESET:e=>{if(e.contentSelector.data){const{prevTabSelected:n,data:t}=e.contentSelector,{selectedTabId:a}=t;return{...e,contentSelector:{...e.contentSelector,data:{...e.contentSelector.data,selectedTabId:null!=n?n:a}}}}return{...e}},CONTENT_SELECTOR_PREV_STATE_UPDATE:(e,{prevTab:n})=>({...e,contentSelector:{...e.contentSelector,prevTabSelected:null!=n?n:e.contentSelector.prevTabSelected}})},...{NIGHTS_OPTIONS_CHANGED:(e,{nightsRangeSelected:n})=>{if(e.nightsSelection.data){const t=e.nightsSelection.data.map(e=>e.value===n?{...e,selected:!0}:{...e,selected:!1});return{...e,nightsSelection:{...e.nightsSelection,data:[...t]}}}return{...e}},NIGHTS_OPTIONS_PREV_STATE_UPDATE:(e,{prevNightsOptions:n})=>({...e,nightsSelection:{...e.nightsSelection,prevNightsRangeSelected:n}}),NIGHTS_OPTIONS_RESET:e=>{var n;return e.nightsSelection.data?{...e,nightsSelection:{...e.nightsSelection,data:null!=(n=e.nightsSelection.prevNightsRangeSelected)?n:e.nightsSelection.data}}:{...e}}},...{INCLUDE_WEEKEND_UPDATE:(e,{checked:n,enabled:t=!0})=>e.includeWeekendCheckbox.data?{...e,includeWeekendCheckbox:{...e.includeWeekendCheckbox,data:{...e.includeWeekendCheckbox.data,state:n,enabled:t}}}:{...e},INCLUDE_WEEKEND_NIGHTS_STATE_UPDATE:(e,{checked:n})=>e.includeWeekendCheckbox.data?{...e,includeWeekendCheckbox:{...e.includeWeekendCheckbox,checkboxNightsState:n}}:{...e},INCLUDE_WEEKEND_RESET:e=>{var n;return e.includeWeekendCheckbox.data?{...e,includeWeekendCheckbox:{...e.includeWeekendCheckbox,data:null!=(n=e.includeWeekendCheckbox.prevIncludeWeekendState)?n:e.includeWeekendCheckbox.data}}:{...e}},INCLUDE_WEEKEND_PREV_STATE_UPDATE:(e,{prevIncludeWeekendState:n})=>e.includeWeekendCheckbox.data?{...e,includeWeekendCheckbox:{...e.includeWeekendCheckbox,prevIncludeWeekendState:n}}:{...e}},...{MONTHS_SELECTION_UPDATE:(e,{selectedMonth:n})=>{if(e.monthsOptions.data&&n){const t=e.monthsOptions.data.options.map(e=>e.name===n?{...e,selected:!e.selected}:e);return{...e,monthsOptions:{...e.monthsOptions,data:{...e.monthsOptions.data,options:[...t]}}}}return{...e}},MONTHS_SELECTION_RESET:e=>{var n;return e.monthsOptions.data?{...e,monthsOptions:{...e.monthsOptions,data:null!=(n=e.monthsOptions.prevMonthsOptionsSelected)?n:e.monthsOptions.data}}:{...e}},MONTHS_SELECTION_PREV_STATE_UPDATE:(e,{prevMonthsOptions:n})=>({...e,monthsOptions:{...e.monthsOptions,prevMonthsOptionsSelected:n}}),MONTHS_SELECTION_DEFAULT_UPDATE:e=>{var n;return e.monthsOptions.data?{...e,monthsOptions:{...e.monthsOptions,data:{...null!=(n=ki(e.monthsOptions.data))?n:e.monthsOptions.data}}}:{...e}},MONTHS_SELECTION_OPTIONS_UPDATE:(e,{monthsSelectionOptions:n})=>e.monthsOptions.data?{...e,monthsOptions:{...e.monthsOptions,data:{...e.monthsOptions.data.options,__typename:"EGDSToggleButtonGroup",options:n}}}:{...e}},...{INITIALIZE_STATE:(e,{initialState:n})=>({...null!=n?n:e})}},yi=(e,n)=>{const t=pi[n.type];return t?t(e,n):e},fi="on_submit",Ei="on_close",hi="on_checkin_date_change",Fi=e=>{var n,t,i,l,r,d,o,c,m,u,v,S,g,p,y,f,E,h,F,N,T,_,I,b,C,L,A,G,R,x,w;const{autoOpen:W,startDate:V,endDate:H,enableSameDayDateRange:z,buttonText:q,clearButtonText:Q,inputLabel1:K,inputLabel2:j,allowClearDates:Y,validDaysLowerBoundInclusive:X,validDaysUpperBoundInclusive:J,skipQuery:Z,typename:ee,errorMessage:ne,buttonTextTemplate:te,onClearDates:ae,onSelectEndDate:ie,onSelectStartDate:le,onChangeEndDate:re,onChangeStartDate:de,onClose:oe,onOpen:se,setFieldRefByTypename:ce,onNextCalendarClick:me,onPreviousCalendarClick:ue,flexibleDateContent:ve,flexibleContentConfig:Se,dialogId:ge,startDateString:ke,endDateString:pe,showCalendar:ye,toggleCalendar:fe,showStartDateEndDateHiddenInputs:Ee,input1Stid:he,popoverWidth:Fe,onFlexibleTabSelection:De,handleCalendarScroll:Ne,enableOffset:Te,dateFormatOptions:_e={month:"short",day:"numeric"},dayNameLength:Ie="narrow",egdsElementId:be}=e,{context:Ce}=(0,P.R)(),Le=Pt(Ce),Ae=(0,s.KY)(),Ge=(0,$.useLocalization)(),Re=a.useRef(null),{isEnhancedDateSelectorUI:xe}=Pa(),{exposure:Oe,logExperiment:Be}=(0,O.useExperiment)("Auto_close_date_selector_after_end_date_selection"),Pe=(e,n)=>{const t=null!=e?e:n?bt(n):"";return t?Lt(t):null};W&&se&&se();const Me=Pe(ke,V),$e=Pe(pe,H),[Ue,we]=a.useState(Me),[We,Ve]=a.useState($e),[He,ze]=a.useState(Me),[qe,Qe]=a.useState($e),[Ke,je]=a.useState(500),[Ye,Xe]=a.useState(!1),Je="boolean"==typeof ye&&fe,[Ze,en]=a.useState(Je?ye:null!=W&&W),[nn,tn]=a.useState(Ze),[an,ln]=a.useState(!1),rn=a.useMemo(()=>J?bt(J):_t(Ke),[Ke,J]),dn=a.useMemo(()=>X?bt(X):void 0,[X]),on=a.useMemo(()=>({defaults:{validStartDate:dn,validEndDate:rn}}),[dn,rn]),[sn,cn]=a.useState("EGDSCardinalLocalizedText"===(null==te?void 0:te.__typename)?te.text:q),mn=null==(n=null==ve?void 0:ve.calendarContent)?void 0:n.flexibleDateOptions,un=null!=(t=null==mn?void 0:mn.find(e=>He&&qe?e.selected:Gt(e)))?t:null,Sn=(null==un?void 0:un.primary)?`(${un.primary})`:void 0,gn={value:null==un?void 0:un.value,hasValueChanged:!1,trailingText:un&&Gt(un)?"":Sn},[kn,pn]=a.useState(gn),yn=(0,k.eg)({viewSizes:k.pf})>=k.pf.LARGE,fn=!(!(null==ve?void 0:ve.contentSelector)||!(null==Se?void 0:Se.includeFlexibleDatesContent)),En=null==ve?void 0:ve.contentSelector,hn=(e=>{var n;return null!=(n=null==e?void 0:e.options.map(e=>{var n,t,a,i;return{selected:e.selected,checked:!1,text:null!=(n=e.primary)?n:"",disabled:e.disabled,value:null!=(t=e.value)?t:"",id:null!=(a=e.name)?a:"",altText:null!=(i=e.accessibility)?i:""}}))?n:[]})(null!=(l=null==(i=null==ve?void 0:ve.flexibleDatesContent)?void 0:i.nightsSelection)?l:null),Fn=null!=(o=null==(d=null==(r=null==ve?void 0:ve.flexibleDatesContent)?void 0:r.nightsSelection)?void 0:d.includeWeekend)?o:null,Dn=null!=(u=null==(m=null==(c=null==ve?void 0:ve.flexibleDatesContent)?void 0:c.monthsSelection)?void 0:m.options)?u:null,Nn={contentSelector:{data:null!=En?En:null},nightsSelection:{data:hn},includeWeekendCheckbox:{data:Fn,checkboxNightsState:gi(hn)?"UNCHECKED":null!=(v=null==Fn?void 0:Fn.state)?v:"UNCHECKED"},monthsOptions:{data:Dn}},[Tn,_n]=(e=>{const[n,t]=(0,a.useReducer)(yi,e);return[n,t]})(Nn),{contentSelector:In,nightsSelection:bn,includeWeekendCheckbox:Cn,monthsOptions:Ln}=Tn,An="EGDSBasicTab"===(null==(g=null==(S=In.data)?void 0:S.tabs[0])?void 0:g.__typename)?null==(y=null==(p=In.data)?void 0:p.tabs[0])?void 0:y.tabId:"date_form_nested_flexible_tab_calendar",Gn=a.useMemo(()=>{var e;return!fn||(null==(e=In.data)?void 0:e.selectedTabId)===An},[In.data]),Rn=null!=(f=(null==Se?void 0:Se.includeFlexibleDatesContent)&&!Gn)&&f,[xn,On]=a.useState(),Bn=(0,D.j)((()=>{const e=Gn&&(null==Se?void 0:Se.includeFlexibleCalendarContent)&&kn.trailingText;return Rn||e?`${ee}-Flexible`:ee})(),e=>e),[Pn,Mn]=a.useState();a.useEffect(()=>{(null==Pn?void 0:Pn.includes(Ei))&&!(null==Pn?void 0:Pn.includes(fi))?yn||(fn&&(_n({type:"CONTENT_SELECTOR_RESET"}),Ln.prevMonthsOptionsSelected&&_n({type:"MONTHS_SELECTION_RESET"}),bn.prevNightsRangeSelected&&_n({type:"NIGHTS_OPTIONS_RESET"}),Cn.prevIncludeWeekendState&&_n({type:"INCLUDE_WEEKEND_RESET"})),ze(Ue),Qe(We)):Mn(null)},[Pn]),a.useEffect(()=>{var e,n;_n({type:"INITIALIZE_STATE",initialState:Nn}),_n({type:"NIGHTS_OPTIONS_PREV_STATE_UPDATE",prevNightsOptions:hn}),_n({type:"INCLUDE_WEEKEND_PREV_STATE_UPDATE",prevIncludeWeekendState:Fn}),_n({type:"CONTENT_SELECTOR_PREV_STATE_UPDATE",prevTab:null!=(n=null==(e=In.data)?void 0:e.selectedTabId)?n:An}),_n({type:"MONTHS_SELECTION_PREV_STATE_UPDATE",prevMonthsOptions:Dn})},[ve]);a.useEffect(()=>{if(Ye){Xe(!1);let e="";He&&qe&&(e=(()=>{const e=`${He} - ${qe}`,n=wa(e,Ge),{trailingText:t}=kn;return t&&Gn&&(null==Se?void 0:Se.includeFlexibleCalendarContent)?`${n} ${t}`:e})());const n=(null==Pn?void 0:Pn.includes(fi))?"done":"close";Oa(Gn?e:null!=xn?xn:"",Bn,void 0,`${ee}_${n}`)}},[Ye,Pn]),a.useEffect(()=>{if(Me&&(ze(Me),we(Me)),$e&&(Qe($e),Ve($e)),Me||$e||(ze(""),Qe("")),J){const e=bt(J).getTime()-(new Date).getTime();je(It(e))}},[$e,Me,Z,X,J]),a.useEffect(()=>{Z||(null==un?void 0:un.value)===kn.value||pn(gn)},[un,Z]),a.useEffect(()=>{ce("EGDSSearchFormDatePickerField",Re,void 0,be)},[be]);const $n=a.useCallback(()=>{var e,n;Ze&&(null!=(n=null==(e=null==Re?void 0:Re.current)?void 0:e.getBoundingClientRect().top)?n:20)<=20&&(en(!1),document.body.click())},[Ze]);a.useEffect(()=>{if(Ze)return window.addEventListener("scroll",$n),()=>window.removeEventListener("scroll",$n)},[Ze,$n]),a.useEffect(()=>{var e;Je&&(ye&&!nn?null==(e=Re.current)||e.click():!ye&&nn&&document.body.click())},[ye,fe]),(0,M._H)(U.Jm,U.ht,{onSuccess:()=>{var e;null==(e=Re.current)||e.click()}});const Un=(e,n)=>{if("EGDSCardinalLocalizedText"===(null==te?void 0:te.__typename)&&e&&n){const t=Number(new Date(e)),a=Number(new Date(null!=n?n:"")),i=It(a-t);cn(((e,n)=>{const t=e.templates.find(e=>e.category===(e=>0===e?"ZERO":1===e?"ONE":2===e?"TWO":e>2&&e<5?"FEW":e>=5&&e<10?"MANY":"OTHER")(n));return t?vn(t.template,e.models[0].key,n.toString()):""})(te,i))}},wn=(e,n)=>{Xe(!1),ln(!0),null===e&&null!==He||ze(e),e&&(de(e),He!==e&&le()),e||(ze(""),de(""),le());const t=e&&Ot(e),a=Bt(t),i=n||a||null;n&&Be(Oe),i?(Qe(i),qe!==i&&ie(),re(i),Un(e,i)):e?ze(e):e||(Qe(""),re(""),ie())},Wn=()=>{var e;const n=null!=(e=null==mn?void 0:mn.find(e=>"0_day"===e.value))?e:null;if(n){const{value:e}=n;pn({value:e,trailingText:"",hasValueChanged:!0})}},{selectedFlexibleDatesNights:Vn,selectedFlexibleDatesMonths:Hn}=Rn?(()=>{var e,n,t,a,i,l,r;const d=null==(e=bn.data)?void 0:e.find(e=>!0===e.selected),o=(null==(n=Ln.data)?void 0:n.options)?[null==(t=null==Ln?void 0:Ln.data)?void 0:t.options[0],null==(a=null==Ln?void 0:Ln.data)?void 0:a.options[1]]:[],s=null!=(r=null==(l=null==(i=Ln.data)?void 0:i.options)?void 0:l.filter(e=>e.selected))?r:[],c=null==(m=s&&(null==s?void 0:s.length)>0?s:o)?void 0:m.map(e=>{var n,t;const a=null==(n=e.name)?void 0:n.split("_"),i=null!=(t=null==a?void 0:a.splice(a.length-2,a.length).join("_"))?t:"";return{shortMonthName:a?a[a.length-1]:"",monthsDate:i}}).filter(e=>!!e.monthsDate&&!!e.shortMonthName);var m;return{selectedFlexibleDatesNights:d,selectedFlexibleDatesMonths:c}})():{selectedFlexibleDatesNights:void 0,selectedFlexibleDatesMonths:[]};a.useEffect(()=>{Rn&&On((()=>{var e;const n=null==(e=null==ve?void 0:ve.flexibilityLabel)?void 0:e.templates,t=null==Vn?void 0:Vn.text,a=null==Hn?void 0:Hn.map(e=>e.shortMonthName),i=Dn&&a.length>0,l=i&&a.length>6?5:a.length-1,r=i&&n?n[l].template:"",d=i?[t,...a]:[];let o=r;return d.forEach((e,n)=>{var t,a;const i=null==(a=null==(t=null==ve?void 0:ve.flexibilityLabel)?void 0:t.models[n])?void 0:a.key;o=vn(o,null!=i?i:"",null!=e?e:"")}),o})())},[bn.data,Ln.data,In.data]);const zn=()=>{var e,n,t,a;if(Rn){const t=null!=(n=null==(e=Ln.data)?void 0:e.options.some(e=>e.selected))&&n;t||_n({type:"MONTHS_SELECTION_DEFAULT_UPDATE"});const a=bn.prevNightsRangeSelected!==bn.data||(null==Cn?void 0:Cn.prevIncludeWeekendState)!==(null==Cn?void 0:Cn.data)||(null==Ln?void 0:Ln.prevMonthsOptionsSelected)!==Ln.data;_n({type:"MONTHS_SELECTION_PREV_STATE_UPDATE",prevMonthsOptions:t?Ln.data:ki(Ln.data)}),_n({type:"INCLUDE_WEEKEND_PREV_STATE_UPDATE",prevIncludeWeekendState:null==Cn?void 0:Cn.data}),_n({type:"NIGHTS_OPTIONS_PREV_STATE_UPDATE",prevNightsOptions:bn.data}),Xe(a)}if(fn){const e="EGDSBasicTabs"===(null==(t=null==In?void 0:In.data)?void 0:t.__typename)?null==(a=In.data)?void 0:a.selectedTabId:"";_n({type:"CONTENT_SELECTOR_PREV_STATE_UPDATE",prevTab:e}),In.prevTabSelected!==e&&Xe(!0)}},qn=(e,n)=>{if(Mn([fi]),!yn&&fn&&zn(),!V&&!H&&e&&n)return we(e),Ve(n),void Xe(!0);e||n||Wn(),(null!=Me?Me:"")===e&&(null!=$e?$e:"")===n||(we(e),Ve(n),Xe(!0))};(0,M._H)(U.z,U.vZ,{onSuccess:({payload:e})=>{const n=e.startDate?Lt(e.startDate):null,t=e.endDate?Lt(e.endDate):null;wn(n,t),qn(n,t)}}),(0,M._H)(U.dO,U.Wj,{onSuccess:({payload:e})=>{Qn(e.flexibleOptionValue)}});const Qn=e=>{if(null==mn?void 0:mn.length){const n=mn.find(n=>n.value===e);if(n){const{selectAnalytics:e,value:t,primary:a}=n,i=Gt(n)?"":`(${a})`;pn(e=>{var n,a;const l=null!=(a=null==(n=mn.find(n=>n.value===e.value))?void 0:n.deselectAnalytics)?a:null;return l&&Ae(l.referrerId,l.linkName),{value:t,trailingText:i,prevValue:e.value,hasValueChanged:!0}}),e&&Ae(e.referrerId,e.linkName)}}},Kn={data:ve,onNightSelectionPillChange:e=>{_n({type:"NIGHTS_OPTIONS_CHANGED",nightsRangeSelected:e}),(e=>{var n,t,a;const i=bn.data.findIndex(n=>n.value===e),l=null==(a=null==(t=null==(n=null==ve?void 0:ve.flexibleDatesContent)?void 0:n.nightsSelection)?void 0:t.options[i])?void 0:a.selectAnalytics;(null==l?void 0:l.linkName)&&(null==l?void 0:l.referrerId)&&Ae(l.referrerId,l.linkName)})(e);const n=e.includes("WEEK")||e.includes("6_DAY_LOWER,7_DAY_UPPER")||e.includes("MONTH"),t=e.includes("DAY"),a=gi(bn.data);n&&_n({type:"INCLUDE_WEEKEND_UPDATE",checked:"CHECKED",enabled:!1}),t&&a&&_n({type:"INCLUDE_WEEKEND_UPDATE",checked:Cn.checkboxNightsState,enabled:!0})},nightsSelectionPills:bn.data,includeWeekendCheckbox:Cn.data,onIncludeWeekendCheck:e=>{const n=e.target.checked?"CHECKED":"UNCHECKED";_n({type:"INCLUDE_WEEKEND_NIGHTS_STATE_UPDATE",checked:n}),_n({type:"INCLUDE_WEEKEND_UPDATE",checked:n})},onMonthSelectionToggle:e=>{_n({type:"MONTHS_SELECTION_UPDATE",selectedMonth:e.target.name})},monthsSelectionToggleButtons:Ln.data,onContentSelectorSelection:e=>{var n;Ee("EGDSBasicTabs"===(null==(n=In.data)?void 0:n.__typename)&&e===An),_n({type:"CONTENT_SELECTOR_CHANGED",tabSelected:e}),e!==An&&(null==De||De())},contentSelector:In.data},jn=fn?{component:Si,props:Kn}:void 0,Yn=yn||Gn?Ya:void 0,Xn=null==Se?void 0:Se.includeFlexibleCalendarContent,Jn="EGDSBasicTabs"===(null==(E=In.data)?void 0:E.__typename)&&Gn?"":"is-visually-hidden is-hidden",Zn={data:null!=(h=null==ve?void 0:ve.calendarContent)?h:{},onSelect:Qn,currentlySelectedPillValue:null!=(F=kn.value)?F:"",className:fn?Jn:"",includeFlexibleCalendarContent:!(!(null==Se?void 0:Se.includeFlexibleCalendarContent)||!(null==ve?void 0:ve.calendarContent))},et=yn||Gn?{flexibleCalendarProps:Zn}:void 0,nt={inputName1:"EGDSDateRange-date-selector-trigger",input1Stid:null!=he?he:"default",autoCloseOnSelection:1===Oe.bucket,allowClearDates:null!=(N=Y&&Gn)&&N,clearButtonLabel:Q,dateFormatOptions:_e,dayNameLength:Ie,dayTemplateComponent:Ha,dayData:on,endDate:qe,enableSameDayDateRange:z,inputLabel1:K,inputLabel2:j,locale:Le,maxDate:rn,minDate:dn,onDateRangeChange:wn,onDateRangeClear:()=>{ze(null),Qe(null),Wn(),ae()},onClose:()=>{Je&&fe(!1);const e=Ue!==He;Mn(n=>{const t=e?[Ei,hi]:[Ei];return n?[...n,...t]:[...t]}),yn&&zn(),kn.hasValueChanged&&""!==He&&""!==qe&&(Xe(!0),pn(e=>({...e,hasValueChanged:!1}))),an&&(Xe(!0),ln(!1)),oe(),tn(!1)},onSubmit:qn,onOpen:()=>{Je&&fe(!0),se(),tn(!0),Gn||null==De||De()},invalidInput1:ne,startDate:He,submitButtonLabel:sn,useSingleTrigger:!0,initialOpenState:Ze,startDateRef:Re,onNextClicked:me,onPrevClicked:ue,onScrollHandler:Ne,handleShape:"circle",alertTemplateComponent:Yn,alertTemplateData:et,calendarWrapper:jn,trailingText1:Xn&&!Rn?null!=(T=kn.trailingText)?T:"":void 0,dialogId:ge,inputValue1:Rn?xn:void 0,popoverWidth:Fe,showOffset:xe.showPopoverOffset||Te,hideFooter:xe.hideFooterSection,showPlayback:!xe.hideDatesPlayback,autoPosition:!xe.disableAutoPosition};return a.createElement(a.Fragment,null,a.createElement(B.L,{...nt}),(null==(I=null==(_=null==ve?void 0:ve.flexibleDatesContent)?void 0:_.nightsSelection)?void 0:I.includeWeekend)&&"CHECKED"===(null==(b=null==Cn?void 0:Cn.data)?void 0:b.state)&&fn&&!Gn&&a.createElement("input",{type:"hidden","data-stid":oi,name:`${oi}-${null==(C=ve.flexibleDatesContent.nightsSelection)?void 0:C.includeWeekend.name}`,value:"INCLUDE_WEEKEND"}),(null==(A=null==(L=null==ve?void 0:ve.flexibleDatesContent)?void 0:L.nightsSelection)?void 0:A.options)&&Vn&&fn&&!Gn&&a.createElement("input",{type:"hidden","data-stid":di,name:`${di}-${Vn.id}`,value:Vn.value}),(null==(R=null==(G=null==ve?void 0:ve.flexibleDatesContent)?void 0:G.monthsSelection)?void 0:R.options)&&fn&&!Gn&&a.createElement("input",{type:"hidden","data-stid":ti,name:ti,value:Hn.map(e=>e.monthsDate).join("/")}),(null==ve?void 0:ve.calendarContent)&&Xn&&Gn&&a.createElement("input",{type:"hidden","data-stid":Ka,name:`${Ka}-${null==(x=ve.calendarContent)?void 0:x.formElementId}`,value:null!=(w=kn.value)?w:""}))},Di={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSDateRangePickerFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSDateRangePicker"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"buttonText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"buttonTextTemplate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSCardinalLocalizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"templates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"template"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"clearButtonText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstDayOfWeek"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxNumberOfDaysSelected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sameDaySelectionAllowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selectedStartDate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DateFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"startDatePlaceholderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selectedEndDate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DateFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"endDatePlaceholderText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validDaysLowerBoundInclusive"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DateFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"validDaysUpperBoundInclusive"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DateFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"submitButtonAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"nextButtonAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"previousButtonAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"startDateButtonAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"endDateButtonAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"clearDatesButtonAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"showClearDatesButton"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"flexibleDateContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSDatePickerFlexibilityContentFragment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"DateFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Date"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"day"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"month"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"year"},arguments:[],directives:[]}]}}].concat((Si.fragment=ui).definitions)),loc:{start:0,end:1325,source:{body:"\n  fragment EGDSDateRangePickerFragment on EGDSDateRangePicker {\n    buttonText\n    buttonTextTemplate {\n      ... on EGDSCardinalLocalizedText {\n        text\n        models {\n          key\n          source\n          __typename\n        }\n        templates {\n          category\n          template\n          __typename\n        }\n        __typename\n      }\n    }\n    clearButtonText\n    firstDayOfWeek\n    maxNumberOfDaysSelected\n    sameDaySelectionAllowed\n    selectedStartDate {\n      ...DateFragment\n    }\n    startDatePlaceholderText\n    selectedEndDate {\n      ...DateFragment\n    }\n    endDatePlaceholderText\n    validDaysLowerBoundInclusive {\n      ...DateFragment\n    }\n    validDaysUpperBoundInclusive {\n      ...DateFragment\n    }\n    submitButtonAnalytics {\n      linkName\n      referrerId\n    }\n    nextButtonAnalytics {\n      linkName\n      referrerId\n    }\n    previousButtonAnalytics {\n      linkName\n      referrerId\n    }\n    startDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n    endDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n    clearDatesButtonAnalytics {\n      linkName\n      referrerId\n    }\n    showClearDatesButton\n\n    flexibleDateContent {\n      ...EGDSDatePickerFlexibilityContentFragment\n    }\n  }\n\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n\n  \n".concat([Si.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ni="EGDSDatePickerFlexibleNights",Ti="EGDSDateRangePicker",_i={START_DATE_NAME_PREFIX:`${Ti}-StartDate`,END_DATE_NAME_PREFIX:`${Ti}-EndDate`,PARTIAL_STAY_START_DATE_NAME_PREFIX:"EGDSDateRangePartialStay-StartDate",PARTIAL_STAY_END_DATE_NAME_PREFIX:"EGDSDateRangePartialStay-EndDate",SOFT_PACKAGES_START_DATE_NAME_PREFIX:"EGDSDateRangePickerSoftPackages-StartDate",SOFT_PACKAGES_END_DATE_NAME_PREFIX:"EGDSDateRangePickerSoftPackages-EndDate",FLEXIBILITY_PREFIX:"EGDSDatePickerFlexibilityCalendarContent-SelectedOption",FLEXIBILITY_NIGHTS_PREFIX:`${Ni}-Options`,FLEXIBILITY_WEEKEND_PREFIX:`${Ni}-Weekend`,FLEXIBILITY_MONTHS_PREFIX:"EGDSDatePickerFlexibleMonths-Options"},Ii=e=>{var n,t,i,l;const r=(0,s.KY)(),{data:d,analytics:o,egdsElementId:c,label:m,validDaysUpperBoundInclusive:u,skipReflection:v,onOpenDatesField:S,updatePlaybackDates:g,lobName:p,enablePriceCalendar:y,priceCalendarInputs:f,dialogId:E,popoverWidth:h,onLocationChange:F,isPartialDates:N,enableOffset:T,dateFormatOptions:_,dayNameLength:I,flexSection:b}=e,{__typename:C,selectedStartDate:L,selectedEndDate:A,validDaysUpperBoundInclusive:G,validDaysLowerBoundInclusive:R,sameDaySelectionAllowed:O,clearButtonText:B,showClearDatesButton:P,startDatePlaceholderText:M,endDatePlaceholderText:$,clearDatesButtonAnalytics:U,endDateButtonAnalytics:w,startDateButtonAnalytics:W,submitButtonAnalytics:V,nextButtonAnalytics:H,previousButtonAnalytics:z,flexibleDateContent:q,buttonText:Q}=d,{dates:K,updateFlexPackageDates:j,partialStaysDates:Y,updatePartialStayDates:X,updateDates:J}=et(b),{isEnhancedDateSelectorUI:Z}=Pa(),ee=null==K?void 0:K.start,ne=null==K?void 0:K.end,te=null==Y?void 0:Y.start,ae=null==Y?void 0:Y.end,ie=N&&te?$t(xt(null!=te?te:"")):L,le=N&&ae?$t(xt(ae)):A,re=ie?Lt(bt(ie)):"",de=le?Lt(bt(le)):"",[oe,se]=a.useState({startDate:re,endDate:de}),[ce,me]=a.useState({}),ue="EGDSBasicTabs"===(null==(n=null==q?void 0:q.contentSelector)?void 0:n.__typename)?null==q?void 0:q.contentSelector.tabs:null,ve=ue&&"EGDSBasicTab"===ue[0].__typename?ue[0].tabId:"calendar-tab",[Se,ge]=a.useState("EGDSBasicTabs"!==(null==(t=null==q?void 0:q.contentSelector)?void 0:t.__typename)||(null==q?void 0:q.contentSelector.selectedTabId)===ve),ke=e=>"partial-stay-date-range-select"===c?_i[`PARTIAL_STAY_${e}_DATE_NAME_PREFIX`]:c===ka.DATES_FIELD_ID?_i[`SOFT_PACKAGES_${e}_DATE_NAME_PREFIX`]:_i[`${e}_DATE_NAME_PREFIX`],pe=e=>{var n,t;const a=null!=(n=null==e?void 0:e.referrerId)?n:"",i=null!=(t=null==e?void 0:e.linkName)?t:"";a&&i&&r(a,i)},ye=c||"date_form_field",{trackEvent:fe}=an(ye),Ee=(0,D.j)("EGDSPriceCalendar_close",e=>e),he=(0,D.j)("EGDSPriceCalendar_done",e=>e),Fe=(0,D.j)("EGDSPriceCalendar_change",e=>e),De=a.useCallback(e=>{var n,t;if(!y)return;const a={close:Ee,done:he,change:Fe},i="change"!==e?`${oe.startDate} - ${oe.endDate}`:`${oe.startDate} || ${oe.endDate} || ${null!=(n=ce.startPrice)?n:""} || ${null!=(t=ce.endPrice)?t:""}`,l=a[e];l&&Oa(i,l)},[y,oe,ce,Ee,he,Fe]),Ne=()=>{fe({},V,"closed"),De("close")},Te=()=>{var e,n,t,a,i,l,r;if(y&&F&&(null==(e=null==f?void 0:f.journeyCriteria)?void 0:e[0])){const e=f.journeyCriteria[0];F({name:"origin_select",value:e.origin}),F({name:"destination_select",value:e.destination})}null==S||S(),fe({searchRequest:{tripStartDate:null!=(n=oe.startDate)?n:"",tripEndDate:null!=(t=oe.endDate)?t:"",tripDuration:(l=null!=(a=oe.startDate)?a:"",r=null!=(i=oe.endDate)?i:"",Math.ceil((new Date(r).getTime()-new Date(l).getTime())/864e5))}},o,"opened")};a.useEffect(()=>{De("change")},[ce]);const _e={onClearDates:()=>pe(U),onSelectEndDate:()=>pe(w),onSelectStartDate:()=>pe(W),onClose:Ne,onOpen:Te,onChangeStartDate:e=>{se(n=>({...n,startDate:null!=e?e:n.startDate})),g&&g(e,!0)},onChangeEndDate:e=>{se(n=>{if(!v)if(N)X(n.startDate,e);else if(b&&j){const t=n.startDate!==ee||e!==ne;j({start:n.startDate,end:e},t?"user_input":void 0)}else J&&J(n.startDate,e);return g&&g(e,!1),{...n,endDate:null!=e?e:n.endDate}})},onNextCalendarClick:()=>{pe(H)},onPreviousCalendarClick:()=>{pe(z)},...v?{}:{startDateString:ee,endDateString:ne}},Ie={...e,...d,..._e,typename:C,startDate:ie,endDate:le,validDaysUpperBoundInclusive:null!=u?u:G,validDaysLowerBoundInclusive:R,enableSameDayDateRange:O,clearButtonText:null!=B?B:"",inputLabel1:null!=m?m:M,inputLabel2:null!=m?m:$,allowClearDates:null!=P&&P,showStartDateEndDateHiddenInputs:e=>ge(e),enableOffset:T,dateFormatOptions:_,dayNameLength:I};a.useEffect(()=>{v||N||se(e=>({...e,...ee?{startDate:ee}:{},...ne?{endDate:ne}:{}}))},[se,ee,ne,v]),a.useEffect(()=>{N&&se(e=>({...e,...te?{startDate:te}:{},...ae?{endDate:ae}:{}}))},[te,ae,N]);const be=a.useCallback(()=>Ut(p,f,!0),[p,f])(),Ce={submitButtonLabel:Q,initialStartDate:re,initialEndDate:de,dateLabel:null!=m?m:M,dialogId:E,onOpen:Te,onClose:Ne,onDateChange:(e,n,t,a)=>{se({startDate:e,endDate:n}),me({startPrice:t||void 0,endPrice:a||void 0})},onDoneButtonClick:()=>{De("done")},enableOffset:T,dateFormatOptions:_,dayNameLength:I,isEnhancedDateSelectorUI:Z};return a.createElement(a.Fragment,null,y&&p&&be?a.createElement(x.D,{lobName:p,queryInputs:be,priceCalendarPassthroughProps:Ce}):a.createElement(k.LM,null,a.createElement(k.NP,null,a.createElement(Fi,{...Ie,autoOpen:!1})),a.createElement(k.rw,null,a.createElement(Fi,{...Ie,popoverWidth:h}))),Se&&a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden","data-stid":ke("START"),name:`${ke("START")}-${c}`,value:null!=(i=oe.startDate)?i:""}),a.createElement("input",{type:"hidden","data-stid":ke("END"),name:`${ke("END")}-${c}`,value:null!=(l=oe.endDate)?l:""})))};Ii.displayName=Ti,Ii.fragment=Di;var bi=function(e){const n=(0,T.D4)();return n?`${e}-${n}`:`dialog-${n}`},Ci="EGDSSingleDatePicker",Li=`${Ci}-Date`,Ai=({analytics:e,data:n,egdsElementId:t,label:i,setFieldRefByTypename:l,errorMessage:r,index:d,autoOpen:o,dialogId:c,skipReflection:m,updatePlaybackDates:u,totalLegs:v,input1Stid:S,lobName:g,enablePriceCalendar:k,priceCalendarInputs:p,onLocationChange:y,enableOffset:f,dateFormatOptions:E={month:"short",day:"numeric"},dayNameLength:h="narrow",flexSection:F})=>{const N=(0,s.KY)(),{__typename:T,buttonText:_,selectedStartDate:I,validDaysLowerBoundInclusive:b,validDaysUpperBoundInclusive:C,startDateButtonAnalytics:L,submitButtonAnalytics:A}=n,{dates:G,updateFlexPackageDates:R}=et(F),{isEnhancedDateSelectorUI:O}=Pa(),$=null==G?void 0:G.start,[w]=a.useState(null!=o&&o),W=new Date;(new Date).setDate(W.getDate()+1);const[V,H]=a.useState((()=>{if(I)return Lt(bt(I));if(k&&"flights"===g){const e=new Date;return e.setDate(e.getDate()+14),Lt(e)}return""})()),[z,q]=a.useState(330),Q=(0,D.j)(`${T}`,e=>e),[K,j]=a.useState(!1),[Y,X]=a.useState(!1);a.useEffect(()=>{if(!m&&$?H($):I&&H(Lt(bt(I))),C){const e=bt(C).getTime()-(new Date).getTime();q(It(e))}},[Lt,I,b,C,$]),a.useEffect(()=>{if(K){j(!1);Oa(V?`${V}`:"",Q,void 0,`${T}${null!=d?d:""}_close`)}},[K]);const J=`${t}${Number.isInteger(d)?`-${d}`:""}`,{context:Z}=(0,P.R)(),ee=a.useRef(null);a.useEffect(()=>{l("EGDSSearchFormDatePickerField",ee)},[]);const ne=(e,n,t)=>{if(j(!1),X(!0),H(e),!m&&R){R({start:e},e!==$?"user_input":void 0)}u&&v&&(0===d||d===v-1)&&u(e,0===d),(e=>{var n,t;const a=null!=(n=null==e?void 0:e.referrerId)?n:"",i=null!=(t=null==e?void 0:e.linkName)?t:"";a&&i&&N(a,i)})(L);Oa(`${e} || ${null!=t?t:""}`,Q,void 0,`${T}${null!=d?d:""}_change`)},te=a.useCallback(()=>Ut(g,p,!1),[g,p]),ae=t||"date_form_field",{trackEvent:ie}=an(ae),le=()=>{var n;if(k&&y&&(null==(n=null==p?void 0:p.journeyCriteria)?void 0:n[0])){const e=p.journeyCriteria[0];y({name:"origin_select",value:e.origin}),y({name:"destination_select",value:e.destination})}ie({searchRequest:{tripStartDate:null!=V?V:""}},e,"opened")},re=()=>{ie({},A,"closed"),Y&&(j(!0),X(!1))};(0,M._H)(U.Jm,U.ht,{onSuccess:()=>{var e;null==(e=ee.current)||e.click()}});const de={isSingleDateSelection:!0,input1Stid:null!=S?S:"default",startDate:V,submitButtonLabel:_,inputLabel1:null!=i?i:void 0,maxDate:_t(z),autoCloseOnSelection:!1,allowClearDates:!1,dateFormatOptions:E,dayNameLength:h,initialOpenState:w,locale:Pt(Z),handleShape:"circle",invalidInput1:r,dialogId:c,startDateRef:ee,onDateRangeChange:ne,onOpen:le,onClose:re,endDate:null,showOffset:O.showPopoverOffset||f,hideFooter:O.hideFooterSection,showPlayback:!O.hideDatesPlayback,autoPosition:!O.disableAutoPosition},oe=te(),se={submitButtonLabel:_,initialStartDate:V,dateLabel:null!=i?i:void 0,dialogId:c,onOpen:le,onClose:re,onDateChange:ne,onDoneButtonClick:()=>{X(!1),j(!1);Oa(V?`${V}`:"",Q,void 0,`${T}${null!=d?d:""}_done`)},enableOffset:f,dateFormatOptions:E,dayNameLength:h,isEnhancedDateSelectorUI:O};return a.createElement(a.Fragment,null,k&&g&&oe?a.createElement(x.D,{lobName:g,queryInputs:oe,priceCalendarPassthroughProps:se}):a.createElement(B.L,{...de}),a.createElement("input",{type:"hidden","data-stid":Li,name:`${Li}-${J}`,value:V}))};Ai.displayName=Ci,Ai.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSSingleDatePickerFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSSingleDatePicker"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"buttonText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"firstDayOfWeek"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selectedStartDate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DateFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"validDaysLowerBoundInclusive"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DateFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"validDaysUpperBoundInclusive"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DateFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"submitButtonAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"startDateButtonAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"DateFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Date"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"day"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"month"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"year"},arguments:[],directives:[]}]}}],loc:{start:0,end:484,source:{body:"\n  fragment EGDSSingleDatePickerFragment on EGDSSingleDatePicker {\n    buttonText\n    firstDayOfWeek\n    selectedStartDate {\n      ...DateFragment\n    }\n    validDaysLowerBoundInclusive {\n      ...DateFragment\n    }\n    validDaysUpperBoundInclusive {\n      ...DateFragment\n    }\n    submitButtonAnalytics {\n      linkName\n      referrerId\n    }\n    startDateButtonAnalytics {\n      linkName\n      referrerId\n    }\n  }\n\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var Gi={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSSearchFormDatePickerFieldFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSSearchFormDatePickerField"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeholder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSMaxLengthInputValidation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSRangeInputValidation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"min"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSRequiredInputValidation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSOpenDatePickerActionFragment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSOpenDatePickerActionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSOpenDatePickerAction"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"analytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"datePicker"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSDateRangePickerFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSSingleDatePickerFragment"},directives:[]}]}}]}}].concat(Ii.fragment.definitions,Ai.fragment.definitions)),loc:{start:0,end:717,source:{body:"\n  fragment EGDSSearchFormDatePickerFieldFragment on EGDSSearchFormDatePickerField {\n    egdsElementId\n    label\n    placeholder\n    errorMessage\n    validations {\n      ... on EGDSMaxLengthInputValidation {\n        errorMessage\n      }\n      ... on EGDSRangeInputValidation {\n        errorMessage\n        min\n      }\n      ... on EGDSRequiredInputValidation {\n        errorMessage\n      }\n    }\n    action {\n      ...EGDSOpenDatePickerActionFragment\n    }\n  }\n\n  fragment EGDSOpenDatePickerActionFragment on EGDSOpenDatePickerAction {\n    accessibility\n    analytics {\n      linkName\n      referrerId\n    }\n    datePicker {\n      ...EGDSDateRangePickerFragment\n      ...EGDSSingleDatePickerFragment\n    }\n  }\n\n  \n  \n".concat([Ii.fragment.loc.source.body,Ai.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ri=e=>{const{setFieldRefByTypename:n,fieldError:t,data:i,dialogId:l,validDaysUpperBoundInclusive:r,overrideErrorMessage:d,priceCalendarProps:o,popoverWidth:s,maxDateMessage:c,enableOffset:m,dateRangeLowerBoundErrorMessage:u,flexSection:v}=e,{action:S,errorMessage:g,validations:k}=i,{lobName:p,enablePriceCalendar:y,priceCalendarInputs:f,onLocationChange:E}=null!=o?o:{},h=bi();if("EGDSOpenDatePickerAction"!==(null==S?void 0:S.__typename))return null;const F=t?(e=>{var n,t,a,l,r,o;const s=e.validations,m=null==k?void 0:k.find(e=>"EGDSRangeInputValidation"===e.__typename);if((null==s?void 0:s.sameDate)||(null==s?void 0:s.endDateBeforeStartDate)||(null==s?void 0:s.dateOutsideTripRange))return null!=(n=null!=d?d:g)?n:"";if(null==s?void 0:s.maxDate){const e=k&&"EGDSMaxLengthInputValidation"===k[0].__typename&&null!=(t=k[0].errorMessage)?t:"";return null!=c?c:e}if(null==s?void 0:s.emptyDate){const e=null==k?void 0:k.find(e=>"EGDSRequiredInputValidation"===e.__typename);if(i.egdsElementId===ka.DATES_FIELD_ID)return null!=(l=null!=(a=null==e?void 0:e.errorMessage)?a:g)?l:"";if(e)return null!=(o=null!=(r=null==e?void 0:e.errorMessage)?r:g)?o:""}return s.startDateOutsideMinRange&&m?m.errorMessage:s.softPackageDateTooEarly&&null!=u?u:""})(t):"",D={...e,analytics:S.analytics,setFieldRefByTypename:n,errorMessage:F,dialogId:l||h,enableOffset:m,dateFormatOptions:{month:"short",day:"numeric",weekday:"short"},dayNameLength:"short"};switch(S.datePicker.__typename){case"EGDSDateRangePicker":return a.createElement(Ii,{...i,...D,data:S.datePicker,validDaysUpperBoundInclusive:r,lobName:p,enablePriceCalendar:y,priceCalendarInputs:f,onLocationChange:E,popoverWidth:s,flexSection:v});case"EGDSSingleDatePicker":return a.createElement(Ai,{...i,...D,data:S.datePicker,lobName:p,enablePriceCalendar:y,priceCalendarInputs:f,onLocationChange:E,flexSection:v});default:return null}};Ri.displayName="EGDSSearchFormDatePickerField",Ri.fragment=Gi;var xi=(e=>(e.PILL="pill",e.SELECTOR="selector",e))(xi||{}),Oi="EGDSSearchFormInputFieldWithSelection",Bi=`${Oi}`,Pi=({data:e,trigger:n,triggerType:t,onOptionSelect:l,hideIcon:r,getModifiedOptions:d})=>{var o,c,m,u,v;const{egdsElementId:S,leftIcon:g,label:p}=n,{analytics:y}=e,f=e.options.filter(({__typename:e})=>"EGDSBasicOption"===e).map(e=>e),h=(0,s.KY)(),[F,T]=a.useState(!1),[_,b]=a.useState(f.findIndex(e=>e.selected)),{label:C,value:L}=null!=(o=f.find((e,n)=>n===_))?o:n,A=a.createRef(),G=a.createRef(),R=a.createRef(),x=`${Bi}-${S}`,O=(0,D.j)(x,e=>e),B=a.useCallback(e=>{e&&T(e=>!e);const{referrerId:n,linkName:t}=y;h(n,t)},[y,h]),P=()=>{T(!1)},M=(0,D.j)(x,e=>{var n,t;const a=f.find(n=>n.value===e.target.value);if(a){const{changeAnalytics:e}=a,i=null!=(n=null==e?void 0:e.referrerId)?n:"",r=null!=(t=null==e?void 0:e.linkName)?t:"";i&&r&&h(i,r),null==l||l(a)}return e}),$=()=>f.map((e,n)=>a.createElement(J.P,{selected:n===_,key:e.label},a.createElement(Z.x,null,a.createElement(i.u,{role:"menuitemradio",onClick:e=>((e,n)=>{var t,a,i,l,r,d,o,s;b(e),T(!1),Oa(f[e].value,O),h(null!=(i=null==(a=null==(t=f[e])?void 0:t.changeAnalytics)?void 0:a.referrerId)?i:"",null!=(d=null==(r=null==(l=f[e])?void 0:l.changeAnalytics)?void 0:r.linkName)?d:""),null==(o=null==A?void 0:A.current)||o.focus(),null==(s=R.current)||s.focus(),n.preventDefault()})(n,e)},e.label)),a.createElement(E.D,{size:300},e.label))),U=null!=(c=null==d?void 0:d(f))?c:f,w=a.useCallback(()=>B(!0),[B]),W=a.createElement(I._,{name:x,label:null!=p?p:"",icon:r?"":null!=(m=null==g?void 0:g.id)?m:"",domRef:G,onChange:M,onClick:w,"aria-label":null!=p?p:""},U.map(({label:e,value:n,selected:t})=>a.createElement("option",{key:n,label:e,value:n,selected:null!=t&&t},n))),V=a.createElement(N.B,{name:x,id:S,triggerPill:!0,selected:!0,toggleState:F,onClick:w,domRef:R},null!=(u=C!==p?C:L)?u:""),H=e=>a.createElement(ne.p,{id:`${S}_menu`,isOpen:F,onDismiss:P,disableBodyClickHandler:!1},a.createElement(te.N,null,V),a.createElement(ae.K,{position:ae.C.LEFT,width:e},a.createElement("div",{role:"menu"},a.createElement(ee.I,null,$()))));return a.createElement(a.Fragment,null,"pill"===t&&a.createElement(k.LM,null,a.createElement(k.NP,null,a.createElement(a.Fragment,null,H(210),a.createElement("input",{type:"hidden","data-testid":x,name:x,value:null!=L?L:""}))),a.createElement(k.rw,null,a.createElement(a.Fragment,null,H(260),a.createElement("input",{type:"hidden","data-testid":x,name:x,value:null!=L?L:""})))),"selector"===t&&a.createElement(k.LM,null,a.createElement(k.NP,null,W),a.createElement(k.zQ,null,a.createElement(a.Fragment,null,W,a.createElement("input",{type:"hidden","data-testid":x,name:x,value:null==(v=U.find(e=>e.selected))?void 0:v.value})))))};Pi.displayName=Oi,Pi.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSSearchFormSelectActionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSSearchFormSelectAction"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"analytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SearchFormSelectorOptionFragment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchFormSelectorOptionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBasicOption"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"changeAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"selected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}}],loc:{start:0,end:363,source:{body:"\n  fragment EGDSSearchFormSelectActionFragment on EGDSSearchFormSelectAction {\n    analytics {\n      linkName\n      referrerId\n    }\n\n    options {\n      ...SearchFormSelectorOptionFragment\n    }\n  }\n\n  fragment SearchFormSelectorOptionFragment on EGDSBasicOption {\n    changeAnalytics {\n      linkName\n      referrerId\n    }\n    selected\n    value\n    label\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var Mi={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSSearchFormInputFieldFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSSearchFormInputField"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeholder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"leftIcon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IconFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSSearchFormSelectActionFragment"},directives:[]}]}}]}}].concat(En.fragment.definitions,Pi.fragment.definitions)),loc:{start:0,end:245,source:{body:"\n  fragment EGDSSearchFormInputFieldFragment on EGDSSearchFormInputField {\n    egdsElementId\n    value\n    label\n    placeholder\n    leftIcon {\n      ...IconFragment\n    }\n    action {\n      ...EGDSSearchFormSelectActionFragment\n    }\n  }\n  \n  \n".concat([En.fragment.loc.source.body,Pi.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},$i=({data:e,triggerType:n,onOptionSelect:t,hideIcon:i,getModifiedOptions:l})=>{var r;return"EGDSSearchFormSelectAction"===(null==(r=e.action)?void 0:r.__typename)&&n?a.createElement(Pi,{data:e.action,trigger:e,triggerType:n,onOptionSelect:t,hideIcon:i,getModifiedOptions:l}):null};$i.displayName="EGDSSearchFormInputField",$i.fragment=Mi;var Ui={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"TravelersCompositionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FlightSearchFormTravelersComposition"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}],loc:{start:0,end:122,source:{body:"\n  fragment TravelersCompositionFragment on FlightSearchFormTravelersComposition {\n    __typename\n    label\n    title\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},wi={SEARCH_LOCATION_TYPEAHEAD_DURATION:new ie.SystemEvent(ie.SystemEventLevel.INFO,"SEARCH_LOCATION_TYPEAHEAD_DURATION")},Wi=(e,n)=>{const{name:t,regionId:a,airportCode:i,geoType:l,coordinates:r}=e;return{term:null!=t?t:"",data:{...n,__typename:"SearchLocationBasicItem",locationFullName:null!=t?t:"",primaryText:null!=t?t:"",regionId:null!=a?a:null,airportCode:null!=i?i:null,geoType:null!=l?l:null,coordinates:r?{__typename:"Coordinates",latitude:r.latitude,longitude:r.longitude}:null}}},Vi=(a.createContext({logic:null,uiState:{},uiDispatch:()=>{}}),a.createContext({impressionWrapper:void 0})),Hi=e=>e.locationFullName+(e.regionId||""),zi=(e,n)=>{function t(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}const a=t(e);return a===t(n)&&("array"===a?function(){if(e.length!==n.length)return!1;for(let t=0;t<e.length;t+=1)if(!zi(e[t],n[t]))return!1;return!0}():"object"===a?function(){const t=Object.keys(e);if(t.length!==Object.keys(n).length)return!1;for(let a=0;a<t.length;a+=1){const i=t[a];if(Object.prototype.hasOwnProperty.call(e,i)&&!zi(e[i],n[i]))return!1}return!0}():"function"===a?e.toString()===n.toString():e===n)},qi=({searchLocationContent:e,data:n})=>{var t;const{poweredBy:i=""}=null!=n?n:{};return"GOOGLE"===i?a.createElement(A.N,{padding:{blockstart:"three",inline:"four"}},a.createElement("div",null,a.createElement(z.X,{justifyContent:"end"},a.createElement(q.C,{maxWidth:144,minWidth:144},a.createElement(Se.M,{imageFit:"contain"},a.createElement(ge.F,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJAAAAASCAYAAAC0PldrAAAIHElEQVR4Ae3ZBXDbWB7H8efglpmZGW0HlhzJDpSZmZkZ3W3s2DpmZmbmKx0zM/NdoGhotxTf9x9LHY027paW85v5bBRQopn32weqasqzk5Jw7BE9nHijHo5/Rw/HfqaHYl/keldZ8GJ7qBeqZ/6PNGlPUT5DeVKNqkyc18PJ6VDPtfEfnvUJz0dmpbwfmzMW6k5YFy96pBRTkCnL4MUDiy94oS0F+ZVZlD/5qxLLfNFkz0D0fBtfKOkpCcffrFfG6vVQ4hDUc6ypQLdDFmMdMiWIcjywaOHEB8zynPEFa1pCOWnHLw2Bej5oKtDzqEC+cGyoWZ5YaTDeGer57r4LRPLRCi40liy0QR4eVB5CG2QhU3KQneG+TM/qQhvk424L1Bwt73P22d9QoFD8bVB3KxVUWTX+gqW1mvvLtbr7Z7V+z6frNM/UlFIuKAD83I2v5y69eiL3y9dPZP/s2tdyPn39ZN7UVEq5oCz8x+WvjC/SQrEv8/u/z/O9siSUKNfC8agWSbrRaIH+p3lH1Pg976jxe38gz8JzzLM/g2QhpmIuIjCwB/0cg6HjGAxEsQQtIZmCtbBnLbY4BngZptkGaQmiMHAUhbCyEJMxCxGsh6QFltruOwIv7BmEfTAQwWwsvYMCTcMqGKat6AJJCXYjD1ZcWIdZsEdK8K50gZLroez4+l4G8j1PURlfAJWaMye7Vvd+otbvTVVr7hvVmvc/ci0YyNdAidTHVPa1EzmfuH4iN0WBbnD9H7lu8PXc10CJYDCVxanvffI8nAZvloQTNenZMXYt/YyJ5Y3tgar9nkCt5n2y4Tl073+5TprPEIYSknW2ARpkWosQOkFSiijK0BtuHME2ZGMMDLSDpBMMU29bYaIYBxfW4wBGojcmw8BIWM8Vwjq40QMubMR+231TYGAYJN1QhVUYgEHYgMgdFCiCBeiLYdiJI2iO9og6St4XBgZnKpAWjm2AsmNZO+E8jdlnqzrdvS49aO4fndWLekDVlbmHMoB/MQewAorCrDML86P6E816QD35lbyhzER/SZcouwJKq0oskd9PSX9aVnm5F1RJVbKQr13IVKCU251b7Xf/WwpcqxfMkVnngm9MW+sZ6gJeD24N1BHkwUouDmI28hDGBNjTDwZGIR9hFEOiYyu2YRIkY1GFhzAABvrCnpVYbyvQAeTAyiBHKa2sNUnmY5/jvnwcvYMCbXDMmG1QBR2SJdhu+5l52NXYMsqA7EsXI/5OKBvEhnMKK7LwtePpgYy9HIpB+lbDIGmFbihLTcAzs6FAuueDUJTkW0hdO5XrhrJc/1reTPk6BfsgZMY7iZS/KumFsmihxIFMBaoNeHxmiT/6H5+7Y41esJcl7K/pmdD9N64n4tZALYQzs7EDvTMMmgtBW7GWYyUk26DDj/1wYYHt+z7bUhixMXDMVqDFznG5zX1HIdmDGbDnTvdAGpzZhGWO/2n6ojnCKIIzDNClwQ1LRmU8ETCS3aEysU5r7FHmQckAyUD9sWJgPpSlNlA4SL7O0vJNqGtfz/6bFKX+SyofyvLk1/IGNcxAX8v9JpS8QpDfX/Ha+nwoC8vplIwFYq/TUFbN+w9Zxqr93vpq3fOFWn/BJFlioYQ1UEvgzHxsRQ8Y6NdIgY6jDBI3wugGA53QxVa+IAogeQwR9EB3h27IVGwfqjLc1xWSnZgNZ5bdQYECcGabrcgubMUCPIZjtztQWPsOZpjvPRq52A7KSatKTpV3QfxcXenL61tASUFk8M7q7gIoiywl6UF1fwBKCmLONAVQlhsn8+aYX/8AVEll4pQ8h7x7grLIRj9TgWo0z8Ppsnqv1eqeyP98hX2hZClrrEDH0QpWWuIYJiMbQcx1TNWjYWCQbY8TwQbshJXdWI+obdPdEwbGwJ7ipylQH2vZdN5nK9AMHEVzx1JUeQcF2uVY+rojimJYGY8q7MdEZIy8MGTwfmHuhf5JkTbJex/fyxJdtcpLDzNob5JNrbn/mQMl2ECvNpeKn1sDV6MVjGEz/U9zWSmFYuO82tzr/PzK6fy+UFdP5o6hNP9M742ySyFL1VJrDxSIXu4NJUunvAXPVCApCfufP5p7rg1y2pMZkeswX/u+zIawF0jtwyOmvThiK5UXBhbDgwkIY7mjVKthoBRWymE0MngLbXsrN+bbS5WhQC4sRggVjvtGQ9IWQexGMR7BfjxxBwV6AptRgBIcxU7kwkoODiOCtrhtZOZhkD52m3/KiFGs+VCAdYT3fsicAer5WIcU4DGghPzcta/nfKjhFPa13HrUybW5fBlQQk5hWmXi/fL3rNnuTk5hdX6Pl79/wTwNXrJOYbIXOh9w98atgVqAx7EPx7AUHWDPSGy2la0MOY38zCp0gZWuWNXIbJONAPYhhK0YDSsTocGZbJRmuM9KJ6zAceyHD489zYyxCGMwGYdts24LOLMWi3DHkQ0sg/QqWU5KwvEf4HPMDHseDcc6QTnJUiH7EGajz8g7GPYiH2EWKoOyk/c9vAeax6zzGcryAz5+5PrJ7DIoO37QxTufhRT0C+zLvst11FrC5JQG5f7IrJd5Pjzzx56Pzh4CJc76CnryHugVPMe3OcqfYTkLymkMCpk30RnTlG62jfQLIr5gKkf+wVY29lAWWULTM2HsMah70VSgu888bIULL4hw2pqRPhEmfiMbadmbyWzE/utqSSj2nznBVB7UvWgq0N2lLSIYhxdOWL5k+Xzq/it2mdcGAah7ZV00eQlgxvFRpNfJeyc+Bn2RK32h7sf/AesqcHB02e65AAAAAElFTkSuQmCC",alt:null!=(t=null==e?void 0:e.poweredByGoogleLogoAltText)?t:""})))))):null};qi.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchLocationQueryAttributionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchLocationResults"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"poweredBy"},arguments:[],directives:[]}]}}],loc:{start:0,end:96,source:{body:"\n  fragment SearchLocationQueryAttributionFragment on SearchLocationResults {\n    poweredBy\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},qi.displayName="SearchLocationQueryAttributionFragment";var Qi={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchLocationButtonFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchLocationButton"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessibilityText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IconFragment"},directives:[]}]}}]}}].concat(En.fragment.definitions)),loc:{start:0,end:160,source:{body:"\n  fragment SearchLocationButtonFragment on SearchLocationButton {\n    __typename\n    text\n    accessibilityText\n    icon {\n      ...IconFragment\n    }\n  }\n\n  \n".concat([En.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ki=e=>{const{data:n,onClick:t}=e,{text:i,accessibilityText:l,icon:r}=n,d=(0,T.D4)();return a.createElement(c.q,{onClick:e=>{t(e)},"aria-label":l},a.createElement(En,{data:r,uniqueId:d}),i)};Ki.fragment=Qi,Ki.displayName="SearchLocationButton";var ji={ONE_ONE:Se.l.R1_1,THREE_TWO:Se.l.R3_2,THREE_FOUR:Se.l.R3_4,FOUR_ONE:Se.l.R4_1,FOUR_THREE:Se.l.R4_3,SIXTEEN_NINE:Se.l.R16_9,TWENTY_ONE_NINE:Se.l.R21_9},Yi=e=>{const{data:n}=e,{url:t,description:i,aspectRatio:l}=n;return a.createElement(Se.M,{roundcorner:["all"],ratio:l?ji[l]:Se.l.R4_3},a.createElement(ge.F,{placeholderImage:!0,src:t,alt:i}))};Yi.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ImageFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"aspectRatio"},arguments:[],directives:[]}]}}],loc:{start:0,end:81,source:{body:"\n  fragment ImageFragment on Image {\n    url\n    description\n    aspectRatio\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Yi.displayName="Image";var Xi={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchLocationGraphicFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchLocationGraphic"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IconFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ImageFragment"},directives:[]}]}}].concat(En.fragment.definitions,Yi.fragment.definitions)),loc:{start:0,end:120,source:{body:"\n  fragment SearchLocationGraphicFragment on SearchLocationGraphic {\n    ...IconFragment\n    ...ImageFragment\n  }\n  \n  \n".concat([En.fragment.loc.source.body,Yi.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ji=e=>{const{data:n,id:t}=e;switch(n.__typename){case"Icon":return a.createElement(En,{uniqueId:t,data:n});case"Image":return a.createElement(Yi,{...e,data:n});default:return null}};Ji.fragment=Xi,Ji.displayName="SearchLocationGraphic";var Zi={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchLocationBasicItemFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchLocationBasicItem"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"airportCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"coordinates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"geoType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"graphic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SearchLocationGraphicFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"itemAccessibilityText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"analyticsInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"relation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sourceName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"impressionAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"primaryText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"propertyId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"regionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locationFullName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"secondaryText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"remove"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SearchLocationButtonFragment"},directives:[]}]}}]}}].concat(Ji.fragment.definitions,Ki.fragment.definitions)),loc:{start:0,end:544,source:{body:"\n  fragment SearchLocationBasicItemFragment on SearchLocationBasicItem {\n    __typename\n    airportCode\n    coordinates {\n      latitude\n      longitude\n    }\n    geoType\n    graphic {\n      ...SearchLocationGraphicFragment\n    }\n    itemAccessibilityText\n    analyticsInfo {\n      category\n      relation\n      sourceName\n    }\n    impressionAnalytics {\n      referrerId\n      linkName\n    }\n    primaryText\n    propertyId\n    regionId\n    locationFullName\n    secondaryText\n    remove {\n      ...SearchLocationButtonFragment\n    }\n  }\n\n  \n  \n".concat([Ji.fragment.loc.source.body,Ki.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},el=e=>{const{data:n,activeItemId:t,onClick:i,includeIndendation:l=!1,onRemoveRecentSearch:r,stid:d,lob:o}=e,{primaryText:c,itemAccessibilityText:m,secondaryText:u,remove:v,graphic:S,locationFullName:g,impressionAnalytics:k,regionId:p}=n,y={linkName:(null==k?void 0:k.linkName)||"",referrerId:(null==k?void 0:k.referrerId)||""},f=`${d}-result-item`,h=`${d}-result-item-button`,F="FLIGHTS"===o||"CARS"===o?"truncate-2-lines":"truncate";return a.createElement(J.P,{spacing:"relaxed","data-stid":f,active:t===g+(p||"")},a.createElement(A.N,{margin:{inlinestart:l?"eight":void 0}},a.createElement(s.ee,{...y},a.createElement(Z.x,null,a.createElement("button",{"data-stid":h,onClick:()=>{i(n.locationFullName,n)},"aria-label":m,type:"button"})),a.createElement("div",null,a.createElement(z.X,null,S&&a.createElement(q.C,{alignSelf:"center",..."Image"===S.__typename?{maxWidth:64,minWidth:84}:{}},a.createElement("div",null,a.createElement(Ji,{id:null!=p?p:void 0,data:S}))),a.createElement(q.C,null,a.createElement(A.N,{margin:{inlinestart:"three"}},a.createElement("div",null,a.createElement(E.D,{size:300,overflow:F,weight:"bold"},c),a.createElement(E.D,{size:300,overflow:"truncate"},u)))),v&&a.createElement(q.C,{alignSelf:"center",grow:1},a.createElement(z.X,{justifyContent:"end"},a.createElement(Ki,{data:v,onClick:e=>{null==r||r(e,n)}}))))))))};el.fragment=Zi,el.displayName="SearchLocationBasicItem";var nl={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchLocationItemWithSubItemsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchLocationItemWithSubItems"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SearchLocationBasicItemFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subItems"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SearchLocationBasicItemFragment"},directives:[]}]}}]}}].concat(el.fragment.definitions)),loc:{start:0,end:216,source:{body:"\n  fragment SearchLocationItemWithSubItemsFragment on SearchLocationItemWithSubItems {\n    item {\n      ...SearchLocationBasicItemFragment\n    }\n\n    subItems {\n      ...SearchLocationBasicItemFragment\n    }\n  }\n\n  \n".concat([el.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},tl=e=>{const{data:n}=e,{item:t,subItems:i}=n;return a.createElement(a.Fragment,null,a.createElement(el,{...e,data:t}),i.map((n,t)=>a.createElement(el,{key:t,...e,data:n,includeIndendation:!0})))};tl.fragment=nl,tl.displayName="SearchLocationItemWithSubItems";var al={fragment:{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchLocationRecentSearchLocationFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchLocationRecentSearchLocation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"geoType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"propertyId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"regionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"airportCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"coordinates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:219,source:{body:"\n  fragment SearchLocationRecentSearchLocationFragment on SearchLocationRecentSearchLocation {\n    name\n    geoType\n    propertyId\n    regionId\n    airportCode\n    coordinates {\n      latitude\n      longitude\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},displayName:"SearchLocationRecentSearchLocation"},il={fragment:{kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchLocationRecentSearchDetailsCarsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchLocationRecentSearchDetailsCars"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"dropOffDateTime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DateTimeFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pickUpDateTime"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DateTimeFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"isRoundTrip"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dropOffLocation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SearchLocationRecentSearchLocationFragment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"DateTimeFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DateTime"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"day"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"month"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"year"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hour"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minute"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"second"},arguments:[],directives:[]}]}}].concat(al.fragment.definitions)),loc:{start:0,end:417,source:{body:"\n  fragment SearchLocationRecentSearchDetailsCarsFragment on SearchLocationRecentSearchDetailsCars {\n    dropOffDateTime {\n      ...DateTimeFragment\n    }\n    pickUpDateTime {\n      ...DateTimeFragment\n    }\n    isRoundTrip\n    dropOffLocation {\n      ...SearchLocationRecentSearchLocationFragment\n    }\n  }\n\n  fragment DateTimeFragment on DateTime {\n    day\n    month\n    year\n    hour\n    minute\n    second\n  }\n\n  \n".concat([al.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},displayName:"SearchLocationRecentSearchDetailsCars"},ll={fragment:{kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchLocationRecentSearchDetailsFlightsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchLocationRecentSearchDetailsFlights"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cabinClass"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tripType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"travelers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"adults"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"childrenAges"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pets"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infantsOnLap"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infantsInSeat"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"legs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"origin"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SearchLocationRecentSearchLocationFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"destination"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SearchLocationRecentSearchLocationFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"month"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"year"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"day"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"startDate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"day"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"month"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"year"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"endDate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"day"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"month"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"year"},arguments:[],directives:[]}]}}]}}].concat(al.fragment.definitions)),loc:{start:0,end:591,source:{body:"\n  fragment SearchLocationRecentSearchDetailsFlightsFragment on SearchLocationRecentSearchDetailsFlights {\n    cabinClass\n    tripType\n    travelers {\n      adults\n      childrenAges\n      pets\n      infantsOnLap\n      infantsInSeat\n    }\n    legs {\n      origin {\n        ...SearchLocationRecentSearchLocationFragment\n      }\n      destination {\n        ...SearchLocationRecentSearchLocationFragment\n      }\n      date {\n        month\n        year\n        day\n      }\n    }\n    startDate {\n      day\n      month\n      year\n    }\n    endDate {\n      day\n      month\n      year\n    }\n  }\n\n  \n".concat([al.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},displayName:"SearchLocationRecentSearchDetailsFlights"},rl={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SearchLocationDeleteRecentSearch"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ContextInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"lob"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"gaiaIds"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isDestination"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchLocationDeleteRecentSearch"},arguments:[{kind:"Argument",name:{kind:"Name",value:"context"},value:{kind:"Variable",name:{kind:"Name",value:"context"}}},{kind:"Argument",name:{kind:"Name",value:"lob"},value:{kind:"Variable",name:{kind:"Name",value:"lob"}}},{kind:"Argument",name:{kind:"Name",value:"gaiaIds"},value:{kind:"Variable",name:{kind:"Name",value:"gaiaIds"}}},{kind:"Argument",name:{kind:"Name",value:"isDestination"},value:{kind:"Variable",name:{kind:"Name",value:"isDestination"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:276,source:{body:"\n  mutation SearchLocationDeleteRecentSearch($context: ContextInput!, $lob: String!, $gaiaIds: [String!]!, $isDestination: Boolean) {\n    searchLocationDeleteRecentSearch(context: $context, lob: $lob, gaiaIds: $gaiaIds, isDestination: $isDestination) {\n      status\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},dl={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchLocationRecentSearchFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchLocationRecentSearch"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dateRange"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"start"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DateFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"end"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DateFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"item"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SearchLocationBasicItemFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchLocationRecentSearchDetailsFlights"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SearchLocationRecentSearchDetailsFlightsFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"travelers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchLocationBasicTravelers"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SearchLocationBasicTravelersFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchLocationTravelersByRoom"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SearchLocationTravelersByRoomFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchLocationRecentSearchDetailsCars"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SearchLocationRecentSearchDetailsCarsFragment"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"DateFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Date"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"day"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"month"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"year"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchLocationTravelersByRoomFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchLocationTravelersByRoom"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rooms"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SearchLocationBasicTravelersFragment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchLocationBasicTravelersFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchLocationBasicTravelers"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"adults"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"childrenAges"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pets"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infantsOnLap"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infantsInSeat"},arguments:[],directives:[]}]}}].concat(il.fragment.definitions,el.fragment.definitions,ll.fragment.definitions)),loc:{start:0,end:1196,source:{body:"\n  fragment SearchLocationRecentSearchFragment on SearchLocationRecentSearch {\n    __typename\n    dateRange {\n      __typename\n      start {\n        ...DateFragment\n      }\n      end {\n        ...DateFragment\n      }\n    }\n    item {\n      ...SearchLocationBasicItemFragment\n    }\n    details {\n      ... on SearchLocationRecentSearchDetailsFlights {\n        ...SearchLocationRecentSearchDetailsFlightsFragment\n      }\n    }\n    travelers {\n      ... on SearchLocationBasicTravelers {\n        ...SearchLocationBasicTravelersFragment\n      }\n      ... on SearchLocationTravelersByRoom {\n        ...SearchLocationTravelersByRoomFragment\n      }\n    }\n    details {\n      __typename\n      ... on SearchLocationRecentSearchDetailsCars {\n        ...SearchLocationRecentSearchDetailsCarsFragment\n      }\n    }\n  }\n\n  fragment DateFragment on Date {\n    day\n    month\n    year\n  }\n\n  fragment SearchLocationTravelersByRoomFragment on SearchLocationTravelersByRoom {\n    rooms {\n      ...SearchLocationBasicTravelersFragment\n    }\n  }\n\n  fragment SearchLocationBasicTravelersFragment on SearchLocationBasicTravelers {\n    adults\n    childrenAges\n    pets\n    infantsOnLap\n    infantsInSeat\n  }\n\n  \n  \n  \n".concat([il.fragment.loc.source.body,el.fragment.loc.source.body,ll.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},ol=e=>{const[n]=(0,o.n_)(rl),{formatText:t}=(0,$.useLocalization)(),[i,l]=(0,a.useState)(new Set),{context:r}=(0,P.R)(),{data:d,onRemoveRecentSearch:s,onRemoveRecentSearchTracking:c,lob:m="HOTEL",activeItemId:u,onClick:v,stid:S,isDestination:g}=e,{item:k,dateRange:p,travelers:y,details:f}=d,{regionId:E,primaryText:F}=k;return a.createElement(a.Fragment,null,E&&!i.has(E)&&a.createElement(el,{key:E,lob:m,stid:S,data:k,activeItemId:u,onClick:(e,n)=>{null==v||v(e,n,p||void 0,y||void 0,f||void 0)},onRemoveRecentSearch:async e=>{if(e.preventDefault(),!E)return null;l(e=>new Set(e).add(E)),(0,h.liveAnnounce)(t("typeahead.custom.delete.recent.search.button.announce.a11y",F)),null==s||s(e,k);try{await n({variables:{context:r,lob:m,gaiaIds:[E],isDestination:g}}).then(e=>{"SUCCESS"===e.data.searchLocationDeleteRecentSearch.status&&(null==c||c(k))})}catch(a){}}}))};ol.fragment=dl,ol.displayName="SearchLocationRecentSearch";var sl={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchLocationItemFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchLocationItem"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SearchLocationBasicItemFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"SearchLocationItemWithSubItemsFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"SearchLocationRecentSearchFragment"},directives:[]}]}}].concat(el.fragment.definitions,tl.fragment.definitions,ol.fragment.definitions)),loc:{start:0,end:204,source:{body:"\n  fragment SearchLocationItemFragment on SearchLocationItem {\n    ...SearchLocationBasicItemFragment\n    ...SearchLocationItemWithSubItemsFragment\n    ...SearchLocationRecentSearchFragment\n  }\n\n  \n  \n  \n".concat([el.fragment.loc.source.body,tl.fragment.loc.source.body,ol.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},cl=e=>{const{data:n}=e;switch(n.__typename){case"SearchLocationBasicItem":return a.createElement(el,{...e,data:n});case"SearchLocationItemWithSubItems":return a.createElement(tl,{...e,data:n});case"SearchLocationRecentSearch":return a.createElement(ol,{...e,data:n});default:return null}};cl.fragment=sl,cl.displayName="SearchLocationItem";var ml={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchLocationGroupFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchLocationGroup"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SearchLocationItemFragment"},directives:[]}]}}]}}].concat(cl.fragment.definitions)),loc:{start:0,end:136,source:{body:"\n  fragment SearchLocationGroupFragment on SearchLocationGroup {\n    title\n    items {\n      ...SearchLocationItemFragment\n    }\n  }\n  \n".concat([cl.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},ul=e=>{const{data:n,onClick:t,onRemoveRecentSearch:i,onRemoveRecentSearchTracking:l,lob:r,stid:d,activeItemId:o,isDestination:s,hideTitle:c=!1}=e,{items:m,title:u}=n;return a.createElement(A.N,{padding:{blockstart:"three"}},a.createElement("div",null,u&&!c&&a.createElement(A.N,{padding:{block:"three",inlinestart:"six"}},a.createElement("div",null,a.createElement(E.D,{overflow:"truncate",size:300,weight:"bold"},u))),m&&a.createElement(ee.I,null,m.map((e,n)=>a.createElement(cl,{key:n,data:e,lob:r,stid:d,activeItemId:o,onClick:t,onRemoveRecentSearch:i,onRemoveRecentSearchTracking:l,isDestination:s})))))};ul.fragment=ml,ul.displayName="SearchLocationGroupFragment";var vl=({children:e})=>e&&a.createElement(A.N,{padding:{inline:"three"}},a.createElement(z.X,{justifyContent:"center",alignContent:"center"},a.createElement(E.D,{align:"center"},a.createElement(A.N,{margin:{blockstart:"six"}},a.createElement(m.LD,{name:"search",size:m.So.XLARGE})),a.createElement(A.N,{margin:{blockend:"three"}},a.createElement(E.D,{size:300},e)))));vl.displayName="SearchLocationPlaceholderText";var Sl=e=>{const{headingText:n,hideHeading:t=!1,searchLocationLabel:l,stid:r="",values:d,onItemRemove:o,onClear:s,clearAllText:m}=e,u=(0,$.useLocalization)(),v=null!=m?m:u.formatText("typeahead.mulselect.clearAll"),S=null!=n?n:u.formatText("typeahead.multiselect.selectedItemHeading");return a.createElement("div",null,!t&&S&&(null==d?void 0:d.length)&&d.length>0&&a.createElement(A.N,{padding:{inlinestart:"four"}},a.createElement("div",null,a.createElement(E.D,{overflow:"truncate",size:300,weight:"bold"},S))),a.createElement(A.N,{padding:{blockstart:"three",inline:"four"}},a.createElement("div",{"data-stid":r},null==d?void 0:d.map((e,n)=>a.createElement(A.N,{key:`${r}-pill-${n}`,margin:{block:"one"}},a.createElement(_.i,{onClick:()=>((e,n)=>{(0,h.liveAnnounce)(u.formatText("typeahead.removeSelection",e)),null==o||o(n)})(e,n),id:`${r}-pill-${n}`},e))),(null==d?void 0:d.length)&&a.createElement(c.q,{onClick:()=>{(0,h.liveAnnounce)(u.formatText("typeahead.clearAllSelections",l)),null==s||s()},size:i.V.SMALL},v))))};Sl.displayName="SearchLocationSelections";var gl=e=>{const{value:n,label:t,stid:i="",handleClear:o,onItemRemove:s,clearAllText:c,selectedItemHeading:m,handleClose:u,dismissButtonText:v,queryResults:S,lineOfBusiness:g,onClick:p,emptyPlaceholderText:y,searchLocationContent:f}=e,[E,F]=a.useState(S),[D,N]=a.useState([]),T={[k.OB.MEDIUM]:{minHeight:"458px",maxHeight:"458px"},[k.OB.LARGE]:{minHeight:"458px",maxHeight:"458px"}},_=(0,k.s5)(T),{context:I}=(0,P.R)(),{locale:b}=I;a.useEffect(()=>{if(n){const e=S.flatMap(e=>e.items).filter(e=>n.some(n=>e.locationFullName===n));N(n=>{const t=e.filter(e=>!(null==n?void 0:n.some(n=>n.locationFullName===e.locationFullName)));return[...n,...t]});const t=S.map(e=>({...e,items:e.items.filter(e=>!n.some(n=>e.locationFullName===n))}));F(t)}},[n,S]);const C=(e,n)=>{var a,i;const l=(null==n?void 0:n.locationFullName)||(null==n?void 0:n.primaryText)||e;p(l,n),n&&N(e=>[...e,n]);const r=E.map(e=>({...e,items:e.items.filter(e=>e.locationFullName!==l)})).filter(e=>e.items.length>0);F(r);const d=r.reduce((e,n)=>e+n.items.length,0),o=[t,d.toString(),l],s=(null==f?void 0:f.itemSelectedAccessibility)&&"EGDSBasicLocalizedText"===f.itemSelectedAccessibility.__typename?`${vn(f.itemSelectedAccessibility.template,(null==(a=f.itemSelectedAccessibility.models)?void 0:a[0].key)||"",l)} `:"",c=(null==(i=null==f?void 0:f.multiSelection)?void 0:i.showingResults)?kn({textFragment:f.multiSelection.showingResults,values:o,count:d,locale:b}):"";(0,h.liveAnnounce)(`${s} ${c}`)};return a.createElement(a.Fragment,null,a.createElement(H.v,{direction:"vertical",tabbable:!1},a.createElement(re.P,{style:{..._}},a.createElement(A.N,{padding:{blockstart:"one",blockend:"sixteen"}},a.createElement("div",null,n&&n.length>0&&a.createElement(Sl,{searchLocationLabel:t,values:n,stid:i,clearAllText:c,onClear:()=>{F(S),null==o||o()},onItemRemove:e=>{D[e]&&(N(n=>{const t=n.filter((n,t)=>t!==e),a=S.map(e=>({...e,items:e.items.filter(e=>!t.some(n=>n.locationFullName===e.locationFullName))}));return F(a),t}),null==s||s(e))},headingText:m}),E.length>0?E.map((e,n)=>a.createElement(ul,{stid:i,key:n,lob:g,data:e,onClick:C,isDestination:!0,hideTitle:e.items.length<=0})):a.createElement(vl,null,y))))),a.createElement(re.P,{style:{zIndex:1,minHeight:"60px"}},a.createElement(k.LM,null,a.createElement(k.NP,null,a.createElement(d.O,{type:ke.Q.BUTTON},a.createElement(l.t,{disabled:0===(null==n?void 0:n.length),onClick:u,isFullWidth:!0},v))),a.createElement(k.zQ,null,a.createElement(A.N,{padding:"three",style:{borderTop:"1px solid #cccfdb"}},a.createElement(z.X,{justifyContent:"end"},a.createElement(q.C,null,a.createElement(r.y,{disabled:0===(null==n?void 0:n.length),onClick:u},v))))))))};gl.displayName="SearchLocationMultiItem";var kl=()=>a.createElement(A.N,{margin:{block:"eight"}},a.createElement(pe.R,{animation:!0,type:"line",lineLength:"primary"})),pl=()=>a.createElement(a.Fragment,null,Array.from({length:3}).map((e,n)=>a.createElement(kl,{key:n})));pl.displayName="SearchLocationResultsLoading";var yl=(e=>(e.GAI="GAIA",e.LCM="LCM",e.GPA="GOOGLE",e.UNKNOWN="UNKNOWN",e))(yl||{}),fl=(e=>(e.ALTERNATE="Alternate",e.CURRENTLOCATION="CurrentLocation",e.POPULAR="Popular",e.GOOGLEMAPS="Google",e.NORMAL="Normal",e.USERHISTORY="RecentHistory",e))(fl||{}),El=["POPULAR","ALTERNATE"],hl="SearchLocation",Fl={ALTERNATE:"People also searched",POPULAR:"Popular destinations"},Dl=e=>e.map(e=>{var n,t,a,i,l;return{destination_geo_id:e.regionId,destination_geo_system:null==(n=e.analyticsInfo)?void 0:n.sourceName,destination_type:Tl(null!=(t=e.geoType)?t:""),reason:(null==(i=null==(a=e.analyticsInfo)?void 0:a.relation)?void 0:i.length)?null==(l=e.analyticsInfo)?void 0:l.relation[0]:null}}),Nl=(e,n)=>{var t;return{recommendation_id:"Image"===(null==(t=e.graphic)?void 0:t.__typename)&&e.graphic.url?`${e.regionId}.image`:e.regionId,recommendation_position:n.toString(),presentation_details_recommendation_name:e.primaryText}},Tl=e=>({MULTICITY:"MULTI_CITY",MULTIREGION:"REGION",METROCODE:"REGION",TRAINSTATION:"TRAIN_STATION",METROSTATION:"METRO_STATION",BUSSTATION:"METRO_STATION",PREMISE:"LANDMARK",POI:"LANDMARK",ADDRESS:"LANDMARK",LISTING:"HOTEL"}[e]||e),_l=(e,n)=>n.findIndex(n=>n.regionId===e.regionId)+1,Il="search-location-input-field",bl={kind:"Document",definitions:xe([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SearchLocationSuggestions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ContextInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchLocationCriteria"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SearchLocationCriteriaInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchLocationInteractionEvent"}},type:{kind:"NamedType",name:{kind:"Name",value:"SearchLocationInteractionEventInput"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchLocation"},arguments:[{kind:"Argument",name:{kind:"Name",value:"context"},value:{kind:"Variable",name:{kind:"Name",value:"context"}}},{kind:"Argument",name:{kind:"Name",value:"searchLocationCriteria"},value:{kind:"Variable",name:{kind:"Name",value:"searchLocationCriteria"}}},{kind:"Argument",name:{kind:"Name",value:"searchLocationInteractionEvent"},value:{kind:"Variable",name:{kind:"Name",value:"searchLocationInteractionEvent"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"analyticsInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"recommendationId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resultId"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SearchLocationQueryAttributionFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"itemsGroups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SearchLocationGroupFragment"},directives:[]}]}}]}}]}}].concat(qi.fragment.definitions,ul.fragment.definitions)),loc:{start:0,end:597,source:{body:"\n  query SearchLocationSuggestions(\n    $context: ContextInput!\n    $searchLocationCriteria: SearchLocationCriteriaInput!\n    $searchLocationInteractionEvent: SearchLocationInteractionEventInput\n  ) {\n    searchLocation(\n      context: $context\n      searchLocationCriteria: $searchLocationCriteria\n      searchLocationInteractionEvent: $searchLocationInteractionEvent\n    ) {\n      __typename\n      analyticsInfo {\n        recommendationId\n        resultId\n      }\n      ...SearchLocationQueryAttributionFragment\n      itemsGroups {\n        ...SearchLocationGroupFragment\n      }\n    }\n  }\n  \n  \n".concat([qi.fragment.loc.source.body,ul.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Cl=1,Ll={__typename:"SearchLocationBasicItem",airportCode:null,coordinates:null,geoType:null,graphic:null,locationFullName:"",itemAccessibilityText:"",primaryText:"",propertyId:null,remove:null,secondaryText:null,analyticsInfo:null,impressionAnalytics:null,regionId:null},Al=(0,a.forwardRef)((e,n)=>{var t,i,l,r,d;const{debounceRate:c,initialSearchTerm:m,label:u,value:v,onClose:S,placeholder:g,handleClear:p,onInputChange:y,stid:f,isMulti:E,required:F,onResultItemSelect:D,emptyResultPlaceholder:N,lineOfBusiness:T,subLob:_,onItemRemove:I,searchLocationAnalytics:b,isDestination:L=!0,dismissButtonText:G,clearAllText:R,selectedItemHeading:x,regionType:O,lastSearchLatLong:B,pageLocation:M,searchLocationContent:$,onInputMount:U,offset:w}=e,W=a.useRef(null),V=a.useRef(!1),z="string"==typeof v?v:"",[q,Q]=a.useState(m||z||""),[K,j]=a.useState(B),[Y]=(0,le.w)();a.useEffect(()=>{w&&q!==z&&Q(z)},[z]);const{context:X}=(0,P.R)(),{locale:J}=X,[Z,ee]=a.useState([]),[ne,te]=a.useState([]),[ae,ie]=a.useState(""),me=(0,k.eg)({viewSizes:k.pf})<=k.pf.SMALL?f&&`${f}-dialog-input`:f&&`${f}-menu-input`,[Se,ge]=a.useState({query:m||z||"",backspaceCount:0}),ke=(e=>{const n=(0,s.iQ)(),{serverPayloads:t,inputName:i,lineOfBusiness:l,subLob:r,isDestination:d}=e,{open:o,close:c,itemSelected:m,recommendationsPresented:u,recommendationSelected:v}=null!=t?t:{},S=d?"Destination":"Origin",g=((e,n)=>{const t={flights:{oneway:"OW",multicity:"MD",default:"RT"},packages:{fhc:"FHC",hc:"HC",fc:"FC",default:"FH"}};if(e){const a=e.toLowerCase();if(t[a])return`${e}.${t[a][null==n?void 0:n.toLowerCase()]||t[a].default}`}return e||""})(l,r),[k,p]=a.useState(),[y,f]=a.useState();return{trackSearchLocationOpen:(e,t)=>{p(t),f(performance.now()),n({serverPayload:o,clientPayload:{event:{event_name:"search_location.opened",event_type:"Interaction",event_version:"1.0.0",event_category:hl,action_location:i},search_request:{search_query:e||""},typeahead:{search_field:S,line_of_business:g}}})},trackSearchLocationClose:(e,t,a,l)=>{const r=y?performance.now()-y:null;f(void 0);const d={event:{event_name:"search_location.closed",event_type:"Interaction",event_version:"1.0.0",event_category:hl,action_location:i},search_request:{search_query:e===k?"":e},typeahead:{search_field:S,backspaces_count:l,suggestion_list:t.length?Dl(t):[],line_of_business:g,typeahead_selection_bool:a,focus_to_blur_time:null==r?void 0:r.toString(),characters_typed_count:e.length}};n({serverPayload:c,clientPayload:d})},trackSearchLocationSelect:(e,t,a,l,r)=>{var d,o,s,c,u;const v={event:{event_name:"search_location.selected",event_type:"Interaction",event_version:"1.0.0",event_category:hl,action_location:i},search_request:{search_query:e===k?"":e,search_id:l},destination:{destination_full_name:t.primaryText,destination_geo_id:t.regionId,destination_geo_system:yl[null!=(o=null==(d=t.analyticsInfo)?void 0:d.sourceName)?o:""]||(null==(s=t.analyticsInfo)?void 0:s.sourceName)||"UNKNOWN",destination_type:t.geoType},typeahead:{search_field:S,backspaces_count:r,selection_depth:_l(t,a),suggestion_count:a.length,suggestion_type:fl[null!=(u=null==(c=a[0].analyticsInfo)?void 0:c.category)?u:""]||"Normal",suggestion_list:Dl(a),line_of_business:g}};n({serverPayload:m,clientPayload:v})},trackSearchLocationRemoveRecentSearch:(e,t)=>{var a,l,r;const d={event:{event_name:"search_location_recent_search.removed",event_type:"Interaction",event_version:"1.0.0",event_category:hl,action_location:i},destination:{destination_full_name:e.primaryText,destination_geo_id:e.regionId,destination_geo_system:yl[null!=(l=null==(a=e.analyticsInfo)?void 0:a.sourceName)?l:""]||(null==(r=e.analyticsInfo)?void 0:r.sourceName)||"UNKNOWN"},typeahead:{suggestion_type:"RecentHistory",line_of_business:g,suggestion_count:t.length,selection_depth:_l(e,t)}};n({clientPayload:d})},trackSearchLocationRecommendationPresented:(e,t)=>{var a;const l=e.filter(e=>{var n,t;return El.includes(null!=(t=null==(n=e.analyticsInfo)?void 0:n.category)?t:"")});if((null==l?void 0:l.length)>0){const e=[];let r=0;l.forEach(n=>{e.push(Nl(n,r)),r+=1}),e.push();const d={event:{event_name:"recommendations_module.presented",event_type:"Impression",event_version:"2.1.0",event_category:hl,action_location:i},recommendation_module:{recommendation_title:Fl[null==(a=l[0].analyticsInfo)?void 0:a.category],eg_recommendation_response_id:t,recommendations:e}};n({serverPayload:u,clientPayload:d})}},trackSearchLocationRecommendationSelected:(e,t,a)=>{var l,r,d;if(El.includes(null!=(r=null==(l=e.analyticsInfo)?void 0:l.category)?r:"")){const l=_l(e,t),r=l?l-1:-1,o={event:{event_name:"recommendations_module.selected",event_type:"Interaction",event_version:"2.1.0",event_category:hl,action_location:i},recommendation_module:{recommendation_title:Fl[null==(d=e.analyticsInfo)?void 0:d.category],eg_recommendation_response_id:a,recommendations:[Nl(e,r)]}};n({serverPayload:v,clientPayload:o})}}}})({serverPayloads:b,inputName:me,lineOfBusiness:T,subLob:_,isDestination:L}),pe=a.useRef(null),{trackEvent:fe}=(0,ve.eS)();a.useEffect(()=>{null==ke||ke.trackSearchLocationOpen(q,z)},[]),(0,a.useImperativeHandle)(n,()=>({dismissFunction(e){e&&!E||null==ke||ke.trackSearchLocationClose(Se.query,ne,e,Se.backspaceCount)}}));const{cache:Ee}=(0,o.mK)(),he=()=>{Ee.evict({fieldName:"searchLocation",broadcast:!1}),Ee.gc()},[Fe,{loading:De,data:Ne}]=(0,o._l)(bl,{onCompleted:e=>{var n,t,a,i,l,r;const d="SearchLocationResults"===(null==(n=e.searchLocation)?void 0:n.__typename)?[...null!=(t=e.searchLocation.itemsGroups)?t:[]]:[];var o,s;ee(d),o=d,s=q,pe.current&&clearTimeout(pe.current),(null==o?void 0:o.length)>0&&(pe.current=window.setTimeout(()=>{const e=null==s?void 0:s.split(""),n=document.activeElement===W.current;if(e&&o&&n){const n=`'${e.join("' , '")} '`,t=o.reduce((e,n)=>e+n.items.length,0),a=kn({textFragment:null==$?void 0:$.resultsAvailableAccessibility,values:[n,t.toString()],count:t,locale:J});(0,h.liveAnnounce)(a)}},1e3));const c=(e=>e.flatMap(e=>(e.items||[]).flatMap(e=>{var n;const t=null!=(n=e.item)?n:e;return[{...t,uniqueId:Hi(t)},...(e.subItems||[]).map(e=>({...e,uniqueId:Hi(e)}))]})))(d);te(c),null!==(null==(i=null==(a=null==e?void 0:e.searchLocation)?void 0:a.analyticsInfo)?void 0:i.recommendationId)&&(null==ke||ke.trackSearchLocationRecommendationPresented(c,null==(r=null==(l=e.searchLocation)?void 0:l.analyticsInfo)?void 0:r.recommendationId))}}),Te=(e,n)=>{0===e.length&&ee([]);const t=performance.now(),a={searchTerm:e,lineOfBusiness:null!=T?T:"",isDestination:"CARS"===T||L,isGroundTransfersAirport:"GROUNDTRANSFERS"===T&&O===Cl,pageLocation:M,..."CARS"===T&&{sourceComponent:f},...n?{lastSearchLatLong:n}:{}},i=Date.now().toString(),l={...Y&&{collationId:Y,timestamp:i}},r=""===e?"no-cache":void 0;var d;Fe({variables:{context:X,searchLocationCriteria:a,...(d=l,!(d&&0===Object.keys(d).length)&&{searchLocationInteractionEvent:l})},fetchPolicy:r}).then(()=>{const n=performance.now()-t,a=!!e,i=a?e.length:0,l={duration:n,...a&&{termLength:i}};fe("action",{action:"LOCATION_SEARCH_BFF_REQUEST_"+(a?"WITH_SEARCH_TERM":"WITHOUT_SEARCH_TERM"),attributes:l})})},_e=a.useMemo(()=>c&&c>0?(0,ye.s)(c,(e,n)=>Te(e,n)):(e,n)=>Te(e,n),[c]),Ie=(e,n,t,a,i)=>{var l,r,d,o,s,c,m,u,v,S;const g=n?n.locationFullName||n.primaryText:e;if(D(g,{term:g,item:null!=n?n:Ll,dateRange:t,travelers:a,lineOfBusiness:null!=T?T:void 0,details:i}),n&&(he(),null==ke||ke.trackSearchLocationSelect(Se.query,n,ne,null!=(d=null==(r=null==(l=null==Ne?void 0:Ne.searchLocation)?void 0:l.analyticsInfo)?void 0:r.resultId)?d:"",Se.backspaceCount),null==ke||ke.trackSearchLocationRecommendationSelected(n,ne,null!=(c=null==(s=null==(o=null==Ne?void 0:Ne.searchLocation)?void 0:o.analyticsInfo)?void 0:s.recommendationId)?c:"")),!E){const e=(null==$?void 0:$.itemSelectedAccessibility)&&"EGDSBasicLocalizedText"===$.itemSelectedAccessibility.__typename?`${vn($.itemSelectedAccessibility.template,(null==(u=null==(m=$.itemSelectedAccessibility.models)?void 0:m[0])?void 0:u.key)||"",g)} `:"";(0,h.liveAnnounce)(`${e} ${null!=(S=null==(v=null==$?void 0:$.close)?void 0:v.accessibility)?S:""}`),Q(g),null==ke||ke.trackSearchLocationClose(Se.query,ne,!0,Se.backspaceCount)}},be=(e,n)=>{te(e=>e.filter(e=>e.regionId!==n.regionId)),null==I||I(n.regionId),he()},Ce=e=>{null==ke||ke.trackSearchLocationRemoveRecentSearch(e,ne)};a.useEffect(()=>{var e;w||_e(q||"",K),w&&(null==(e=w.onTriggerMount)||e.call(w,W))},[]);const Le="drop_off_location"===f?g:u,Ae={domRef:W,hasClearButton:q.length>0&&(null==w?void 0:w.isSheetOpen),icon:null==w?void 0:w.icon,onFocus:()=>{var e;V.current||(null==w?void 0:w.isSheetOpen)||null==(e=null==w?void 0:w.onSheetOpen)||e.call(w)},onPointerDown:()=>{V.current=!0},onClick:()=>{var e;null==(e=null==w?void 0:w.onSheetOpen)||e.call(w),V.current=!1},"data-stid":`${f}-menu-trigger`,invalid:null==w?void 0:w.invalid,index:null==w?void 0:w.index,name:null==w?void 0:w.name,"aria-label":`${null==w?void 0:w.a11yLabel}${q?`. ${null==w?void 0:w.a11yResultsAvailableSuffix}`:""}`.trim(),"aria-describedby":(null==w?void 0:w.invalid)&&f?`${f}-input-error`:`${f}-input-description`,placeholder:(null==w?void 0:w.placeholder)||u,label:u,id:void 0!==(null==w?void 0:w.index)?`${null==w?void 0:w.name}-input-${w.index}`:`${null==w?void 0:w.name}-input`},Ge={domRef:e=>{W.current=e,e&&U&&U(e)},hasClearButton:q.length>0,"data-stid":me,id:f,label:u,"aria-label":u,placeholder:Le},Re={hasFloatedLabel:!1,hasVisibleLabel:q.length>0,value:q,onChange:e=>{var n;const t=e.target.value;void 0!==K&&j(void 0),Q(t),_e(t),ge(e=>({...e,query:t})),null==y||y(t),(null==w?void 0:w.isSheetOpen)||null==(n=null==w?void 0:w.onSheetOpen)||n.call(w)},onKeyDown:e=>{const n=ne.findIndex(e=>e.uniqueId===ae);switch(e.key){case"ArrowDown":{e.preventDefault();const t=n===ne.length-1?0:n+1;ie(ne[t].uniqueId);break}case"ArrowUp":{e.preventDefault();const t=0===n||-1===n?ne.length-1:n-1;ie(ne[t].uniqueId);break}case"Enter":if(e.preventDefault(),E)break;if(ae){const e=ne.find(e=>e.uniqueId===ae);e&&Ie(e.locationFullName||e.primaryText,e)}else Ie(q,void 0);break;case"Escape":null==S||S();break;case"Backspace":ge(e=>({...e,backspaceCount:e.backspaceCount+1}))}},handleClear:p,required:F,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",type:"text",spellCheck:!1,clearButtonLabel:null!=(i=null==(t=null==$?void 0:$.clearInput)?void 0:t.accessibility)?i:"",...w?{...Ae}:{...Ge}},xe=ne.length>0?Z.map((e,n)=>a.createElement(ul,{stid:f,key:n,lob:T,activeItemId:ae,data:e,onClick:Ie,onRemoveRecentSearch:be,onRemoveRecentSearchTracking:Ce,isDestination:L})):a.createElement(vl,null,N),Oe=E&&!De?a.createElement(gl,{value:v,label:u,stid:f,clearAllText:R,handleClear:p,handleClose:S,dismissButtonText:G,onItemRemove:I,selectedItemHeading:x,queryResults:Z,onClick:Ie,emptyPlaceholderText:N,lineOfBusiness:T||"CRUISES",searchLocationContent:$}):a.createElement(H.v,{direction:"vertical",tabbable:!1},a.createElement(re.P,{style:{minHeight:"438px",maxHeight:ne.length>8?"438px":void 0}},a.createElement(a.Fragment,null,De?a.createElement(A.N,{padding:{inlinestart:"six"}},a.createElement("div",null,a.createElement(pl,null))):xe,(null==Ne?void 0:Ne.searchLocation)&&a.createElement(qi,{data:Ne.searchLocation,searchLocationContent:$}))));return a.createElement(a.Fragment,null,a.createElement(k.LM,null,a.createElement(k.NP,null,a.createElement(ue.p,{navigationContent:{navIconLabel:"Close the dialog",onClick:()=>{null==S||S()},navButtonId:`${f}-close`}},a.createElement("div",{id:Il},a.createElement(ce.K,{...Re})))),a.createElement(k.zQ,null,w?a.createElement(C.V,{...Re}):a.createElement(re.P,{type:"sticky",position:{top:"zero",zindex:"layer1"}},a.createElement("div",{id:Il},a.createElement(ce.K,{...Re}))))),w?a.createElement(de.K,{isVisible:w.isSheetOpen,openCallback:()=>{_e(q||"",K)}},a.createElement(oe.t,{isVisible:w.isSheetOpen,disableArrowKeyHandler:!0,type:"popover",triggerRef:W,width:(null==(l=W.current)?void 0:l.offsetWidth)&&(null==(r=W.current)?void 0:r.offsetWidth)>xl?null==(d=W.current)?void 0:d.offsetWidth:xl,onDismiss:()=>{var e;document.activeElement!==W.current&&(null==(e=null==w?void 0:w.onSheetClose)||e.call(w))},autoPosition:!1,applyBlockStartMargin:!0,autoFocus:!1,returnFocusOnClose:!1},a.createElement(se.Y,{padded:!1},Oe))):Oe)});Al.displayName="SearchLocationResultsQuery";var Gl=a.forwardRef((e,n)=>{const{a11yLabel:t,a11yResultsAvailableSuffix:i,searchTerm:l,isExpanded:r,label:d,icon:o,invalid:s,stid:c,onClick:m,placeholder:u,value:v,required:S,isMulti:g,name:p,index:y}=e,[f,E]=a.useState(!1);a.useEffect(()=>{E(!0)},[]);const h={label:d,icon:o,placeholder:"drop_off_location"===c?u:"",required:S,"aria-label":`${t}${l?`. ${i}`:""}`.trim(),"aria-describedby":s&&c?`${c}-input-error`:`${c}-input-description`,"data-stid":`${c}-menu-trigger`,onClick:()=>{null==m||m()},value:g?v.join(", "):v,invalid:s},F={[k.OB.SMALL]:{"data-stid":`${c}-dialog-trigger`},[k.OB.LARGE]:{"aria-haspopup":"dialog","aria-expanded":r}},D=(0,k.s5)(F);return a.createElement(a.Fragment,null,f&&a.createElement(fe.H,{...h,domRef:n,...D}),a.createElement("div",{className:f?"is-hidden":void 0},a.createElement(C.V,{...h,id:void 0!==y?`${p}-input-${y}`:`${p}-input`,"data-stid":void 0,name:p,domRef:n,"aria-hidden":f,tabIndex:f?-1:void 0,invalid:s||""})))});Gl.displayName="SearchLocationTrigger";var Rl={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchLocationFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchLocation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"analytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"open"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"close"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemSelected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recommendationsPresented"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recommendationSelected"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clearInput"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"close"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"poweredByGoogleLogoAltText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resultsAvailableAccessibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSLocalizedTextFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"multiSelection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"showingResults"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSLocalizedTextFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"itemSelectedAccessibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSBasicLocalizedTextFragment"},directives:[]}]}}]}}]}}].concat(ut.definitions)),loc:{start:0,end:620,source:{body:"\n  fragment SearchLocationFragment on SearchLocation {\n    __typename\n    analytics {\n      open\n      close\n      itemSelected\n      recommendationsPresented\n      recommendationSelected\n    }\n    content {\n      clearInput {\n        accessibility\n      }\n      close {\n        accessibility\n      }\n      poweredByGoogleLogoAltText\n      resultsAvailableAccessibility {\n        ...EGDSLocalizedTextFragment\n      }\n      multiSelection {\n        showingResults {\n          ...EGDSLocalizedTextFragment\n        }\n      }\n      itemSelectedAccessibility {\n        ...EGDSBasicLocalizedTextFragment\n      }\n    }\n  }\n\n  \n".concat([ut.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},xl=375,Ol={__typename:"SearchLocationBasicItem",airportCode:null,coordinates:null,geoType:null,graphic:null,locationFullName:"",itemAccessibilityText:"",primaryText:"",propertyId:null,remove:null,secondaryText:null,analyticsInfo:null,impressionAnalytics:null,regionId:null},Bl={SMALL:!0,LARGE:!1},Pl=e=>{var n,t,i;const{accessibilityLabel:l,label:r,searchLocationPlaceholder:d,searchLocationEmptyResultPlaceholder:o,dismissButtonText:s,isMulti:c,onResultSelection:m,onUpdate:u,handleClear:v,value:S,id:g,stid:p,onMountCB:y,onClick:f,onDismiss:E,onType:F,resultItemImpressionTracker:D,required:N,lineOfBusiness:T,subLob:_,searchLocationAnalytics:I,isDestination:b,debounceRate:C,onItemRemove:L,regionType:A,lastSearchLatLong:G,pageLocation:R,searchLocationContent:x,index:B,retainSearch:P,icon:$,invalid:w,name:W}=e,V=bi(`search-location-dialog-${g}`),[H,z,q]=(0,me.useDialog)(V),Q=(0,k.s5)(Bl),[K,j]=(0,a.useState)(!1),[Y,X]=a.useState("string"==typeof S?S:""),[J,Z]=a.useState(!1),ee=a.useRef(null),ne=a.useRef(null),te=a.useRef(null),ae=(0,k.eg)({viewSizes:k.pf}),ie=ae<=k.pf.SMALL,le=ae>=k.pf.LARGE,{exposure:ue,logExperiment:ve}=(0,O.useExperiment)("Web_Modernize_Location_Field",!1),Se=le&&!c&&1===ue.bucket,ge=()=>{var e,n;null==(e=te.current)||e.focus(),null==(n=te.current)||n.select(),setTimeout(()=>{Q?z.openDialog({closeAllDialogs:!0}):j(!0),null==f||f()})},ke=e=>{ne.current&&ne.current.dismissFunction(e)},pe=(e,n)=>{if(null==u||u({selectionData:n}),m){const t=document.createElement("input");setTimeout(()=>{var a,i,l,r;t.value=null!=(i=null==(a=n.item)?void 0:a.primaryText)?i:e,t.setAttribute("id",null!=(r=null==(l=n.item)?void 0:l.propertyId)?r:g||"");const d=new CustomEvent("change");t.addEventListener("change",e=>{m(e)}),t.dispatchEvent(d)})}c||(Q?z.closeDialog():j(!1),null==E||E(),ke(!0),Z(!1))},ye=e=>{null==F||F(e),X(e)},fe=e=>{var n,t,a,i;setTimeout(()=>{var e;return null==(e=ee.current)?void 0:e.focus()}),ye(""),ke(!!e),Q?z.closeDialog():j(!1);const l=e&&(null==x?void 0:x.itemSelectedAccessibility)&&"EGDSBasicLocalizedText"===x.itemSelectedAccessibility.__typename?`${vn(x.itemSelectedAccessibility.template,(null==(t=null==(n=x.itemSelectedAccessibility.models)?void 0:n[0])?void 0:t.key)||"",e)} `:"";(0,h.liveAnnounce)(`${l} ${null!=(i=null==(a=null==x?void 0:x.close)?void 0:a.accessibility)?i:""}`),null==E||E()},Ee=()=>{(Y.length>0&&P||Se)&&pe(Y,{term:Y,item:{...Ol,primaryText:Y}}),null==fe||fe()},he={...e,label:r,onClick:ge,value:S,isMulti:!!c,a11yLabel:r,a11yResultsAvailableSuffix:l,searchTerm:Y,isExpanded:H||K,placeholder:d};a.useEffect(()=>{Se||null==y||y(ee)},[]),a.useEffect(()=>{X("string"==typeof S?S:"")},[S]),a.useEffect(()=>{le&&K&&ve(ue)},[K,le]);(0,M._H)(U.K2,U.en,{onSuccess:()=>{if(!b&&(!B||0===B))if(ie){const e=ee.current;if(e){e.scrollIntoView({behavior:"smooth"});let n=window.scrollY,t=0;const a=3,i=()=>{const e=window.scrollY;if(Math.abs(e-n)<.5){if(t+=1,t>=a)return void ge()}else t=0;n=e,requestAnimationFrame(i)};requestAnimationFrame(i)}}else ge()}}),Q&&K&&j(!1),(0,a.useEffect)(()=>{!Q&&H&&z.closeDialog()},[Q]);const Fe=a.createElement(Gl,{...he,ref:ee}),De={debounceRate:C,label:r,dismissButtonText:s,isMulti:c,handleClear:v,value:S,required:N,lineOfBusiness:T,subLob:_,stid:p,onItemRemove:L,onResultItemSelect:pe,placeholder:d,emptyResultPlaceholder:o,onClearAll:v,initialSearchTerm:Y,onClose:fe,onInputChange:ye,searchLocationAnalytics:I,searchLocationContent:x,isDestination:b,regionType:A,lastSearchLatLong:G,pageLocation:R,onInputMount:e=>{e.focus(),J||!H&&!K||(e.select(),Z(!0))},...Se&&{offset:{icon:null!=$?$:"",onTriggerMount:e=>{null==y||y(e)},isSheetOpen:K,onSheetClose:Ee,onSheetOpen:ge,invalid:w,a11yLabel:r,a11yResultsAvailableSuffix:l,placeholder:d,index:B,name:W}}},Ne=a.createElement(Al,{...De,ref:ne}),Te=a.useMemo(()=>({impressionWrapper:D}),[D]),_e={hasClearButton:!1,hasFloatedLabel:!1,hasVisibleLabel:!1,id:`persistent-input-${g}`,label:"",placeholder:"",value:Y,handleClear:v,required:!1,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",domRef:te,type:"text",spellCheck:!1,clearButtonLabel:"",tabIndex:-1},Ie=a.createElement(de.K,{isVisible:K},a.createElement(oe.t,{isVisible:K,showOverTrigger:!0,disableArrowKeyHandler:!0,type:"popover",triggerRef:ee,width:(null==(n=ee.current)?void 0:n.offsetWidth)&&(null==(t=ee.current)?void 0:t.offsetWidth)>xl?null==(i=ee.current)?void 0:i.offsetWidth:xl,onDismiss:Ee,autoPosition:!1},a.createElement(se.Y,{padded:!1},Ne)));return a.createElement(Vi.Provider,{value:Te},a.createElement(k.LM,null,a.createElement(k.NP,null,a.createElement(a.Fragment,null,a.createElement(re.P,{type:H?"sticky":"absolute",position:{left:H?void 0:"minus-twelve"},"aria-hidden":!0},a.createElement(ce.K,{..._e,style:{width:H?void 0:0,height:H?void 0:0}})),Fe,a.createElement(q,null,a.createElement(de.K,{isVisible:H},a.createElement(oe.t,{isVisible:H,type:"full",triggerRef:ee},Ne))))),a.createElement(k.rw,null,a.createElement("div",null,Fe,a.createElement(q,null,a.createElement(de.K,{isVisible:H},a.createElement(oe.t,{isVisible:H,type:"centered",triggerRef:ee,centeredSheetSize:"medium"},a.createElement(se.Y,{padded:!1},Ne)))))),a.createElement(k.zQ,null,a.createElement(re.P,{type:"relative"},a.createElement("div",null,!Se&&Fe,Se?Ne:Ie)))))};Pl.displayName="sharedui-SearchLocation";var Ml="EGDSSearchFormLocationField",$l=`${Ml}-Location`,Ul=`${Ml}-RegionId`,wl=`${Ml}-AirportCode`,Wl=`${Ml}-Lat`,Vl=`${Ml}-Long`,Hl=`${Ml}-Selected`,zl=`${Ml}-AmenitiesFacilitiesGroup`,ql=`${Ml}-LocGroup`,Ql=`${Ml}-PropertiesGoodForGroup`,Kl=`${Ml}-PropertyTypeGroup`,jl=`${Ml}-DestinationId`,Yl=`${Ml}-PropertyId`,Xl=e=>{var n,t,i,l,r,d,o,c,m,u,v,S,g,p,y,f,E;const{egdsElementId:h,label:F,placeholder:D,icon:N,value:T,accessibility:_,errorText:I,required:b,emptyResultsPlaceholder:C,setFieldRefByTypename:L,__typename:A,analyticsReferrerId:G,categorize:R,allowExactMatch:x,listTitle:B,handleResultSelection:$,onSelection:w,selection:W,index:V,regionId:H,skipQuery:z,valueFromQueryParam:q,pinnedPropertyId:Q,alternativeLocationLabel:K,propertyRefinements:j,isDestination:Y,skipReflection:X,onOpenLocationField:J,debounceRate:Z=200,onDismissLocation:ee,searchLocationAnalytics:ne,onType:te,onClearLocation:ae,lineOfBusiness:re,subLob:de,regionType:oe,coordinates:se,airportCode:ce,lastSearchLatLong:me,pageLocation:ue,searchLocationContent:ve,displayNameOptions:Se,flexSection:ge}=e,{destination:ke,origin:pe,updateDestination:ye,updateOrigin:fe,actionSource:Ee,updateFullDetailsFlights:he,updateFullDetailsCars:Fe,updateDatesAndTravelers:De}=et(ge),{context:Ne}=(0,P.R)(),{siteId:Te}=Ne,_e=(0,ie.useLoggerEvents)(wi),[Ie,{generateId:be,clearId:Ce}]=(0,le.w)(),[Le,Ae]=a.useState(!1),[Ge,Re]=a.useState(!1),xe=(0,k.eg)({viewSizes:k.pf})>k.pf.MEDIUM,{exposure:Oe,logExperiment:Be}=(0,O.useExperiment)("Retain_SearchLocation_input_Desktop_Web",!1),[Pe,Me]=(null==me?void 0:me.split(","))||["",""],$e=a.useMemo(()=>{var e,n;return!X&&Y&&ke?ke:X||Y||!pe?{term:T,data:{__typename:"SearchLocationBasicItem",airportCode:null!=ce?ce:"",coordinates:{latitude:null!=(e=null==se?void 0:se.latitude)?e:parseFloat(Pe),longitude:null!=(n=null==se?void 0:se.longitude)?n:parseFloat(Me),__typename:"Coordinates"},geoType:null,graphic:null,locationFullName:T,itemAccessibilityText:`Select ${T}`,primaryText:T,propertyId:null,remove:null,secondaryText:null,analyticsInfo:null,impressionAnalytics:null,regionId:H}}:pe},[T,H,Q,Y]),[Ue,we]=a.useState(),[We,Ve]=a.useState($e),[He,ze]=a.useState(We.term&&K?K:F);a.useEffect(()=>{const e=parseFloat(Pe),n=parseFloat(Me),t=Number.isNaN(e)?null==se?void 0:se.latitude:e,a=Number.isNaN(n)?null==se?void 0:se.longitude:n;t&&a&&we({latitude:t,longitude:a})},[Pe,Me,se]),a.useEffect(()=>{null==$e.term||z||Ve($e)},[$e,z]),a.useEffect(()=>{X||Y||!pe||Ve(pe),!X&&Y&&ke&&Ve(ke)},[X,pe,ke]);const qe=a.useCallback(e=>L(A,e),[L,A]);a.useEffect(()=>{void 0!==(null==W?void 0:W.term)&&W.term!==We.term&&Ve(W),q&&q!==We.term&&(Ve(e=>({...e,term:q})),w&&w({data:We.data,term:q}))},[W,q]);const Qe=$e.term!==We.term||(null==(n=We.data)?void 0:n.regionId)&&(null==(t=$e.data)?void 0:t.regionId)!==(null==(i=We.data)?void 0:i.regionId)?null==(l=We.data)?void 0:l.regionId:null==(r=$e.data)?void 0:r.regionId,Ke=null!=(o=null==(d=We.data)?void 0:d.airportCode)?o:"",je=We!==$e||pe||ke?"":Q,Ye=(null==(c=We.data)?void 0:c.propertyId)||null,Xe=a.useCallback(e=>{const{locationValue:n,regionId:t,isDestinationLocation:a}=e.payload,i=void 0===a||a,l="NEIGHBORHOOD"===Se&&We.data.regionId===t;if(Y!==i||l)return;const r={term:n,data:{...Ll,regionId:null!=t?t:null}};Ve(e=>{var n;return(null==(n=e.data)?void 0:n.locationFullName)===r.term?e:r})},[Y]);(0,M._H)("SEARCH_FORM_LOCATION_FIELD_UPDATE",U.tk,{onSuccess:Xe,onError:e=>{console.error("Error receiving SEARCH_FORM_LOCATION_FIELD_UPDATE signal:",e)}});const Je=`${h}${Number.isInteger(V)?`-${V}`:""}`,Ze=(null==(m=We.data)?void 0:m.locationFullName)&&!q?We.data.locationFullName:We.term,en=We.data&&Qe||"",nn=We.data&&Qe||"",tn={onType:e=>{xe&&e.length>=1&&!Ge&&(Be(Oe),Ae(1===Oe.bucket),Re(!0)),null==te||te(e)},index:null!=V?V:void 0,id:`${h}${null!=V?V:""}`,name:h,label:He,searchLocationPlaceholder:D,icon:N,value:Ze,onUpdate:e=>{var n,t,a,i,l,r,d,o,s,c,m,u,v,S,g,k,p,y,f,E,h,D,N,T,_,I,b,C,L,A,G;const R=X?null:((e,n,t)=>{var a;if(!e)return null;switch(e.__typename){case"SearchLocationRecentSearchDetailsFlights":{const i=null==(a=e.legs)?void 0:a[0];if(!i)return null;const l=n?i.destination:i.origin;return(null==l?void 0:l.name)?Wi(l,t):null}case"SearchLocationRecentSearchDetailsCars":{if(!n||!e.dropOffLocation)return null;const{dropOffLocation:a}=e;return(null==a?void 0:a.name)?Wi(a,t):null}default:return null}})(e.selectionData.details,Y,$e.data),x=null!=(t=null!=(n=null==R?void 0:R.term)?n:e.selectionData.term)?t:"",O=null!=(i=null!=(a=null==R?void 0:R.data)?a:e.selectionData.item)?i:$e.data;if(Ve({term:x,data:O}),ze(x&&K?K:F),w&&w({term:x,data:{...O,dateRange:e.selectionData.dateRange,travelers:e.selectionData.travelers,lineOfBusiness:e.selectionData.lineOfBusiness,details:e.selectionData.details}}),x||null==ae||ae(),!X){if("SearchLocationRecentSearchDetailsFlights"===(null==(l=e.selectionData.details)?void 0:l.__typename))return void he({cabinClass:null!=(d=null==(r=e.selectionData.details)?void 0:r.cabinClass)?d:void 0,tripType:null!=(s=null==(o=e.selectionData.details)?void 0:o.tripType)?s:void 0,legs:null!=(u=null==(m=null==(c=e.selectionData.details)?void 0:c.legs)?void 0:m.map(e=>{var n,t,a;return{origin:null!=(n=e.origin)?n:void 0,destination:null!=(t=e.destination)?t:void 0,date:null!=(a=e.date)?a:void 0}}))?u:void 0,startDate:null!=(S=null==(v=e.selectionData.details)?void 0:v.startDate)?S:void 0,endDate:null!=(k=null==(g=e.selectionData.details)?void 0:g.endDate)?k:void 0,travelers:(null==(p=e.selectionData.details)?void 0:p.travelers)?{adults:e.selectionData.details.travelers.adults,childrenAges:e.selectionData.details.travelers.childrenAges?[...e.selectionData.details.travelers.childrenAges]:[],pets:null!=(y=e.selectionData.details.travelers.pets)&&y,infantsOnLap:null!=(f=e.selectionData.details.travelers.infantsOnLap)?f:0,infantsInSeat:null!=(E=e.selectionData.details.travelers.infantsInSeat)?E:0}:void 0});if("SearchLocationRecentSearchDetailsCars"===(null==(h=e.selectionData.details)?void 0:h.__typename))return Fe({pickUpTime:null!=(N=null==(D=e.selectionData.details)?void 0:D.pickUpDateTime)?N:void 0,dropOffTime:null!=(_=null==(T=e.selectionData.details)?void 0:T.dropOffDateTime)?_:void 0,pickUpLocation:{term:e.selectionData.term,data:e.selectionData.item},dropOffLocation:null!=(b=null==(I=e.selectionData.details)?void 0:I.dropOffLocation)?b:void 0,isRoundTrip:null!=(L=null==(C=e.selectionData.details)?void 0:C.isRoundTrip)?L:void 0});const n={term:e.selectionData.term,data:e.selectionData.item};if(Y?ye(n,Ee):null==fe||fe(n,Ee),e.selectionData.dateRange||e.selectionData.travelers){let n;e.selectionData.travelers&&"rooms"in e.selectionData.travelers?n={rooms:e.selectionData.travelers.rooms.map(e=>({adults:e.adults,childrenAges:e.childrenAges,pets:e.pets,infantsOnLap:e.infantsOnLap,infantsInSeat:e.infantsInSeat}))}:e.selectionData.travelers&&(n={adults:e.selectionData.travelers.adults,childrenAges:e.selectionData.travelers.childrenAges,pets:e.selectionData.travelers.pets,infantsOnLap:e.selectionData.travelers.infantsOnLap,infantsInSeat:e.selectionData.travelers.infantsInSeat}),De({locationFullName:e.selectionData.term,dateRange:null!=(A=e.selectionData.dateRange)?A:void 0,travelers:n,lob:null!=(G=e.selectionData.lineOfBusiness)?G:void 0})}}},handleClear:()=>{const e={term:"",data:Ll};Y?ye(e,Ee):null==fe||fe(e,Ee),w&&w({term:"",data:Ll}),Ve({term:"",data:Ll}),ze(F),null==ae||ae()},stid:h,accessibilityLabel:_,onClick:()=>{const e="HOTELS"===re;!Ie&&e?be():Ie&&!e&&Ce(),J&&J({isDestination:Y,lineOfBusiness:null!=re?re:"",subLineOfBusiness:null!=de?de:""})},onMountCB:qe,invalid:I,required:b,searchLocationEmptyResultPlaceholder:C,onResultSelection:$,categorize:R,allowExactMatch:x,listTitle:B,onDismiss:()=>{ee&&ee(We)},debounceRate:Z,resultItemImpressionTracker:a.memo(({children:e,linkNameSuffix:n,referrerIdSuffix:t})=>a.createElement(s.ee,{linkName:`Location result impression - ${n}`,referrerId:`${G}.${t}`},e)),resultsRequestDurationTimeCallback:(e,n)=>{_e.SEARCH_LOCATION_TYPEAHEAD_DURATION.log(((e={})=>JSON.stringify(e).replaceAll(":","=").replaceAll('"',""))({withSearchTerm:n,siteId:Te,duration:e.toFixed(0),lob:re}))},lineOfBusiness:re,subLob:de,searchLocationAnalytics:ne,searchLocationContent:ve,isDestination:Y,regionType:oe,lastSearchLatLong:Ue,pageLocation:ue,retainSearch:Le};return a.createElement(a.Fragment,null,a.createElement("div",{"data-stid":"search-location"},a.createElement(Pl,{...tn})),a.createElement("input",{type:"hidden","data-stid":$l,name:`${$l}-${Je}`,value:Ze}),en&&a.createElement("input",{type:"hidden","data-stid":Ul,name:`${Ul}-${Je}`,value:en}),a.createElement("input",{type:"hidden","data-stid":wl,name:`${wl}-${Je}`,value:Ke}),a.createElement("input",{type:"hidden","data-stid":Wl,name:`${Wl}-${Je}`,value:(null==(v=null==(u=We.data)?void 0:u.coordinates)?void 0:v.latitude)?null==(g=null==(S=We.data)?void 0:S.coordinates)?void 0:g.latitude.toString():""}),a.createElement("input",{type:"hidden","data-stid":Vl,name:`${Vl}-${Je}`,value:(null==(y=null==(p=We.data)?void 0:p.coordinates)?void 0:y.longitude)?null==(E=null==(f=We.data)?void 0:f.coordinates)?void 0:E.longitude.toString():""}),Ye&&a.createElement("input",{type:"hidden","data-stid":Yl,name:`${Yl}-${Je}`,value:Ye}),a.createElement("input",{type:"hidden","data-stid":Hl,name:`${Hl}-${Je}`,value:null!=Ye?Ye:je}),(null==j?void 0:j.amenitiesFacilitiesGroup)&&a.createElement("input",{type:"hidden","data-stid":zl,name:`${zl}-${Je}`,value:null==j?void 0:j.amenitiesFacilitiesGroup}),(null==j?void 0:j.locationGroup)&&a.createElement("input",{type:"hidden","data-stid":ql,name:`${ql}-${Je}`,value:null==j?void 0:j.locationGroup}),(null==j?void 0:j.propertiesGoodForGroup)&&a.createElement("input",{type:"hidden","data-stid":Ql,name:`${Ql}-${Je}`,value:null==j?void 0:j.propertiesGoodForGroup}),(null==j?void 0:j.propertyTypeGroup)&&a.createElement("input",{type:"hidden","data-stid":Kl,name:`${Kl}-${Je}`,value:null==j?void 0:j.propertyTypeGroup}),nn&&a.createElement("input",{type:"hidden","data-stid":jl,name:`${jl}-${Je}`,value:nn}))},Jl="EGDSSearchFormLocationField",Zl=`${Jl}-Location`,er=`${Jl}-RegionId`,nr=`${Jl}-AirportCode`,tr=`${Jl}-Lat`,ar=`${Jl}-Long`,ir=`${Jl}-Values`,lr=e=>{const{egdsElementId:n,label:t,placeholder:i,icon:l,multiLocations:r,errorText:d,required:o,emptyResultsPlaceholder:s,setFieldRefByTypename:c,__typename:m,categorize:u,allowExactMatch:v,listTitle:S,selectedItemHeading:g,clearAllText:k,dismissButtonText:p,handleResultSelection:y,onMultiSelectItemRemove:f,onMultiSelectClearAll:E,searchLocationAnalytics:h,searchLocationContent:F,lineOfBusiness:D,subLob:N,debounceRate:T,pageLocation:_,onSelectionMultiLocation:I}=e,b=r.map(e=>{var n,t;return{term:e.text,data:{__typename:"SearchLocationBasicItem",airportCode:"",coordinates:null,geoType:null,graphic:null,locationFullName:null!=(n=e.value)?n:e.text,itemAccessibilityText:"",primaryText:null!=(t=e.value)?t:e.text,propertyId:null,remove:null,secondaryText:null,analyticsInfo:null,impressionAnalytics:null,regionId:null}}}),[C,L]=a.useState(b),[A,G]=a.useState(!1);a.useEffect(()=>{A&&(G(!1),Oa(C.map(e=>e.term).join(", "),y))},[A,C,y]);const R=a.useCallback(e=>c(m,e),[c,m]),x=C.map(e=>e.term).join(","),O=C.map(e=>{var n;return null==(n=e.data)?void 0:n.regionId}).join(","),B=C.map(e=>{var n,t;return null==(t=null==(n=e.data)?void 0:n.coordinates)?void 0:t.latitude}).join(","),P=C.map(e=>{var n,t;return null==(t=null==(n=e.data)?void 0:n.coordinates)?void 0:t.longitude}).join(","),M=C.map(e=>{var n;return null==(n=e.data)?void 0:n.airportCode}).join(","),$=C.map(e=>{var n;return null==(n=e.data)?void 0:n.regionId}).join(","),U=t.concat(",").concat(x);return a.createElement(a.Fragment,null,a.createElement("div",{"data-stid":"search-location"},a.createElement(Pl,{id:n,name:n,label:t,searchLocationPlaceholder:i,icon:l,value:C.map(e=>e.term),onUpdate:e=>{if(!C.some(n=>n.data===e.selectionData.item&&n.term===e.selectionData.term)&&e.selectionData){const n={term:e.selectionData.term,data:e.selectionData.item};L(e=>[...e,n]),null==I||I([...C,n])}},stid:n,accessibilityLabel:U,onMountCB:R,invalid:d,required:o,searchLocationEmptyResultPlaceholder:s,handleClear:()=>{L([]),null==I||I([]),null==E||E(n)},onItemRemove:e=>{(null==C?void 0:C.length)>0&&(L(n=>n.filter((n,t)=>t!==e)),null==I||I([...C.filter((n,t)=>t!==e)]),null==f||f(C[e],n))},onDismiss:()=>{G(!0)},categorize:u,allowExactMatch:v,listTitle:S,selectedItemHeading:g,clearAllText:k,dismissButtonText:p,isMulti:!0,searchLocationAnalytics:h,debounceRate:T,lineOfBusiness:D,subLob:N,pageLocation:_,searchLocationContent:F})),a.createElement("input",{type:"hidden","data-stid":Zl,name:`${Zl}-${n}`,value:x}),a.createElement("input",{type:"hidden","data-stid":er,name:`${er}-${n}`,value:O}),a.createElement("input",{type:"hidden","data-stid":nr,name:`${nr}-${n}`,value:M}),a.createElement("input",{type:"hidden","data-stid":tr,name:`${tr}-${n}`,value:B}),a.createElement("input",{type:"hidden","data-stid":ar,name:`${ar}-${n}`,value:P}),a.createElement("input",{type:"hidden","data-stid":ir,name:`${ir}-${n}`,value:$}))},rr=(e=>(e.NEIGHBORHOOD="NEIGHBORHOOD",e))(rr||{}),dr="EGDSSearchFormLocationField",or=e=>{var n,t,i,l,r;const{fieldError:d,data:o,onMultiSelectItemRemove:s,onMultiSelectClearAll:c,locationsErrorText:m,lastSearchLatLong:u,pinnedPropertyId:v,alternativeLocationLabel:S,propertyRefinements:g,skipReflection:k,onLocationsSelection:p,onDismissLocation:y,pageLocation:f,index:E,flexSection:h}=e,{__typename:F,label:N,action:T,placeholder:_,leftIcon:I,egdsElementId:b,value:C,errorMessage:L,multiLocations:A,closeAnalytics:G,changeAnalytics:R,regionId:x,debounceRate:O,validations:B,coordinates:P,airportCode:M}=o,$=(null==(n=null==d?void 0:d.validations)?void 0:n.sameLocationSelected)&&B&&"origin_select"===b?null==(t=B.find(e=>"EGDSSameValueInputValidation"===e.__typename))?void 0:t.errorMessage:null,U=null!=(l=null!=(i=null!=$?$:m)?i:L)?l:"",w=(0,D.j)(b,e=>e);if("OpenTypeaheadAction"!==(null==T?void 0:T.__typename))return null;const{analytics:W,accessibility:V,emptyResultsPlaceholder:H,allowExactMatch:z,categorize:q,listTitle:Q,selectedItemHeading:K,clearAllText:j,dismissButtonText:Y}=T,{lineOfBusiness:X,regionType:J,isMultiLocation:Z,subLob:ee}=T.info,ne="pick_up_location"!==b&&T.info.isDestination,te={...e,egdsElementId:b,categorize:!!q,allowExactMatch:z,listTitle:Q,handleResultSelection:w,label:null!=N?N:"",placeholder:null!=_?_:"",icon:null!=(r=null==I?void 0:I.title)?r:"place",accessibility:null!=V?V:"",errorText:d?U:"",required:!1,emptyResultsPlaceholder:null!=H?H:"",analyticsLinkName:W.linkName,analyticsReferrerId:W.referrerId,closeAnalyticsLinkName:null==G?void 0:G.linkName,closeAnalyticsReferrerId:null==G?void 0:G.referrerId,changeAnalyticsLinkName:null==R?void 0:R.linkName,changeAnalyticsReferrerId:null==R?void 0:R.referrerId,selectedItemHeading:null!=K?K:"",dismissButtonText:null!=Y?Y:"",__typename:F,regionId:x,isDestination:ne,regionType:J,debounceRate:null!=O?O:void 0,lineOfBusiness:X,subLob:ee,coordinates:P,airportCode:M,lastSearchLatLong:u,pageLocation:f,index:E,flexSection:h};return Z?a.createElement(lr,{...te,multiLocations:null!=A?A:[],clearAllText:null!=j?j:"",onMultiSelectItemRemove:s,onMultiSelectClearAll:c,onLocationsSelection:p}):a.createElement(Xl,{...te,value:null!=C?C:"",pinnedPropertyId:null!=v?v:"",alternativeLocationLabel:S,propertyRefinements:g,skipReflection:k,onDismissLocation:y,isDestination:ne})};or.displayName=dr,or.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSSearchFormLocationFieldFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSSearchFormLocationField"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeholder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"regionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"regionType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"required"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"leftIcon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"OpenTypeaheadActionFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"closeAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"changeAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"multiLocations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"validations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSInputValidation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"debounceRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"coordinates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"latitude"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"longitude"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"airportCode"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OpenTypeaheadActionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"OpenTypeaheadAction"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"analytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"info"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TypeaheadInfoFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"emptyResultsPlaceholder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"categorize"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"allowExactMatch"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"listTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selectedItemHeading"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clearAllText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dismissButtonText"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TypeaheadInfoFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TypeaheadInfo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"client"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"drivable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isDestination"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lineOfBusiness"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxNumberOfResults"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"packageType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"personalize"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"regionType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"typeaheadFeatures"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isMultiLocation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"domain"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"regionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"showCurrentLocation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subLob"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expUserId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trending"},arguments:[],directives:[]}]}}],loc:{start:0,end:1310,source:{body:"\n  fragment EGDSSearchFormLocationFieldFragment on EGDSSearchFormLocationField {\n    __typename\n    egdsElementId\n    label\n    placeholder\n    value\n    errorMessage\n    regionId\n    regionType\n    required\n    leftIcon {\n      title\n    }\n    action {\n      ...OpenTypeaheadActionFragment\n    }\n    closeAnalytics {\n      linkName\n      referrerId\n    }\n    changeAnalytics {\n      linkName\n      referrerId\n    }\n    multiLocations {\n      text\n      value\n    }\n    validations {\n      ... on EGDSInputValidation {\n        errorMessage\n        __typename\n      }\n    }\n    debounceRate\n    coordinates {\n      latitude\n      longitude\n    }\n    airportCode\n  }\n\n  fragment OpenTypeaheadActionFragment on OpenTypeaheadAction {\n    accessibility\n    analytics {\n      linkName\n      referrerId\n    }\n    info {\n      ...TypeaheadInfoFragment\n    }\n    emptyResultsPlaceholder\n    categorize\n    allowExactMatch\n    listTitle\n    selectedItemHeading\n    clearAllText\n    dismissButtonText\n  }\n\n  fragment TypeaheadInfoFragment on TypeaheadInfo {\n    client\n    drivable\n    isDestination\n    lineOfBusiness\n    maxNumberOfResults\n    packageType\n    personalize\n    regionType\n    typeaheadFeatures\n    isMultiLocation\n    domain\n    regionId\n    showCurrentLocation\n    subLob\n    expUserId\n    trending\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}},__typename:dr};var sr={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSSecondaryButtonFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UISecondaryButton"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSButtonFragment"},directives:[]}]}}].concat(Oe.definitions)),loc:{start:0,end:115,source:{body:"\n  fragment EGDSSecondaryButtonFragment on UISecondaryButton {\n    egdsElementId\n    ...EGDSButtonFragment\n  }\n\n  \n".concat([Oe.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},cr=({onClick:e,data:n})=>{const{egdsElementId:t,primary:i,analytics:l}=n,r=null!=t?t:"search_form_secondary_button",d=(0,s.KY)(),o=a.useCallback(()=>{if(l){const{referrerId:e,linkName:n}=l;d(e,n)}e()},[l,e,d]);return a.createElement(he.y,{id:r,onClick:o},i)};cr.displayName="SearchToolsEGDSSecondaryButton";var mr={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSSearchFormLocationsFieldFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSSearchFormLocationsField"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"origin"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSSearchFormLocationFieldFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"destination"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSSearchFormLocationFieldFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"horizontalSwapper"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSSecondaryButtonFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"verticalSwapper"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSSecondaryButtonFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"validations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSInputValidation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]}]}}]}}]}}].concat((cr.fragment=sr).definitions,or.fragment.definitions)),loc:{start:0,end:464,source:{body:"\n  fragment EGDSSearchFormLocationsFieldFragment on EGDSSearchFormLocationsField {\n    egdsElementId\n    origin {\n      ...EGDSSearchFormLocationFieldFragment\n    }\n    destination {\n      ...EGDSSearchFormLocationFieldFragment\n    }\n    horizontalSwapper {\n      ...EGDSSecondaryButtonFragment\n    }\n    verticalSwapper {\n      ...EGDSSecondaryButtonFragment\n    }\n    validations {\n      ... on EGDSInputValidation {\n        errorMessage\n      }\n    }\n  }\n  \n  \n".concat([cr.fragment.loc.source.body,or.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},ur="EGDSSearchFormLocationsField",vr=e=>{var n,t,i,l,r;const{originRef:d,destinationRef:o,data:c,index:m,skipReflection:u,onOpenLocationField:v,onLocationsSelection:S,lastSearchLatLong:g,searchLocationAnalytics:p,searchLocationContent:y,flexSection:f}=e,E=(0,s.KY)(),{origin:h,destination:F,updateOrigin:N,updateDestination:T,actionSource:_}=et(f),{origin:I,destination:b,validations:C}=c,{originFieldError:L,setFieldRefByTypename:A}=d,{destinationFieldError:G,setFieldRefByTypename:R}=o,x={__typename:"SearchLocationBasicItem",airportCode:null,coordinates:null,geoType:null,graphic:null,locationFullName:"",itemAccessibilityText:"",primaryText:"",propertyId:null,remove:null,secondaryText:null,analyticsInfo:null,impressionAnalytics:null,regionId:null},O=(0,D.j)("swap_locations",e=>e),[B,P]=a.useState(!u&&h?h:{term:null!=(n=I.value)?n:"",data:x}),[M,$]=a.useState(!u&&F?F:{term:null!=(t=b.value)?t:"",data:x});a.useEffect(()=>{!u&&h&&P(h)},[h,u]),a.useEffect(()=>{!u&&F&&$(F)},[F,u]);const U=e=>{var n,t;e&&"UISecondaryButton"===(null==(n=null==c?void 0:c.horizontalSwapper)?void 0:n.__typename)&&c.horizontalSwapper.analytics?E(c.horizontalSwapper.analytics.referrerId,c.horizontalSwapper.analytics.linkName):!e&&"UISecondaryButton"===(null==(t=null==c?void 0:c.verticalSwapper)?void 0:t.__typename)&&c.verticalSwapper.analytics&&E(c.verticalSwapper.analytics.referrerId,c.verticalSwapper.analytics.linkName)},w=()=>{u||(T({term:B.term,data:B.data},_),null==N||N({term:M.term,data:M.data},_)),P({...M}),$({...B}),Oa("",O),S&&S({term:"",data:{...x,origin:M.term,destination:B.term}})},W=e=>{P(e),f&&(null==N||N(e,"user_input")),S&&S({term:e.term,data:{...e.data,origin:e.term,destination:M.term,index:m}})},V=e=>{$(e),f&&T(e,"user_input"),S&&S({term:e.term,data:{...e.data,origin:B.term,destination:e.term,index:m}})},H={index:m,onOpenLocationField:v,lastSearchLatLong:g,skipReflection:Boolean(f)||u,searchLocationAnalytics:p,searchLocationContent:y},z=a.createElement(or,{...H,setFieldRefByTypename:A,fieldError:L,data:I,onSelection:W,selection:B,onLocationsSelection:W,searchLocationAnalytics:p}),q=null!=(l=null==(i=null==C?void 0:C.find(e=>"EGDSSameValueInputValidation"===e.__typename))?void 0:i.errorMessage)?l:"",Q=(null==(r=null==G?void 0:G.validations)?void 0:r.sameLocationSelected)?q:void 0,K=a.createElement(or,{...H,setFieldRefByTypename:R,fieldError:G,locationsErrorText:Q,data:b,onSelection:V,selection:M,onLocationsSelection:V,searchLocationAnalytics:p}),j=(e=>{var n,t;return"UISecondaryButton"===(null==(n=e.horizontalSwapper)?void 0:n.__typename)&&e.horizontalSwapper.accessibility?e.horizontalSwapper.accessibility:"UISecondaryButton"===(null==(t=e.verticalSwapper)?void 0:t.__typename)&&e.verticalSwapper.accessibility?e.verticalSwapper.accessibility:void 0})(c);return a.createElement(k.LM,null,a.createElement(k.NP,null,a.createElement(Ee.W,{startInput:z,isHorizontalSwapper:!1,onSwapButtonClick:()=>{w(),U(!1)},endInput:K,a11ySwapButtonLabel:j})),a.createElement(k.rw,null,a.createElement(Ee.W,{startInput:z,onSwapButtonClick:()=>{w(),U(!0)},endInput:K,a11ySwapButtonLabel:j})))};vr.displayName=ur,vr.fragment={...mr,__typename:ur};var Sr=({data:e})=>{const{label:n,value:t,egdsElementId:i}=e,l=`${i}-${t}`;return a.createElement("option",{key:l,value:t},n)};Sr.displayName="EGDSBasicOption",Sr.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSBasicOptionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBasicOption"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"changeAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}],loc:{start:0,end:174,source:{body:"\n  fragment EGDSBasicOptionFragment on EGDSBasicOption {\n    label\n    value\n    egdsElementId\n    changeAnalytics {\n      linkName\n      referrerId\n    }\n    __typename\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var gr=e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value,kr=(e,n,t)=>{if("EGDSTravelerChildren"===t.children.__typename){const{children:a}=t;return{...{...a,count:{...a.count,value:e},ages:n.length?n.map(e=>({...a.ageTemplate,value:e})):[]}}}return{...t.children}},pr=e=>{const n=e.map(e=>e.adults.value);return n.every(e=>e===n[0])},yr=(e,n,t,a)=>{var i;if(!t)return null;const l=n.reduce((e,n)=>{var t,a;return e+n.adults.value+n.children.count.value+(null!=(a=null==(t=n.infants)?void 0:t.count.value)?a:0)},0),r="lap"===a?n.reduce((e,n)=>{var t,a;return e+(null!=(a=null==(t=n.infants)?void 0:t.count.value)?a:0)},0):0,d="seat"===a?n.reduce((e,n)=>{var t,a;return e+(null!=(a=null==(t=n.infants)?void 0:t.count.value)?a:0)},0):0,o=n.reduce((e,n)=>{var t;return e+(null!=(t=n.adults.value)?t:0)},0),s=n.reduce((e,n)=>e+n.children.count.value,0),c=n.reduce((e,n)=>{var t;return e+(null!=(t=("EGDSTravelerChildren"===n.children.__typename?n.children.ages:[]).filter(e=>"EGDSTravelerChildAgeSelect"===e.__typename&&e.value&&e.value>=12).length)?t:0)},0),m=(e=>e.reduce((e,n)=>{var t,a;const i="EGDSTravelerChildren"===n.children.__typename?n.children.ages:[],l="EGDSTravelerInfant"===(null==(t=n.infants)?void 0:t.__typename)?n.infants.ages:[];return e+i.filter(gr).length+(null!=(a=l.filter(gr).length)?a:0)},0))(n),u=c+o<r,v=t.map(e=>{var t;if("EGDSTravelersInputValidation"===e.__typename){const{type:a,errorMessage:i,maxCount:r,errorSummary:v,infantsInSeatPerAdult:S}=e;return null!=(t={MAX_TRAVELERS:r&&l>r?{message:i,type:a,displayConfirmation:!0,errorCount:1,errorSummary:{...v,heading:i}}:null,CHILD_AGE_REQUIRED:m>0?{message:i,type:a,displayConfirmation:!1,errorCount:m,errorSummary:v}:null,MANY_INFANT_ON_LAP:u?{message:i,type:a,displayConfirmation:!0,errorCount:1,errorSummary:v}:null,MANY_INFANT_IN_SEAT:S&&c+o<d/S?{message:i,type:a,displayConfirmation:!0,errorCount:1,errorSummary:v}:null,MAX_ROOMS_WITH_CHILD:n.length>1&&s>0?{message:i,type:a,displayConfirmation:!0,errorCount:1,errorSummary:v}:null,EQUAL_ADULTS_BETWEEN_ROOMS:n.length>1&&!pr(n)?{message:i,type:a,displayConfirmation:!0,errorCount:1,errorSummary:v}:null}[a])?t:null}return null}).filter(e=>null!==e);return v.find(n=>e&&e.type===n.type)&&(null==e?void 0:e.displayConfirmation)?{...e,errorCount:"CHILD_AGE_REQUIRED"===e.type?m:1}:null!=(i=v[0])?i:null},fr=(e,n)=>{var t,a,i,l,r,d,o,s,c,m;switch(n.type){case"ADD_ROOM":{const{adults:n,label:i,removeRoomButton:l,removeRoomAnnouncement:r,children:d,infants:o,removeRoomButtonTemplate:s}=e.rooms[0];if("EGDSTravelerStepInput"===n.__typename&&"EGDSTravelerChildren"===d.__typename&&d.ages){const c={...d.count,value:0},m={__typename:"EGDSTravelerSelectorRoom",children:{...d,count:c,ages:[]},adults:{...n,value:1},label:i,removeRoomButton:l,removeRoomButtonTemplate:s,removeRoomAnnouncement:r,infants:"EGDSTravelerInfant"===(null==o?void 0:o.__typename)?{...o,count:{...o.count,value:0},ages:[]}:null},u=e.rooms.concat(m),v=yr(e.error?e.error:null,u,null!=(t=e.validations)?t:[],null==(a=e.infantSeatSelection)?void 0:a.value);return{...e,rooms:u,error:v}}return{...e,rooms:[]}}case"REMOVE_ROOM":{const{roomIndex:t}=n,a=e.rooms.filter((e,n)=>n!==t),r=yr(e.error?e.error:null,a,null!=(i=e.validations)?i:[],null==(l=e.infantSeatSelection)?void 0:l.value);return{...e,rooms:a,error:r}}case"RESET_STATE":return n.state;case"RESET_ROOMS":return{...e,rooms:n.state.rooms};case"UPDATE_INFANT_SEAT_SELECTION":{const{value:t}=n,a=yr(e.error?e.error:null,e.rooms,null!=(r=e.validations)?r:[],t);return{...e,infantSeatSelection:{value:n.value},error:a}}case"UPDATE_TRAVELERS_COUNT":{const{roomIndex:t,count:a,travelersType:i}=n,l=e.rooms.map((e,n)=>{var l,r,d;if(n===t)switch(i){case"adults":return{...e,adults:{...e.adults,value:a}};case"children":if("EGDSTravelerChildren"===e.children.__typename){const{children:n}=e,t=a>n.count.value,i="EGDSTravelerChildAgeSelect"===n.ageTemplate.__typename?{...n.ageTemplate,value:null}:null,d=t?null==(l=n.ages)?void 0:l.concat(null!=i?i:n.ageTemplate):null==(r=n.ages)?void 0:r.slice(0,-1),o={...n,count:{...n.count,value:a},ages:d};return{...e,children:o}}return e;case"infants":if("EGDSTravelerInfant"===(null==(d=e.infants)?void 0:d.__typename)){const{infants:n}=e,t=a>n.count.value?n.ages.concat(n.ageTemplate):n.ages.slice(0,-1),i={...n,count:{...n.count,value:a},ages:t};return{...e,infants:i}}return e;default:return e}return e}),r=yr(e.error?e.error:null,l,null!=(d=e.validations)?d:[],null==(o=e.infantSeatSelection)?void 0:o.value);return{...e,rooms:l,error:r}}case"UPDATE_CHILD_AGE":{const{roomIndex:t,childIndex:a,childAge:i,isInfant:l}=n,r=e.rooms.map((e,n)=>{var r;return n!==t||"EGDSTravelerChildren"!==e.children.__typename||l?n===t&&"EGDSTravelerInfant"===(null==(r=e.infants)?void 0:r.__typename)&&l?{...e,infants:{...e.infants,ages:e.infants.ages.map((e,n)=>"EGDSTravelerChildAgeSelect"===e.__typename&&a===n?{...e,value:i}:{...e})}}:e:{...e,children:{...e.children,ages:e.children.ages.map((e,n)=>"EGDSTravelerChildAgeSelect"===e.__typename&&a===n?{...e,value:i}:{...e})}}}),d=yr(e.error?e.error:null,r,null!=(s=e.validations)?s:[],null==(c=e.infantSeatSelection)?void 0:c.value);return{...e,rooms:r,error:d}}case"GET_ERROR":{const n=yr(e.error?e.error:null,e.rooms,null!=(m=e.validations)?m:[]);return{...e,error:n}}case"SHOW_ERROR":if(e.error){const{message:n,type:t,errorCount:a,errorSummary:i}=e.error,l={message:n,type:t,displayConfirmation:!0,errorCount:a,errorSummary:i};return{...e,error:l}}return{...e};case"SET_VALIDATIONS":return{...e,validations:n.validations};case"UPDATE_TRAVELERS_BULK":{const{adultTravelerCounts:t,childTravelerCounts:a,childrenAges:i}=n;if(null==t?void 0:t.length){const n=t.map((n,t)=>({...e.rooms[t],adults:{...e.rooms[t].adults,value:n},children:(null==i?void 0:i.length)?kr((null==a?void 0:a.length)?a[t]:0,i[t],e.rooms[t]):{...e.rooms[t].children,count:{...e.rooms[t].children.count,value:0},ages:[]}}));return{...e,rooms:n}}return{...e}}default:return e}},Er=a.createContext({state:{}}),hr=({children:e,rooms:n,validations:t,skipQuery:i,infantSeatSelection:l})=>{const[r,d]=a.useReducer(fr,{rooms:n,validations:t,infantSeatSelection:l?{value:l.selected}:null}),[o,s]=a.useState(r);a.useEffect(()=>{i||d({type:"RESET_STATE",state:{rooms:n,validations:t,infantSeatSelection:l?{value:l.selected}:null}})},[i,l,n]),a.useEffect(()=>{r!==o&&s(r)},[r,o]),a.useEffect(()=>{d({type:"SET_VALIDATIONS",validations:t})},[t]);const c={state:o,dispatch:d};return a.createElement(Er.Provider,{value:c},e)},Fr=()=>a.useContext(Er),Dr=e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value,Nr=e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value,Tr=e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value,_r=(e,n,t)=>{var a,i,l,r,d,o,s,c,m,u,v,S;if(!t)return null;const g=null!=(i=null==(a=n.children)?void 0:a.count.value)?i:0,k=null!=(r=null==(l=n.infantsInSeat)?void 0:l.count.value)?r:0,p=null!=(o=null==(d=n.infantsOnLap)?void 0:d.count.value)?o:0,y=null!=(s=n.adults.value)?s:0,f="EGDSTravelerInfant"===(null==(c=n.infantsOnLap)?void 0:c.__typename)&&"EGDSTravelerChildAgeSelect"===(null==(m=n.infantsOnLap.ageTemplate)?void 0:m.__typename)&&!0===n.infantsOnLap.ageTemplate.disabled,E=y+g+k+(f?f?p:0:p),h=(e=>{var n;return"EGDSTravelerChildren"===(null==e?void 0:e.__typename)&&"EGDSTravelerChildAgeSelect"===(null==(n=e.ageTemplate)?void 0:n.__typename)&&!0===e.ageTemplate.disabled?0:"EGDSTravelerChildren"===(null==e?void 0:e.__typename)?e.ages.filter(Dr).length:0})(n.children),F=(e=>"EGDSTravelerInfant"===(null==e?void 0:e.__typename)?null==e?void 0:e.ages.filter(Nr).length:0)(n.infantsInSeat),D=(e=>{var n;return"EGDSTravelerInfant"===(null==e?void 0:e.__typename)&&"EGDSTravelerChildAgeSelect"===(null==(n=e.ageTemplate)?void 0:n.__typename)&&!0===e.ageTemplate.disabled?0:"EGDSTravelerInfant"===(null==e?void 0:e.__typename)?null==e?void 0:e.ages.filter(Tr).length:0})(n.infantsOnLap),N=h+F+D,T="EGDSTravelerChildren"===(null==(u=n.children)?void 0:u.__typename)?null==(v=n.children)?void 0:v.ages.filter(e=>"EGDSTravelerChildAgeSelect"===e.__typename&&e.value&&e.value>=12).length:0,_=T+y<p,I=t.map(e=>{var n;if("EGDSTravelersInputValidation"===e.__typename){const{type:t,errorMessage:a,maxCount:i,errorSummary:l,infantsInSeatPerAdult:r}=e;return null!=(n={MAX_TRAVELERS:i?E>i&&{message:a,type:t,displayConfirmation:!0,errorCount:1,errorSummary:l}:null,CHILD_AGE_REQUIRED:N>0?{message:a,type:t,displayConfirmation:!1,errorCount:N,errorSummary:l}:null,MANY_INFANT_ON_LAP:_?{message:a,type:t,displayConfirmation:!0,errorCount:1,errorSummary:l}:null,MANY_INFANT_IN_SEAT:r&&T+y<k/r?{message:a,type:t,displayConfirmation:!0,errorCount:1,errorSummary:l}:null}[t])?n:null}return null}).filter(e=>!!e);return I.find(n=>e&&e.type===(null==n?void 0:n.type))&&(null==e?void 0:e.displayConfirmation)?{...e,errorCount:"CHILD_AGE_REQUIRED"===e.type?N:1}:null!=(S=I[0])?S:null},Ir=e=>{var n;if(!e||"EGDSBasicCheckBox"!==e.__typename)return e;return{...e,state:null!=(n={CHECKED:"CHECKED",UNCHECKED:"UNCHECKED",INDETERMINATE:"INDETERMINATE"}[e.state])?n:"UNCHECKED"}},br=(e,n)=>{var t,a,i,l;switch(n.type){case"RESET_STATE":return n.state;case"UPDATE_TRAVELERS_COUNT":{const a=((e,n)=>{var t,a,i,l,r,d,o,s,c,m,u,v,S,g,k,p,y,f,E,h;const{travelers:F,initialValues:D}=e;switch(n.travelersType){case"adults":return{...F,adults:{...F.adults,value:n.count}};case"children":if("EGDSTravelerChildren"===(null==(t=F.children)?void 0:t.__typename)){const{children:e}=F,t=n.count>e.count.value;let l=null;"EGDSTravelerChildAgeSelect"===e.ageTemplate.__typename&&(l=!0===e.ageTemplate.disabled?e.ageTemplate:{...e.ageTemplate,value:null});const r=t?null==(a=e.ages)?void 0:a.concat(null!=l?l:e.ageTemplate):null==(i=e.ages)?void 0:i.slice(0,-1),d={...e,count:{...e.count,value:n.count},ages:r};return{...F,children:d}}if("EGDSBasicTraveler"===(null==(l=F.children)?void 0:l.__typename)){const{children:e}=F;return{...F,children:{...e,count:{...e.count,value:n.count}}}}return F;case"infants_in_seat":if("EGDSTravelerInfant"===(null==(r=F.infantsInSeat)?void 0:r.__typename)&&"EGDSTravelerInfant"===(null==(d=F.infantsOnLap)?void 0:d.__typename)){const{infantsInSeat:e,infantsOnLap:t}=F,a=n.count>e.count.value;let i=null;"EGDSTravelerChildAgeSelect"===e.ageTemplate.__typename&&(i=!0===e.ageTemplate.disabled?e.ageTemplate:{...e.ageTemplate,value:null});const l=a?null==(o=e.ages)?void 0:o.concat(null!=i?i:e.ageTemplate):null==(s=e.ages)?void 0:s.slice(0,-1),r={...e,count:{...e.count,value:n.count},ages:l},d=r.count.value>0?0:(null==D?void 0:D.infantsOnLap)||0,u={...t,count:{...null==t?void 0:t.count,max:d}};return{...F,adults:{...F.adults,max:null!=(c=null==D?void 0:D.adults)?c:0},children:F.children?{...F.children,count:{...F.children.count,max:null!=(m=null==D?void 0:D.children)?m:0}}:F.children,infantsInSeat:r,infantsOnLap:u}}if("EGDSBasicTraveler"===(null==(u=F.infantsInSeat)?void 0:u.__typename)){const{infantsInSeat:e}=F;return{...F,infantsInSeat:{...e,count:{...e.count,value:n.count}}}}return F;case"infants":if("EGDSTravelerInfant"===(null==(v=F.infantsOnLap)?void 0:v.__typename)){const{infantsOnLap:e}=F,t=n.count>e.count.value;let a=null;"EGDSTravelerChildAgeSelect"===e.ageTemplate.__typename&&(a=!0===e.ageTemplate.disabled?e.ageTemplate:{...e.ageTemplate,value:null});const i=t?null==(S=e.ages)?void 0:S.concat(null!=a?a:e.ageTemplate):null==(g=e.ages)?void 0:g.slice(0,-1),l={...e,count:{...e.count,value:n.count},ages:i};return{...F,infantsOnLap:l}}if("EGDSBasicTraveler"===(null==(k=F.infantsOnLap)?void 0:k.__typename)){const{infantsOnLap:e}=F;return{...F,infantsOnLap:{...e,count:{...e.count,value:n.count}}}}return F;case"infants_on_lap":if("EGDSTravelerInfant"===(null==(p=F.infantsOnLap)?void 0:p.__typename)&&"EGDSTravelerInfant"===(null==(y=F.infantsInSeat)?void 0:y.__typename)){const{infantsOnLap:e,infantsInSeat:t}=F,a=n.count>e.count.value;let i=null;"EGDSTravelerChildAgeSelect"===e.ageTemplate.__typename&&(i=!0===e.ageTemplate.disabled?e.ageTemplate:{...e.ageTemplate,value:null});const l=a?null==(f=e.ages)?void 0:f.concat(null!=i?i:e.ageTemplate):null==(E=e.ages)?void 0:E.slice(0,-1),r={...e,count:{...e.count,value:n.count},ages:l},d=r.count.value>0?0:(null==D?void 0:D.infantsInSeat)||0,o={...t,count:{...null==t?void 0:t.count,max:d}};return{...F,infantsOnLap:r,infantsInSeat:o}}if("EGDSBasicTraveler"===(null==(h=F.infantsOnLap)?void 0:h.__typename)){const{infantsOnLap:e}=F;return{...F,infantsOnLap:{...e,count:{...e.count,value:n.count}}}}return F;default:return F}})(e,n),i=_r(e.error?e.error:null,a,null!=(t=e.validations)?t:[]);return{...e,travelers:a,error:i}}case"UPDATE_CHILD_AGE":{const t=((e,n)=>{var t,a,i;return"EGDSTravelerChildren"===(null==(t=e.children)?void 0:t.__typename)&&""===n.infantType?{...e,children:{...e.children,ages:e.children.ages.map((e,t)=>"EGDSTravelerChildAgeSelect"===e.__typename&&n.childIndex===t?{...e,value:n.childAge}:{...e})}}:"EGDSTravelerInfant"===(null==(a=e.infantsInSeat)?void 0:a.__typename)&&"infants_in_seat"===n.infantType?{...e,infantsInSeat:{...e.infantsInSeat,ages:e.infantsInSeat.ages.map((e,t)=>"EGDSTravelerChildAgeSelect"===e.__typename&&n.childIndex===t?{...e,value:n.childAge}:{...e})}}:"EGDSTravelerInfant"===(null==(i=e.infantsOnLap)?void 0:i.__typename)&&"infants_on_lap"===n.infantType?{...e,infantsOnLap:{...e.infantsOnLap,ages:e.infantsOnLap.ages.map((e,t)=>"EGDSTravelerChildAgeSelect"===e.__typename&&n.childIndex===t?{...e,value:n.childAge}:{...e})}}:e})(e.travelers,n),i=_r(e.error?e.error:null,t,null!=(a=e.validations)?a:[]);return{...e,travelers:t,error:i}}case"UPDATE_PETS_FILTER":{const t=((e,n)=>{var t;if("EGDSBasicCheckBox"===(null==(t=e.pets)?void 0:t.__typename)){const t=n.checked?"CHECKED":"UNCHECKED";return{...e,pets:{...e.pets,state:t}}}return e})(e.travelers,n),a=_r(e.error?e.error:null,t,null!=(i=e.validations)?i:[]);return{...e,travelers:t,error:a}}case"SHOW_ERROR":if(e.error){const{message:n,type:t,errorCount:a,errorSummary:i}=e.error,l={message:n,type:t,displayConfirmation:!0,errorCount:a,errorSummary:i};return{...e,error:l}}return{...e};case"UPDATE_TRAVELERS_BULK":{const{adultTravelerCounts:t,childTravelerCounts:a,childrenAges:i,petCounts:r,infantsOnLapCounts:d,infantsInSeatCounts:o}=n,s=((e,n,t,a,i,l)=>{var r,d,o,s,c;let m={...l};if(m={...m,adults:{...m.adults,value:e}},"EGDSTravelerChildren"===(null==(r=m.children)?void 0:r.__typename)){const{children:e}=m;m={...m,children:{...m.children,count:{...m.children.count,value:n},ages:t.length?t.map(n=>({...null==e?void 0:e.ageTemplate,value:n})):[]}}}return("EGDSTravelerInfant"===(null==(d=m.infantsOnLap)?void 0:d.__typename)||"EGDSBasicTraveler"===(null==(o=m.infantsOnLap)?void 0:o.__typename))&&(m={...m,infantsOnLap:{...m.infantsOnLap,count:{...m.infantsOnLap.count,value:a}}}),("EGDSTravelerInfant"===(null==(s=m.infantsInSeat)?void 0:s.__typename)||"EGDSBasicTraveler"===(null==(c=m.infantsInSeat)?void 0:c.__typename))&&(m={...m,infantsInSeat:{...m.infantsInSeat,count:{...m.infantsInSeat.count,value:i}}}),m})(t,a,i,d,o,e.travelers),c=((e,n)=>{var t;if("EGDSBasicCheckBox"===(null==(t=e.pets)?void 0:t.__typename)){const t=n>0?"CHECKED":"UNCHECKED";return{...e,pets:Ir({...e.pets,state:t})}}return e})(s,r),m=_r(e.error?e.error:null,s,null!=(l=e.validations)?l:[]);return{...e,travelers:c,error:m}}case"UPDATE_CABIN_CLASS":return{...e,cabinClass:n.cabinClass};default:return e}},Cr=a.createContext({state:{}}),Lr=({children:e,travelers:n,validations:t,skipQuery:i,cabinClass:l})=>{var r,d;const o=a.useMemo(()=>{var e,t,a,i;return{...(null==(e=n.adults)?void 0:e.max)&&{adults:n.adults.max},...(null==(t=n.children)?void 0:t.count.max)&&{children:n.children.count.max},...(null==(a=n.infantsInSeat)?void 0:a.count.max)&&{infantsInSeat:n.infantsInSeat.count.max},...(null==(i=n.infantsOnLap)?void 0:i.count.max)&&{infantsOnLap:n.infantsOnLap.count.max}}},[null==(r=n.infantsInSeat)?void 0:r.count.max,null==(d=n.infantsOnLap)?void 0:d.count.max]),[s,c]=a.useReducer(br,{travelers:n,validations:t,cabinClass:l,initialValues:o}),m=a.useRef({travelers:n,validations:t,cabinClass:l,initialValues:o});a.useEffect(()=>{if(!i){!zi({travelers:n,validations:t,cabinClass:l,initialValues:o},m.current)&&(c({type:"RESET_STATE",state:{travelers:n,validations:t,cabinClass:l,initialValues:o}}),m.current={travelers:n,validations:t,cabinClass:l,initialValues:o})}},[i,n,t,l,o]);const u=a.useMemo(()=>({state:s,dispatch:c,cabinClass:l}),[s,c,l]);return a.createElement(Cr.Provider,{value:u},e)},Ar=()=>a.useContext(Cr),Gr={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSTravelerChildAgeSelectFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSTravelerChildAgeSelect"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labelTemplate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBasicLocalizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"template"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSBasicOptionFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"disabled"},arguments:[],directives:[]}]}}].concat(Sr.fragment.definitions)),loc:{start:0,end:328,source:{body:"\n  fragment EGDSTravelerChildAgeSelectFragment on EGDSTravelerChildAgeSelect {\n    labelTemplate {\n      ... on EGDSBasicLocalizedText {\n        models {\n          key\n          source\n        }\n        template\n      }\n    }\n    options {\n      ...EGDSBasicOptionFragment\n    }\n    egdsElementId\n    value\n    disabled\n  }\n\n  \n".concat([Sr.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Rr=({childIndex:e,roomIndex:n,isInfant:t,infantType:i,childAgeRef:l,data:r})=>{const d=Fr(),o=Ar(),c=void 0!==n,{labelTemplate:m,options:u,egdsElementId:v,value:S,disabled:g}=r,k=(0,s.KY)(),p=`child-${v}${c?`-${n}`:""}-${e}`,y=`age-${v}${c?`-${n}`:""}-${e}`,f=e+1,E=null!=S?S:"",h=Number.isInteger(E),{error:F}=c?d.state:o.state,D="CHILD_AGE_REQUIRED"===(null==F?void 0:F.type)&&F.displayConfirmation,N=F&&"CHILD_AGE_REQUIRED"===F.type&&!h&&D?F.message:"",T="EGDSBasicLocalizedText"===m.__typename&&m.models.length>=1?vn(m.template,m.models[0].key,f.toString()):"";return a.createElement(I._,{domRef:l,disabled:g,invalid:N,label:T,"aria-label":T,id:y,name:p,onChange:a=>{const l=parseInt(a.target.value,10),r=u.find(e=>"EGDSBasicOption"===e.__typename&&e.value===a.target.value);if(r&&"EGDSBasicOption"===(null==r?void 0:r.__typename)&&(null==r?void 0:r.changeAnalytics)){const{referrerId:e,linkName:n}=r.changeAnalytics;k(e,n)}Number.isNaN(l)||(c?d.dispatch({type:"UPDATE_CHILD_AGE",roomIndex:n,childIndex:e,childAge:l,isInfant:t,infantType:i}):o.dispatch({type:"UPDATE_CHILD_AGE",childIndex:e,childAge:l,infantType:i}))},value:E,emptyState:"string"==typeof E,required:!0},u.map(e=>"EGDSBasicOption"===e.__typename&&a.createElement(Sr,{key:`${p}-${e.value}`,data:e})))};Rr.displayName="EGDSTravelerChildAgeSelect",Rr.fragment={...Gr,__typename:"EGDSTravelerChildAgeSelect"};var xr={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSTravelerStepInputFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSStepInput"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSTravelerStepInput"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"decreaseAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"increaseAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"decreaseText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"decreaseTextTemplate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSBasicLocalizedTextFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"increaseText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"increaseTextTemplate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSBasicLocalizedTextFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"min"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"step"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subLabel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}].concat(st.definitions)),loc:{start:0,end:524,source:{body:"\n  fragment EGDSTravelerStepInputFragment on EGDSStepInput {\n    ... on EGDSTravelerStepInput {\n      decreaseAnalytics {\n        linkName\n        referrerId\n      }\n      increaseAnalytics {\n        linkName\n        referrerId\n      }\n      decreaseText\n      decreaseTextTemplate {\n        ...EGDSBasicLocalizedTextFragment\n      }\n      increaseText\n      increaseTextTemplate {\n        ...EGDSBasicLocalizedTextFragment\n      }\n      egdsElementId\n    }\n    label\n    max\n    min\n    step\n    subLabel\n    value\n  }\n\n  \n".concat([st.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Or=(e,n)=>{if("EGDSBasicLocalizedText"===(null==e?void 0:e.__typename)){const t=(n+1).toString();return vn(e.template,e.models[0].key,t)}return""},Br=({roomIndex:e,travelersType:n,data:t})=>{const{label:i,max:l,min:r,subLabel:d,value:o}=t,c=Fr(),m=Ar(),u=(0,s.KY)(),v=void 0!==e,S="EGDSTravelerStepInput"===t.__typename&&(v?{incrementText:Or(t.increaseTextTemplate,e),decrementText:Or(t.decreaseTextTemplate,e)}:{incrementText:t.increaseText||"",decrementText:t.decreaseText||""}),g="EGDSTravelerStepInput"===t.__typename?`${t.egdsElementId}${v?`-${e}`:""}`:"";return a.createElement(Fe.W,{decrementText:"object"==typeof S&&(null==S?void 0:S.decrementText)||"",incrementText:"object"==typeof S&&(null==S?void 0:S.incrementText)||"",label:i||"",incrementId:`${g}-increase`,decrementId:`${g}-decrease`,min:null!=r?r:0,max:null!=l?l:0,onChange:a=>{const i=parseInt(a.target.value,10);if("EGDSTravelerStepInput"===t.__typename){const{increaseAnalytics:e,decreaseAnalytics:n}=t;i>o&&e.referrerId&&e.linkName?u(e.referrerId,t.increaseAnalytics.linkName):n.referrerId&&n.linkName&&u(n.referrerId,t.decreaseAnalytics.linkName)}Number.isNaN(i)||(v?c.dispatch({type:"UPDATE_TRAVELERS_COUNT",travelersType:n,roomIndex:e,count:i}):m.dispatch({type:"UPDATE_TRAVELERS_COUNT",travelersType:n,count:i}))},value:o,description:null!=d?d:"",id:g})};Br.displayName="EGDSTravelersStepInput",Br.fragment={...xr,__typename:"EGDSTravelerStepInput"};var Pr={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSTravelerChildrenFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSTraveler"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTravelerStepInputFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBasicTraveler"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSTravelerChildren"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTravelerChildAgeSelectFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"ageTemplate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTravelerChildAgeSelectFragment"},directives:[]}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSTravelerInfant"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTravelerChildAgeSelectFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"ageTemplate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTravelerChildAgeSelectFragment"},directives:[]}]}}]}}]}}].concat(Br.fragment.definitions,Rr.fragment.definitions)),loc:{start:0,end:535,source:{body:"\n  fragment EGDSTravelerChildrenFragment on EGDSTraveler {\n    count {\n      ...EGDSTravelerStepInputFragment\n    }\n    ... on EGDSBasicTraveler {\n      type\n    }\n    ... on EGDSTravelerChildren {\n      ages {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n      ageTemplate {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n    }\n    ... on EGDSTravelerInfant {\n      ages {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n      ageTemplate {\n        ...EGDSTravelerChildAgeSelectFragment\n      }\n    }\n  }\n\n  \n  \n".concat([Br.fragment.loc.source.body,Rr.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Mr=({data:e,childAgeRef:n,roomIndex:t,travelersType:i})=>{var l,r;const{count:d,__typename:o}=e,s="infants"===i||"infants_on_lap"===i||"infants_in_seat"===i,c=("EGDSTravelerChildren"===o||"EGDSTravelerInfant"===o)&&"EGDSTravelerChildAgeSelect"===(null==(l=e.ageTemplate)?void 0:l.__typename)&&!0===e.ageTemplate.disabled&&e.travelerCategoryEnabled,m=("EGDSTravelerInfant"!==e.__typename&&"EGDSTravelerChildren"!==e.__typename||!e.ages?[]:e.ages).findIndex(e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value);return a.createElement(a.Fragment,null,d&&"EGDSTravelerStepInput"===d.__typename&&a.createElement(Br,{travelersType:i,roomIndex:t,data:d}),("EGDSTravelerChildren"===o||"EGDSTravelerInfant"===o)&&!c&&a.createElement(z.X,{wrap:"wrap"},null==(r=e.ages)?void 0:r.map((e,l)=>"EGDSTravelerChildAgeSelect"===e.__typename&&a.createElement(a.Fragment,{key:l},a.createElement(A.N,{padding:{blockstart:"two",inlineend:"two"}},a.createElement(q.C,{minWidth:"full_width"},a.createElement("div",null,a.createElement(Rr,{key:l,childIndex:l,roomIndex:t,isInfant:s,infantType:s?i:"",data:e,childAgeRef:m===l?n:void 0}))))))))};Mr.displayName="EGDSTravelersChildren",Mr.fragment={...Pr,__typename:"EGDSTravelerChildren"};var $r=({data:e})=>{const{state:n,dispatch:t}=Ar(),{pets:i}=n.travelers;if("EGDSBasicCheckBox"!==(null==i?void 0:i.__typename))return null;const l="CHECKED"===i.state;return a.createElement(ln,{data:e,checked:l,onChange:e=>{t({type:"UPDATE_PETS_FILTER",checked:e.currentTarget.checked})}})},Ur={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSTravelersFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSTravelers"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"adults"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTravelerStepInputFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"children"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTravelerChildrenFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"infantsInSeat"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTravelerChildrenFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"infantsOnLap"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTravelerChildrenFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"pets"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSBasicCheckBoxFragment"},directives:[]}]}}]}}].concat(ln.fragment.definitions,Mr.fragment.definitions,Br.fragment.definitions)),loc:{start:0,end:363,source:{body:"\n  fragment EGDSTravelersFragment on EGDSTravelers {\n    adults {\n      ...EGDSTravelerStepInputFragment\n    }\n    children {\n      ...EGDSTravelerChildrenFragment\n    }\n    infantsInSeat {\n      ...EGDSTravelerChildrenFragment\n    }\n    infantsOnLap {\n      ...EGDSTravelerChildrenFragment\n    }\n    pets {\n      ...EGDSBasicCheckBoxFragment\n    }\n  }\n\n  \n  \n  \n".concat([ln.fragment.loc.source.body,Mr.fragment.loc.source.body,Br.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},wr=({childAgeRef:e,infantsOnLapRef:n,infantsInSeatRef:t,isTravelersExpanded:i,travelerCategoryEnabled:l,data:r})=>{var d;const{adults:o,children:s,pets:c,infantsInSeat:m,infantsOnLap:u}=r,v=a.useRef(null),S="EGDSTravelerInfant"===(null==u?void 0:u.__typename)&&"EGDSTravelerChildAgeSelect"===(null==(d=u.ageTemplate)?void 0:d.__typename)&&!0===u.ageTemplate.disabled&&l;return a.useEffect(()=>{var e;i&&(null==(e=v.current)||e.focus())},[i]),a.createElement(a.Fragment,null,"EGDSTravelerStepInput"===o.__typename&&a.createElement(A.N,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement("span",{className:"is-visually-hidden",tabIndex:-1,ref:v},o.label),a.createElement(Br,{travelersType:"adults",data:o}))),("EGDSTravelerChildren"===(null==s?void 0:s.__typename)||"EGDSBasicTraveler"===(null==s?void 0:s.__typename))&&a.createElement(A.N,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(Mr,{travelersType:"children",childAgeRef:e,data:{...s,travelerCategoryEnabled:l}}))),S&&a.createElement(A.N,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(Mr,{travelersType:"infants",childAgeRef:n,data:{...u,travelerCategoryEnabled:l}}))),!S&&("EGDSTravelerInfant"===(null==u?void 0:u.__typename)||"EGDSBasicTraveler"===(null==u?void 0:u.__typename))&&a.createElement(A.N,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(Mr,{travelersType:"infants_on_lap",childAgeRef:n,data:{...u,travelerCategoryEnabled:l}}))),("EGDSTravelerInfant"===(null==m?void 0:m.__typename)||"EGDSBasicTraveler"===(null==m?void 0:m.__typename))&&a.createElement(A.N,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(Mr,{travelersType:"infants_in_seat",childAgeRef:t,data:{...m,travelerCategoryEnabled:l}}))),"EGDSBasicCheckBox"===(null==c?void 0:c.__typename)&&a.createElement(A.N,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement($r,{data:c}))))};wr.displayName="EGDSTravelers",wr.fragment={...Ur,__typename:"EGDSTravelers"};var Wr={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSBasicTravelerSelectorFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBasicTravelerSelector"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"closeButton"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSPrimaryButtonFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTertiaryButtonFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"doneButton"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSPrimaryButtonFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"travelerCategoryEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subTitles"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"travelers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTravelersFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"validations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSTravelersInputValidation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infantsInSeatPerAdult"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errorSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSErrorSummaryFragment"},directives:[]}]}}]}}]}}]}}].concat(pn.fragment.definitions,Pe.fragment.definitions,$e.fragment.definitions,wr.fragment.definitions)),loc:{start:0,end:580,source:{body:"\n  fragment EGDSBasicTravelerSelectorFragment on EGDSBasicTravelerSelector {\n    closeButton {\n      ...EGDSPrimaryButtonFragment\n      ...EGDSTertiaryButtonFragment\n    }\n    doneButton {\n      ...EGDSPrimaryButtonFragment\n    }\n    title\n    travelerCategoryEnabled\n    subTitles\n    travelers {\n      ...EGDSTravelersFragment\n    }\n    validations {\n      ... on EGDSTravelersInputValidation {\n        errorMessage\n        maxCount\n        type\n        infantsInSeatPerAdult\n        errorSummary {\n          ...EGDSErrorSummaryFragment\n        }\n      }\n    }\n  }\n\n  \n  \n  \n  \n".concat([pn.fragment.loc.source.body,Pe.fragment.loc.source.body,$e.fragment.loc.source.body,wr.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Vr=({data:e,onSubmit:n,isTravelersExpanded:t,cabinClassField:l,travelersComposition:r,onCabinClassSelect:d})=>{const{doneButton:o,subTitles:s,travelerCategoryEnabled:c}=e,{state:m,dispatch:u}=Ar(),v=a.useRef(null),S=a.useRef(null),g=a.useRef(null),{travelers:p,error:y}=m,f=null==r?void 0:r.title,h=v.current?v:S.current?S:g,F=e=>{if(e&&u&&(u({type:"UPDATE_CABIN_CLASS",cabinClass:e.label}),d&&l)){const n=`${Bi}-${l.egdsElementId}`;d({name:n,value:e.value})}};return a.createElement(z.X,{direction:"column"},(null==y?void 0:y.displayConfirmation)&&a.createElement(A.N,{padding:{blockstart:"four"}},a.createElement("div",null,a.createElement(pn,{data:y.errorSummary,errorName:"SEARCH_FORM_TRAVELERS_ERROR",inputErrorRef:h,errorCount:y.errorCount}))),a.createElement("section",null,a.createElement(E.D,{size:300,weight:"medium"},f),a.createElement(wr,{data:p,childAgeRef:v,infantsOnLapRef:S,infantsInSeatRef:g,isTravelersExpanded:t,...c&&{travelerCategoryEnabled:c}}),null==s?void 0:s.map((e,n)=>a.createElement(E.D,{key:`travelers-sub-title-${n}`,spacing:"three",theme:"secondary"},e)),l?a.createElement(A.N,{padding:{small:{blockstart:"four"}}},a.createElement("div",null,a.createElement($i,{data:l,triggerType:"selector",onOptionSelect:F,hideIcon:!0,getModifiedOptions:e=>((e,n)=>n?e.map(e=>({...e,selected:e.label===n})):e)(e,m.cabinClass)}))):null),"UIPrimaryButton"===o.__typename&&a.createElement(k.LM,null,a.createElement(k.rw,null,a.createElement(A.N,{padding:{blockstart:"four",blockend:"three"}},a.createElement(z.X,{justifyContent:"end"},a.createElement(q.C,null,a.createElement(Pe,{isFullWidth:!1,onClick:()=>{n&&n("menu")},data:o,size:i.V.MEDIUM})))))))};Vr.displayName="EGDSBasicTravelerSelector",Vr.fragment={...Wr,__typename:"EGDSBasicTravelerSelector"};var Hr={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSTravelerInfantSeatSelectFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSTravelerInfantSeatSelection"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"airlineAgeRule"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSStandardLinkFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"groupName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labelTemplate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSCardinalLocalizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"templates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"template"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"selected"},arguments:[],directives:[]}]}}].concat(St.fragment.definitions)),loc:{start:0,end:439,source:{body:"\n  fragment EGDSTravelerInfantSeatSelectFragment on EGDSTravelerInfantSeatSelection {\n    airlineAgeRule {\n      ...EGDSStandardLinkFragment\n    }\n    groupName\n    labelTemplate {\n      ... on EGDSCardinalLocalizedText {\n        text\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n      }\n    }\n    options {\n      label\n      value\n    }\n    selected\n  }\n  \n".concat([St.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},zr=({data:e})=>{var n;const{state:t,dispatch:i}=Fr(),l=t.rooms.reduce((e,n)=>{var t,a,i;return e+(null!=(i=null==(a=null==(t=n.infants)?void 0:t.count)?void 0:a.value)?i:0)},0),r=null==(n=t.infantSeatSelection)?void 0:n.value;if("EGDSCardinalLocalizedText"!==e.labelTemplate.__typename||0===l||!r)return null;const{labelTemplate:d,options:o,airlineAgeRule:s,groupName:c}=e,m=1===l?d.text:d.templates[1].template;return a.createElement(A.N,{padding:{blockstart:"twelve"}},a.createElement(z.X,{direction:"column"},a.createElement(q.C,null,a.createElement(E.D,null,m)),a.createElement(q.C,null,a.createElement(De.S,{group:c,selected:r,onChange:e=>{i({type:"UPDATE_INFANT_SEAT_SELECTION",value:e.currentTarget.value})},defaultChecked:!0},o.map((e,n)=>a.createElement(A.N,{key:`radioInfant${n+1}`,margin:0===n?{blockstart:"three"}:void 0},a.createElement("div",null,a.createElement(Ne.P,{id:e.value,value:e.value},e.label)))))),a.createElement(q.C,null,a.createElement(A.N,{padding:{blockstart:"two",blockend:"six"}},a.createElement("div",null,a.createElement(St,{data:s}))))))};zr.displayName="EGDSTravelerInfantSeatSelect",zr.fragment={...Hr,__typename:"EGDSTravelerInfantSeatSelection"};var qr={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSTravelerSelectorRoomFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSTravelerSelectorRoom"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBasicLocalizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"template"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"adults"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTravelerStepInputFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"children"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTravelerChildrenFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"infants"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTravelerChildrenFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"removeRoomButton"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTertiaryButtonFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"removeRoomButtonTemplate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBasicLocalizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"template"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"removeRoomAnnouncement"},arguments:[],directives:[]}]}}].concat(Br.fragment.definitions,Mr.fragment.definitions,$e.fragment.definitions)),loc:{start:0,end:653,source:{body:"\n  fragment EGDSTravelerSelectorRoomFragment on EGDSTravelerSelectorRoom {\n    label {\n      ... on EGDSBasicLocalizedText {\n        models {\n          key\n          source\n        }\n        template\n      }\n    }\n    adults {\n      ...EGDSTravelerStepInputFragment\n    }\n    children {\n      ...EGDSTravelerChildrenFragment\n    }\n    infants {\n      ...EGDSTravelerChildrenFragment\n    }\n    removeRoomButton {\n      ...EGDSTertiaryButtonFragment\n    }\n    removeRoomButtonTemplate {\n      ... on EGDSBasicLocalizedText {\n        models {\n          key\n          source\n        }\n        template\n      }\n    }\n    removeRoomAnnouncement\n  }\n\n  \n  \n  \n".concat([Br.fragment.loc.source.body,Mr.fragment.loc.source.body,$e.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Qr=({roomIndex:e,childAgeRef:n,data:t,isTravelersExpanded:i,focusAddRoomButton:l})=>{var r;const{adults:d,children:o,infants:s,label:c,removeRoomButton:m,removeRoomButtonTemplate:u,removeRoomAnnouncement:v}=t,{state:S,dispatch:g}=Fr(),k=a.useRef(),p=a.useRef(S.rooms.length);a.useEffect(()=>{var n;i&&0===e&&(null==(n=k.current)||n.focus())},[i]),a.useEffect(()=>{var n;i&&S.rooms.length>=p.current&&e===S.rooms.length-1&&(null==(n=k.current)||n.focus()),p.current=S.rooms.length},[S.rooms.length]);const y="EGDSTravelerChildren"===o.__typename&&(null==(r=o.ages)?void 0:r.some(e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value)),E=e+1,F=u&&"EGDSBasicLocalizedText"===u.__typename?((e,n)=>{var t,a;return"EGDSBasicLocalizedText"===(null==e?void 0:e.__typename)?vn(e.template,null!=(a=null==(t=e.models[0])?void 0:t.key)?a:"roomNumber",n.toString()):""})(u,E):"";return a.createElement(a.Fragment,null,"EGDSBasicLocalizedText"===c.__typename&&1===c.models.length&&a.createElement(f.M,{size:7,tag:"h2",domRef:k,tabIndex:-1},vn(c.template,c.models[0].key,E.toString())),"EGDSTravelerStepInput"===d.__typename&&a.createElement(A.N,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(Br,{travelersType:"adults",roomIndex:e,data:d}))),"EGDSTravelerChildren"===o.__typename&&a.createElement(A.N,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(Mr,{travelersType:"children",roomIndex:e,childAgeRef:n,data:o}))),"EGDSTravelerInfant"===(null==s?void 0:s.__typename)&&a.createElement(A.N,{padding:{blockstart:"two"}},a.createElement("div",null,a.createElement(Mr,{travelersType:"infants",roomIndex:e,childAgeRef:y?void 0:n,data:s}))),S.rooms.length>1&&m&&"UITertiaryButton"===m.__typename&&a.createElement(A.N,{padding:{blockstart:"two"}},a.createElement(z.X,{justifyContent:"end"},a.createElement(q.C,null,a.createElement($e,{id:`${m.egdsElementId}_${e+1}`,onClick:()=>{v&&(0,h.liveAnnounce)(v,h.Level.ASSERTIVE),l&&l(),g({type:"REMOVE_ROOM",roomIndex:e})},data:{...m,accessibility:F}})))))};Qr.displayName="EGDSTravelerSelectorRoom",Qr.fragment={...qr,__typename:"EGDSTravelerSelectorRoom"};var Kr={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSRoomsTravelerSelectorFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSRoomsTravelerSelector"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addAnotherRoomButton"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTertiaryButtonFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"closeButton"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSPrimaryButtonFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTertiaryButtonFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"doneButton"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSPrimaryButtonFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"infantSeatSelection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTravelerInfantSeatSelectFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"maxRoomCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rooms"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTravelerSelectorRoomFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSTravelersInputValidation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"infantsInSeatPerAdult"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errorSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSErrorSummaryFragment"},directives:[]}]}}]}}]}}]}}].concat(pn.fragment.definitions,Pe.fragment.definitions,$e.fragment.definitions,Qr.fragment.definitions,zr.fragment.definitions)),loc:{start:0,end:712,source:{body:"\n  fragment EGDSRoomsTravelerSelectorFragment on EGDSRoomsTravelerSelector {\n    addAnotherRoomButton {\n      ...EGDSTertiaryButtonFragment\n    }\n    closeButton {\n      ...EGDSPrimaryButtonFragment\n      ...EGDSTertiaryButtonFragment\n    }\n    doneButton {\n      ...EGDSPrimaryButtonFragment\n    }\n    infantSeatSelection {\n      ...EGDSTravelerInfantSeatSelectFragment\n    }\n    maxRoomCount\n    rooms {\n      ...EGDSTravelerSelectorRoomFragment\n    }\n    title\n    validations {\n      ... on EGDSTravelersInputValidation {\n        errorMessage\n        maxCount\n        type\n        infantsInSeatPerAdult\n        errorSummary {\n          ...EGDSErrorSummaryFragment\n        }\n      }\n    }\n  }\n\n  \n  \n  \n  \n  \n".concat([pn.fragment.loc.source.body,Pe.fragment.loc.source.body,$e.fragment.loc.source.body,Qr.fragment.loc.source.body,zr.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},jr=({data:e,onSubmit:n,isTravelersExpanded:t,groupStaysLink:l})=>{const{addAnotherRoomButton:r,doneButton:d,maxRoomCount:o,infantSeatSelection:s}=e,{state:c,dispatch:m}=Fr(),u=a.useRef(null),v=a.useRef(null),{rooms:S,error:g}=c,[,p]=a.useState(S);if(a.useEffect(()=>{p(S)},[S]),S.length<1)return null;const y=()=>{var e;null==(e=v.current)||e.focus()},f={...r,disabled:!!o&&S.length>=o},E=S.findIndex(e=>{var n,t,a,i,l,r;return"EGDSTravelerChildren"===e.children.__typename&&(null==(n=e.children)?void 0:n.ages)&&(null==(t=e.children)?void 0:t.ages.some(e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value))||null!=(r="EGDSTravelerInfant"===(null==(a=e.infants)?void 0:a.__typename)&&(null==(i=e.infants)?void 0:i.ages)&&(null==(l=e.infants)?void 0:l.ages.some(e=>"EGDSTravelerChildAgeSelect"===e.__typename&&null===e.value)))&&r}),h="UIPrimaryButton"===d.__typename&&a.createElement(A.N,{padding:{blockstart:"four",blockend:"three"}},a.createElement(z.X,{justifyContent:"end"},a.createElement(q.C,null,a.createElement(Pe,{isFullWidth:!1,onClick:()=>{n&&n("menu")},data:d,size:i.V.MEDIUM}))));return a.createElement(z.X,{direction:"column"},(null==g?void 0:g.displayConfirmation)&&a.createElement(pn,{data:g.errorSummary,errorName:"SEARCH_FORM_TRAVELERS_ERROR",inputErrorRef:u,errorCount:g.errorCount}),a.createElement("section",null,S.map((e,n)=>a.createElement(A.N,{padding:{blockstart:(null==g?void 0:g.displayConfirmation)?"two":"unset"},key:n},a.createElement("div",null,a.createElement(Qr,{roomIndex:n,data:e,childAgeRef:E===n?u:void 0,isTravelersExpanded:t,focusAddRoomButton:y})))),"UITertiaryButton"===f.__typename&&a.createElement(A.N,{padding:{small:{blockstart:"two",blockend:l?"two":"sixteen"},medium:{blockend:"unset"}}},a.createElement(z.X,{justifyContent:"end"},a.createElement(q.C,null,a.createElement($e,{onClick:()=>{m({type:"ADD_ROOM"})},data:f,domRef:v})))),s&&a.createElement(zr,{data:s})),a.createElement(k.LM,null,a.createElement(k.NP,null,a.createElement("div",null,l&&a.createElement(A.N,{margin:{small:{blockstart:"two",blockend:"sixteen"}}},l))),a.createElement(k.rw,null,a.createElement(A.N,{padding:{blockstart:"twelve"}},a.createElement(z.X,{alignContent:"space-around",alignItems:"center",direction:"row",justifyContent:l?"space-between":"end",wrap:"nowrap",space:"medium"},l&&a.createElement(q.C,null,l),a.createElement(q.C,null,h))))))};jr.displayName="EGDSRoomsTravelerSelector",jr.fragment={...Kr,__typename:"EGDSRoomsTravelerSelector"};function Yr(e){if(/^\d{4}-\d{2}-\d{2}$/.test(e)){const[n,t,a]=e.split("-");return`${t}-${a}-${n}`}return e}var Xr={ONE_WAY:"oneway",ROUND_TRIP:"roundtrip",MULTI_DESTINATION:"multi"},Jr=(e=>(e.LODGING="LODGING",e.CRUISES_ODYSSEUS="CRUISES_ODYSSEUS",e.FLIGHTS="FLIGHTS",e.ACTIVITIES="ACTIVITIES",e))(Jr||{}),Zr={LODGING:e=>{const n=e.reduce((e,n)=>{const{name:t,value:a,checked:i}=n;if(t.startsWith(`${zt}-destination`))return{...e,destination:encodeURIComponent(a)};if(t.startsWith(`${qt}-destination`)&&"null"!==a)return{...e,regionId:a};if(t.startsWith(`${Qt}-destination`)&&a)return{...e,latLong:a};if(t.startsWith(`${Kt}-destination`)&&a)return{...e,latLong:encodeURIComponent(`${e.latLong},${a}`)};if(t.startsWith(`${Xt}-destination`)&&a)return{...e,amenities_facilities_group:a};if(t.startsWith(`${Jt}-destination`)&&a)return{...e,location_group:a};if(t.startsWith(`${Zt}-destination`)&&a)return{...e,properties_good_for_group:a};if(t.startsWith(`${ea}-destination`)&&a)return{...e,property_type_group:a};if(t.startsWith(ta)&&a){const n=t.split(`${ta}-`).pop();return{...e,...n?{[n]:a}:{}}}if(t.startsWith(_i.START_DATE_NAME_PREFIX))return{...e,d1:a,startDate:a};if(t.startsWith(_i.END_DATE_NAME_PREFIX))return{...e,d2:a,endDate:a};if(t.startsWith(_i.FLEXIBILITY_PREFIX))return{...e,flexibility:a};if(t.startsWith(_i.FLEXIBILITY_NIGHTS_PREFIX))return{...e,flexibility:a};if(t.startsWith(_i.FLEXIBILITY_WEEKEND_PREFIX))return{...e,flexibleSearchRequirement:a};if(t.startsWith(_i.FLEXIBILITY_MONTHS_PREFIX))return{...e,searchRange:a};if(t.startsWith(`${na}`))return{...e,propertyId:a};if(t.startsWith(ia)){const{adults:n}=e,t=n?`${n},${a}`:a,i=t.split(",").length;return{...e,adults:t,rooms:i}}if(t.startsWith(la)){const{children:n}=e,i=`${t.substr(la.length,1)}_${a}`,l=n?`${n},${i}`:i;return{...e,children:l}}if(t.startsWith(da))return{...e,adults:a};if(t.startsWith(oa)){const{children:n}=e,t=`${1}_${a}`,i=n?`${n},${t}`:t;return{...e,children:i}}if(t.startsWith(sa)||t.startsWith(ca)){const{children:n}=e,t=`${1}_${a}`,i=n?`${n},${t}`:t;return{...e,children:i}}return t.startsWith(ma)?{...e,..."CHECKED"===a&&{house_rules_group:"pets_allowed"}}:t.startsWith(Yt)?a?{...e,selected:a,hotelId:a}:{...e}:t.startsWith(`${zt}-origin`)?{...e,origin:a}:t.startsWith("EGDSSoftPackagesPackageType")&&a.length>0?{...e,packageType:a}:t.startsWith(`${ga}-add-flight`)||t.startsWith("add-flight-switch")?{...e,...i?{"add-flight-switch":i}:{}}:t.startsWith(`${ga}-add-car`)||t.startsWith("add-car-switch")?{...e,...i?{"add-car-switch":i}:{}}:t.startsWith("EGDSSearchFormCheckboxWithInfo-business-verification")?{...e,...i&&a?{travelPurpose:a}:{}}:e},{});return`?${Object.keys(n).map(e=>{if(e.includes("flexibility")){return n[e].split(",").map(n=>`${e}=${n}`).join("&")}if(e.includes("searchRange")){return n[e].split("/").map(n=>`${e}=${n}`).join("&")}return`${e}=${n[e]}`}).join("&")}`},CRUISES_ODYSSEUS:e=>{const n=e.reduce((e,{name:n,value:t})=>n.startsWith(jt)?{...e,destinations:t}:n.startsWith(_i.START_DATE_NAME_PREFIX)?{...e,startdate:Yr(t)}:n.startsWith(_i.END_DATE_NAME_PREFIX)?{...e,enddate:Yr(t)}:n.startsWith(va)?{...e,minduration:t}:n.startsWith(Sa)?{...e,maxduration:t}:e,{});return`${Object.keys(n).map(e=>`${e}=${n[e]}`).join("&")}`},FLIGHTS:e=>{const n={from:"",to:"",departureDate:""},t={adults:0,seniors:0,childAges:[]},a=e.reduce((e,{name:a,value:i})=>a.includes("flight_type_selector")?{...e,trip:Xr[i]}:a.includes("cabin_class")?{...e,options:`cabinclass:${i}`}:a.startsWith(zt)&&a.includes("origin_select")?(n.from=i,e):a.startsWith(zt)&&a.includes("destination_select")?(n.to=i,e):a.startsWith(_i.START_DATE_NAME_PREFIX)?(n.departureDate=i,{...e,fromDate:i}):a.startsWith(da)?(t.adults=+i,e):a.startsWith(oa)?(t.childAges.push(i),e):e,{"flight-type":"on",mode:"search"}),i=t.childAges.length||0,l=i?`${i}[${t.childAges.join(";")}]`:i.toString();a.legs=[n],a.passengers=`children:${l},adults:${t.adults},seniors:0,infantinlap:Y`;return`?${Object.keys(a).map(e=>"legs"===e&&a.legs?a.legs.map((e,n)=>`leg${n+1}=from:${e.from},to:${e.to},departure:${e.departureDate}TANYT`).join("&"):`${e}=${a[e]}`).join("&")}`},ACTIVITIES:e=>{const n=e.reduce((e,{name:n,value:t})=>n.startsWith(zt)?{...e,location:t}:n.startsWith(qt)?{...e,rid:t}:n.startsWith(_i.START_DATE_NAME_PREFIX)?{...e,d1:t,startDate:t}:n.startsWith(_i.END_DATE_NAME_PREFIX)?{...e,d2:t,endDate:t}:e,{});return`?${Object.keys(n).map(e=>`${e}=${n[e]}`).join("&")}`}},ed=(e,n)=>{const t=["EGDS","SearchForm","add"],a=n.filter(({name:e})=>t.find(n=>e.startsWith(n)));return Zr[e](a)},nd=(e,n,t=!1,a="en_US")=>{const i=t?"secondaryTemplates":"templates",l=new Intl.PluralRules(a.replace("_","-")).select(n).toUpperCase(),r=e[i].find(e=>e.category===l);return r?vn(r.template,e.models[0].key,n.toString()):""},td=(e,n="en_US",...t)=>{const{models:a,template:i}=e,l=a.map((e,a)=>"EGDSCardinalLocalizedText"===e.models.__typename?nd(e.models,t[a],!1,n):"");return a.reduce((e,n,t)=>vn(e,n.key,l[t]),i)},ad="EGDSSearchFormTravelersField-",id=`${ad}Adult`,ld=`${ad}ChildrenAge`,rd=`${ad}InfantInSeatAge`,dd=`${ad}InfantOnLapAge`,od=`${ad}Pets`,sd=({ages:e,prefix:n})=>a.createElement(a.Fragment,null,e.map((e,t)=>{var i;if("EGDSTravelerChildAgeSelect"===e.__typename){const l=`${n}-${t+1}`;return a.createElement("input",{key:t,type:"hidden","data-stid":l,name:l,value:null!=(i=e.value)?i:""})}return null})),cd=e=>{const n={"business class":"BUSINESS","first class":"FIRST_CLASS","premium economy":"ECONOMY_PREMIUM",economy:"COACH",default:"COACH"};return n[e.toLowerCase()]||n.default},md=({label:e,leftIcon:n,action:t,labelTemplate:i,readOnly:l,isAnyPetAllowed:r,onOpenTravelerField:d,onCloseTravelerField:o,menuPosition:c,cabinClassField:m,travelersComposition:u,inputValidationError:v,setTravelersFieldErrorState:S,setFieldRefByTypename:g,onCabinClassSelect:p})=>{var y,f,E;const{analytics:h,travelerSelector:F}=t,{doneButton:N}=F,{context:T}=(0,P.R)(),{locale:_}=T,I=(0,s.KY)(),{dispatch:b,state:C}=Ar(),L=qn(),[G,R,x]=(0,me.useDialog)("travelerSelectorDialog"),O=a.useRef(null),[B,M]=a.useState(!1),[$,U]=a.useState(C),[w,W]=a.useState(null!=(y=null==i?void 0:i.text)?y:""),V=!!m,{error:H}=C;a.useEffect(()=>{null==g||g("EGDSSearchFormTravelersField",O)},[]),a.useEffect(()=>{void 0!==H&&(null==S||S(!!H))},[H]);const z=(0,D.j)(F.__typename,e=>e),q=e=>{var n,t,a,l,r,d,o,s,c,m,u,v,S,g;const k=null!=(t=null==(n=e.adults)?void 0:n.value)?t:0,p=null!=(r=null==(l=null==(a=e.children)?void 0:a.count)?void 0:l.value)?r:0,y=null!=(s=null==(o=null==(d=e.infantsInSeat)?void 0:d.count)?void 0:o.value)?s:0,f=null!=(u=null==(m=null==(c=e.infantsOnLap)?void 0:c.count)?void 0:m.value)?u:0,E="EGDSTravelerInfant"===(null==(v=e.infantsOnLap)?void 0:v.__typename)&&"EGDSTravelerChildAgeSelect"===(null==(S=e.infantsOnLap.ageTemplate)?void 0:S.__typename)&&"EGDSBasicTravelerSelector"===F.__typename&&F.travelerCategoryEnabled,h=k+p+y+(E?E?f:0:f),D="EGDSBasicCheckBox"===(null==(g=null==e?void 0:e.pets)?void 0:g.__typename)&&"CHECKED"===e.pets.state;return nd(i,h,D,_)};a.useEffect(()=>{var e;if(void 0!==r&&b({type:"UPDATE_PETS_FILTER",checked:r}),"EGDSBasicCheckBox"===(null==(e=$.travelers.pets)?void 0:e.__typename)){const e=r?"CHECKED":"UNCHECKED",n={...$,travelers:{...$.travelers,pets:{...$.travelers.pets,state:e}}};U(n)}},[r]);const Q=V&&C.cabinClass?`${q(C.travelers)}, ${C.cabinClass}`:q(C.travelers);if(a.useEffect(()=>{W(Q)},[C.travelers,Q]),a.useEffect(()=>{var e,n,t,a,i,l,r;if(L.state.travelers){const d=Qn(L.state.travelers);(null==(e=null==d?void 0:d.adultTravelerCounts)?void 0:e.length)&&b({type:"UPDATE_TRAVELERS_BULK",adultTravelerCounts:(null==(n=d.adultTravelerCounts)?void 0:n.length)?d.adultTravelerCounts[0]:0,childTravelerCounts:(null==(t=d.childTravelerCounts)?void 0:t.length)?d.childTravelerCounts[0]:0,childrenAges:(null==(a=d.childrenAges)?void 0:a.length)&&d.childrenAges[0].length?d.childrenAges[0]:[],petCounts:(null==(i=d.petCounts)?void 0:i.length)?d.petCounts[0]:0,infantsOnLapCounts:(null==(l=d.infantsOnLapCounts)?void 0:l.length)?d.infantsOnLapCounts[0]:0,infantsInSeatCounts:(null==(r=d.infantsInSeatCounts)?void 0:r.length)?d.infantsInSeatCounts[0]:0})}},[L.state.travelers]),"EGDSBasicTravelerSelector"!==F.__typename)return null;const K=()=>{const e=!B;!H||e?(null==d||d(),e&&U(C),M(e),h.referrerId&&h.linkName&&I(h.referrerId,h.linkName)):(b({type:"SHOW_ERROR"}),M(!0))},j=async()=>{C.error&&(await b({type:"SHOW_ERROR"}),M(!0)),C.error||zi($,C)||(U(C),Oa("submit",z))},Y=e=>{const n=q(e),t=V&&C.cabinClass?`${n}, ${C.cabinClass}`:n;Oa(t,z),W(t)},X=e=>{var n;zi($,e)||(Y(e.travelers),U(e)),null==(n=O.current)||n.focus(),R.closeDialog()},J=e=>{var n;if(H&&"CHILD_AGE_REQUIRED"===H.type&&(b({type:"SHOW_ERROR"}),null==(n=H.errorSummary)?void 0:n.impressionAnalytics)){const e=`${H.errorSummary.impressionAnalytics.referrerId}.For.NoChildAgeSubmit`,n=H.errorSummary.impressionAnalytics.linkName||"";I(e,n)}H||("menu"===e?(e=>{var n;zi($,e)||(Y(e.travelers),U(e)),M(e=>!e),null==(n=O.current)||n.focus()})(C):X(C))},{adults:Z,children:ee,pets:ie,infantsInSeat:le,infantsOnLap:re}=C.travelers,ce="EGDSBasicCheckBox"===(null==ie?void 0:ie.__typename);return a.createElement(a.Fragment,null,a.createElement(k.LM,null,a.createElement(k.zQ,null,a.createElement(ne.p,{isOpen:B,onTriggerClick:K,onDismiss:j},a.createElement(te.N,null,a.createElement(fe.H,{label:e,value:w,icon:n,"data-stid":"open-room-picker",disabled:l,domRef:O,className:"open-traveler-picker-observer-root",invalid:!B&&H&&v||void 0})),a.createElement(ae.K,{autoPosition:!0,maxHeight:4e3,position:c||ae.C.RIGHT,width:375,intersectionObserverRoot:".open-traveler-picker-observer-root"},a.createElement(A.N,{padding:{inline:"six"}},a.createElement("div",{"data-stid":"basic-traveler-selector-menu-container"},a.createElement(Vr,{onSubmit:J,data:F,isTravelersExpanded:B,cabinClassField:m,travelersComposition:u,onCabinClassSelect:p})))))),a.createElement(k.rw,null,a.createElement(ne.p,{isOpen:B,onTriggerClick:K,onDismiss:j},a.createElement(te.N,null,a.createElement(fe.H,{label:e,value:w,icon:n,"data-stid":"open-room-picker",disabled:l,domRef:O,className:"open-traveler-picker-observer-root",invalid:!B&&H&&v||void 0})),a.createElement(ae.K,{autoPosition:!0,maxHeight:4e3,position:ae.C.LEFT,width:ce?275:375,intersectionObserverRoot:".open-traveler-picker-observer-root"},a.createElement(A.N,{padding:{inline:"six"}},a.createElement("div",{"data-stid":"basic-traveler-selector-menu-container"},a.createElement(Vr,{onSubmit:J,data:F,isTravelersExpanded:B,cabinClassField:m,travelersComposition:u,onCabinClassSelect:p})))))),a.createElement(k.NP,null,a.createElement(a.Fragment,null,a.createElement(fe.H,{label:e,value:w,onClick:()=>{d&&d(),U(C),R.openDialog(),h.referrerId&&h.linkName&&I(h.referrerId,h.linkName),H&&b({type:"SHOW_ERROR"})},icon:n,"data-stid":"open-room-picker",disabled:l,domRef:O,invalid:!B&&H&&v||void 0}),a.createElement(de.K,{isVisible:G},a.createElement(x,null,a.createElement(oe.t,{type:"full",triggerRef:O,isVisible:G,returnFocusOnClose:!0},a.createElement(ue.p,{id:"travelers-selector-toolbar",toolbarTitle:F.title,navigationContent:{navType:"close",navButtonId:"travelers-close-button",navIconLabel:("UIPrimaryButton"===F.closeButton.__typename||"UITertiaryButton"===F.closeButton.__typename)&&null!=(f=F.closeButton.accessibility)?f:"Close",onClick:()=>{var e;if(o&&o(k.OB.SMALL),("UIPrimaryButton"===F.closeButton.__typename||"UITertiaryButton"===F.closeButton.__typename)&&F.closeButton.analytics){const{referrerId:e,linkName:n}=F.closeButton.analytics;I(e,H?n:"Travelers results updated")}if(H&&"CHILD_AGE_REQUIRED"===H.type&&(b({type:"SHOW_ERROR"}),null==(e=H.errorSummary)?void 0:e.impressionAnalytics)){const e=`${H.errorSummary.impressionAnalytics.referrerId}.For.NoChildAgeSubmit`,n=H.errorSummary.impressionAnalytics.linkName||"";I(e,n)}H||X(C)}}}),a.createElement(se.Y,{padded:!1},a.createElement(A.N,{padding:{blockstart:"four",blockend:"sixteen",inline:"six"}},a.createElement("div",null,a.createElement(D.m,{hasRequiredFieldIndicator:!0},a.createElement(Vr,{data:F,isTravelersExpanded:G,cabinClassField:m,travelersComposition:u,onCabinClassSelect:p}))))),"UIPrimaryButton"===N.__typename&&a.createElement(Pe,{floating:!0,onClick:J,data:N})))),V&&a.createElement("input",{type:"hidden","data-testid":"EGDSSearchFormInputFieldWithSelection-cabin_class",name:"EGDSSearchFormInputFieldWithSelection-cabin_class",value:cd(null!=(E=C.cabinClass)?E:"")})))),a.createElement(a.Fragment,null,a.createElement("input",{type:"hidden","data-stid":`${id}`,name:`${id}`,value:Z.value}),"EGDSTravelerChildren"===(null==ee?void 0:ee.__typename)&&ee.ages&&a.createElement(sd,{ages:ee.ages,prefix:ld}),"EGDSBasicTraveler"===(null==ee?void 0:ee.__typename)&&a.createElement("input",{type:"hidden","data-stid":`${ld}`,name:`${ld}`,value:ee.count.value}),"EGDSTravelerInfant"===(null==le?void 0:le.__typename)&&le.ages&&a.createElement(sd,{ages:le.ages,prefix:rd}),"EGDSBasicTraveler"===(null==le?void 0:le.__typename)&&a.createElement("input",{type:"hidden","data-stid":`${rd}`,name:`${rd}`,value:le.count.value}),"EGDSTravelerInfant"===(null==re?void 0:re.__typename)&&re.ages&&a.createElement(sd,{ages:re.ages,prefix:dd}),"EGDSBasicTraveler"===(null==re?void 0:re.__typename)&&a.createElement("input",{type:"hidden","data-stid":`${dd}`,name:`${dd}`,value:re.count.value}),ce&&a.createElement("input",{type:"hidden",name:`${od}`,value:ie.state})))},ud="EGDSSearchFormTravelersField",vd=`${ud}-Adult`,Sd=`${ud}-ChildrenAge`,gd=`${ud}-InfantInSeatAge`,kd=`${ud}-InfantOnLapAge`,pd=({label:e,leftIcon:n,action:t,labelTemplate:i,readOnly:l,onOpenTravelerField:r,groupStayslink:d,inputValidationError:o,setTravelersFieldErrorState:c,setFieldRefByTypename:m,fieldError:u})=>{var v,S;const{accessibility:g,analytics:p,travelerSelector:y}=t,{doneButton:f}=y,E=null!=g?g:"",{context:h}=(0,P.R)(),{locale:F}=h,N=(0,s.KY)(),{dispatch:T,state:_}=Fr(),I=qn(),{error:b}=_,[C,L,G]=(0,me.useDialog)("travelerSelectorDialog"),R=a.useRef(null),[x,O]=a.useState(!1),[B,M]=a.useState(_),[$,U]=a.useState(null!=(v=null==i?void 0:i.text)?v:""),w="EGDSSearchFormTravelersField"===(null==u?void 0:u.__typename)&&!1===u.isValid,W=(0,D.j)(y.__typename,e=>e);a.useEffect(()=>{null==m||m("EGDSSearchFormTravelersField",R)},[]),a.useEffect(()=>{void 0!==b&&(null==c||c(!!b))},[b]);const V=e=>{const n=e.reduce((e,n)=>{var t,a,i,l,r,d,o,s;return e+(null!=(a=null==(t=n.adults)?void 0:t.value)?a:0)+(null!=(r=null==(l=null==(i=n.children)?void 0:i.count)?void 0:l.value)?r:0)+(null!=(s=null==(o=null==(d=n.infants)?void 0:d.count)?void 0:o.value)?s:0)},0);return td(i,F,e.length,n)};if(a.useEffect(()=>{var e,n,a;U(V(_.rooms)),"EGDSRoomsTravelerSelector"===t.travelerSelector.__typename&&(null==(n=null==(e=t.travelerSelector)?void 0:e.rooms[0])?void 0:n.infants)!==(null==(a=B.rooms[0])?void 0:a.infants)&&(T({type:"RESET_ROOMS",state:{..._,rooms:[...t.travelerSelector.rooms]}}),M({..._,rooms:[...t.travelerSelector.rooms]}),U(V([...t.travelerSelector.rooms])))},[t.travelerSelector]),a.useEffect(()=>{U(V(_.rooms))},[_.rooms]),a.useEffect(()=>{var e,n,a,i;if("EGDSOpenTravelerSelectorAction"===(null==t?void 0:t.__typename)&&"EGDSRoomsTravelerSelector"===(null==t?void 0:t.travelerSelector.__typename)&&I.state.travelers){const t=Qn(I.state.travelers);(null==(e=null==t?void 0:t.adultTravelerCounts)?void 0:e.length)&&T({type:"UPDATE_TRAVELERS_BULK",state:B,adultTravelerCounts:null!=(n=t.adultTravelerCounts)?n:[0],childTravelerCounts:null!=(a=t.childTravelerCounts)?a:[0],childrenAges:null!=(i=t.childrenAges)?i:[[]]})}},[I.state.travelers]),"EGDSRoomsTravelerSelector"!==y.__typename)return null;const H=()=>{const e=!x;!b||e?(O(e),null==r||r(),N(p.referrerId,p.linkName),w&&T({type:"GET_ERROR"})):(T({type:"SHOW_ERROR"}),O(!0))},z=async()=>{_.error&&(await T({type:"SHOW_ERROR"}),O(!0)),_.error||zi(B,_)||(M(_),Oa("submit",W)),U(V(_.rooms))},q=e=>{const n=V(e);Oa(n,W),U(n)},Q=e=>{var n;zi(B,e)||(q(e.rooms),M(e)),null==(n=R.current)||n.focus(),L.closeDialog()},K=e=>{b&&"CHILD_AGE_REQUIRED"===b.type&&(e&&e.preventDefault(),T({type:"SHOW_ERROR"}))},j=e=>{var n,t;K(),b||("menu"===e?(zi(B,n=_)||(q(n.rooms),M(n)),O(e=>!e),null==(t=R.current)||t.focus()):Q(_))},Y=e=>{if(!d)return null;const{value:n}=d.action.resource;try{const t=new URL(n),i=t.searchParams,l=i.get("kw")||"";i.set("kw",`${l}${e}`);const r=t.toString(),o={...d,action:{...d.action,resource:{...d.action.resource,value:r},target:"EXTERNAL"}};return a.createElement("div",null,a.createElement(St,{data:o,inline:!1}))}catch(t){return null}},X=b||w;return a.createElement(a.Fragment,null,a.createElement(k.LM,null,a.createElement(k.zQ,null,a.createElement(ne.p,{isOpen:x,onTriggerClick:H,onDismiss:z},a.createElement(te.N,null,a.createElement(fe.H,{label:e,"aria-roledescription":E,value:$,icon:n,"data-stid":"open-room-picker",disabled:l,domRef:R,className:"open-room-picker-observer-root",invalid:!x&&X&&o||void 0})),a.createElement(ae.K,{maxHeight:700,autoPosition:!0,position:ae.C.RIGHT,width:375,intersectionObserverRoot:".open-room-picker-observer-root"},a.createElement(A.N,{padding:{inline:"six",blockstart:"two"}},a.createElement("div",{"data-stid":"rooms-traveler-selector-menu-container"},a.createElement(jr,{onSubmit:j,data:y,isTravelersExpanded:x,groupStaysLink:Y("desktop")})))))),a.createElement(k.rw,null,a.createElement(ne.p,{isOpen:x,onTriggerClick:H,onDismiss:z},a.createElement(te.N,null,a.createElement(fe.H,{label:e,"aria-roledescription":E,value:$,icon:n,"data-stid":"open-room-picker",disabled:l,domRef:R,className:"open-room-picker-observer-root",invalid:!x&&X&&o||void 0})),a.createElement(ae.K,{maxHeight:4e3,autoPosition:!0,position:ae.C.RIGHT,width:375,intersectionObserverRoot:".open-room-picker-observer-root"},a.createElement(A.N,{padding:{inline:"six",blockstart:"two"}},a.createElement("div",{"data-stid":"rooms-traveler-selector-menu-container"},a.createElement(jr,{onSubmit:j,data:y,isTravelersExpanded:x,groupStaysLink:Y("desktop")})))))),a.createElement(k.NP,null,a.createElement(a.Fragment,null,a.createElement(fe.H,{label:e,"aria-roledescription":E,value:$,onClick:()=>{L.openDialog(),N(p.referrerId,p.linkName),r&&r(k.OB.SMALL),T({type:"GET_ERROR"}),b&&T({type:"SHOW_ERROR"})},icon:n,"data-stid":"open-room-picker",disabled:l,domRef:R,invalid:!x&&X&&o||void 0}),a.createElement(de.K,{isVisible:C},a.createElement(G,null,a.createElement(oe.t,{isVisible:C,returnFocusOnClose:!0,type:"full",triggerRef:R},a.createElement(ue.p,{toolbarTitle:y.title,navigationContent:{navType:"close",navIconLabel:("UIPrimaryButton"===y.closeButton.__typename||"UITertiaryButton"===y.closeButton.__typename)&&null!=(S=y.closeButton.accessibility)?S:"",onClick:()=>{if(("UIPrimaryButton"===y.closeButton.__typename||"UITertiaryButton"===y.closeButton.__typename)&&y.closeButton.analytics){const{referrerId:e,linkName:n}=y.closeButton.analytics;b||N(e,n)}K(),b||Q(_)}}}),a.createElement(se.Y,null,a.createElement(D.m,{hasRequiredFieldIndicator:!0},a.createElement(jr,{data:y,isTravelersExpanded:C,groupStaysLink:Y("mWeb")}))),(J=!0,"UIPrimaryButton"===f.__typename&&a.createElement(Pe,{onClick:j,data:f,floating:J})))))))),_.rooms.map((e,n)=>{var t,i;const{adults:l,children:r,infants:d}=e,o=n+1;return a.createElement(a.Fragment,{key:n},a.createElement("input",{type:"hidden","data-stid":`${vd}-${o}`,name:`${vd}-Room${o}`,value:l.value}),"EGDSTravelerChildren"===r.__typename&&(null==(t=r.ages)?void 0:t.map((e,n)=>{var t;if("EGDSTravelerChildAgeSelect"===e.__typename){const i=`${Sd}-Room${o}-Child${n+1}`;return a.createElement("input",{key:n,type:"hidden","data-stid":i,name:i,value:null!=(t=e.value)?t:""})}return null})),"EGDSTravelerInfant"===(null==d?void 0:d.__typename)&&(null==(i=d.ages)?void 0:i.map((e,n)=>{var t,i;if("EGDSTravelerChildAgeSelect"===e.__typename){const l=n+1,r=`${"seat"===(null==(t=_.infantSeatSelection)?void 0:t.value)?gd:kd}-Room${o}-Infant${l}`;return a.createElement("input",{key:n,type:"hidden","data-stid":r,name:r,value:null!=(i=e.value)?i:""})}return null})))}));var J},yd={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSSearchFormTravelersFieldFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSSearchFormTravelersField"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSOpenTravelerSelectorAction"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"analytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"travelerSelector"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSBasicTravelerSelectorFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSRoomsTravelerSelectorFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labelTemplate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSCardinalLocalizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"templates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"template"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"secondaryTemplates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"template"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSCompositeLocalizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSCardinalLocalizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"templates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"template"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"template"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"leftIcon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"readOnly"},arguments:[],directives:[]}]}}].concat(Vr.fragment.definitions,jr.fragment.definitions)),loc:{start:0,end:1121,source:{body:"\n  fragment EGDSSearchFormTravelersFieldFragment on EGDSSearchFormTravelersField {\n    action {\n      ... on EGDSOpenTravelerSelectorAction {\n        analytics {\n          linkName\n          referrerId\n        }\n        travelerSelector {\n          ...EGDSBasicTravelerSelectorFragment\n          ...EGDSRoomsTravelerSelectorFragment\n        }\n        accessibility\n      }\n    }\n    label\n    labelTemplate {\n      ... on EGDSCardinalLocalizedText {\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n        secondaryTemplates {\n          category\n          template\n        }\n        text\n      }\n      ... on EGDSCompositeLocalizedText {\n        models {\n          key\n          models {\n            ... on EGDSCardinalLocalizedText {\n              models {\n                key\n                source\n              }\n              templates {\n                category\n                template\n              }\n            }\n          }\n        }\n        template\n        text\n      }\n    }\n    leftIcon {\n      id\n    }\n    readOnly\n  }\n\n  \n  \n".concat([Vr.fragment.loc.source.body,jr.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},fd=({data:e,skipQuery:n,isAnyPetAllowed:t,onOpenTravelerField:i,onCloseTravelerField:l,maxBookableTravelers:r,maxTravelersErrorMessage:d,groupStaysLink:o,menuPosition:s,cabinClassField:c,travelersComposition:m,setTravelerSelectorErrorState:u,setFieldRefByTypename:v,onCabinClassSelect:S,fieldError:g})=>{var k;const[p,y]=a.useState(e),f=(()=>{var e;if("EGDSSearchFormSelectAction"===(null==(e=null==c?void 0:c.action)?void 0:e.__typename)){const e=c.action.options.find(e=>"EGDSBasicOption"===e.__typename&&e.selected);if("EGDSBasicOption"===(null==e?void 0:e.__typename))return e.label}})();a.useEffect(()=>{var n,t,a;if("EGDSOpenTravelerSelectorAction"===(null==(n=e.action)?void 0:n.__typename)){const n=null!=(a=null==(t=e.action.travelerSelector.validations)?void 0:t.map(e=>"EGDSTravelersInputValidation"===e.__typename&&"MAX_TRAVELERS"===e.type&&r?{...e,maxCount:r,errorMessage:null!=d?d:""}:e))?a:null;return void y({...e,action:{...e.action,travelerSelector:{...e.action.travelerSelector,validations:n}}})}y(e)},[e,r,d]);const{action:E,label:h,labelTemplate:F,leftIcon:D,readOnly:N}=p;if("EGDSOpenTravelerSelectorAction"!==(null==E?void 0:E.__typename))return null;const T=c?null==m?void 0:m.label:null!=h?h:"",{validations:_}=E.travelerSelector,I=null==_?void 0:_.find(e=>"EGDSTravelersInputValidation"===e.__typename&&"GENERIC_INPUT_FIELD_ERROR"===e.type),b=I&&"EGDSTravelersInputValidation"===I.__typename?I.errorMessage:"";switch(E.travelerSelector.__typename){case"EGDSBasicTravelerSelector":{const{travelers:e}=E.travelerSelector,r=((e,n)=>(null==e?void 0:e.pets)&&"EGDSBasicCheckBox"===e.pets.__typename?{...e,pets:{...e.pets,state:n?"CHECKED":"UNCHECKED"}}:e)(e,null!=t?t:"EGDSBasicCheckBox"===(null==(k=null==e?void 0:e.pets)?void 0:k.__typename)&&"CHECKED"===e.pets.state);return r&&"EGDSCardinalLocalizedText"===(null==F?void 0:F.__typename)?a.createElement(Lr,{travelers:r,validations:_,skipQuery:n,cabinClass:f},a.createElement(md,{label:null!=T?T:"",leftIcon:null==D?void 0:D.id,action:E,labelTemplate:F,readOnly:N,isAnyPetAllowed:t,onOpenTravelerField:i,onCloseTravelerField:l,menuPosition:s,cabinClassField:c,travelersComposition:m,inputValidationError:b,setTravelersFieldErrorState:u,setFieldRefByTypename:v,onCabinClassSelect:S})):null}case"EGDSRoomsTravelerSelector":return"EGDSCompositeLocalizedText"===(null==F?void 0:F.__typename)?a.createElement(hr,{...E.travelerSelector,infantSeatSelection:E.travelerSelector.infantSeatSelection,rooms:E.travelerSelector.rooms,validations:E.travelerSelector.validations,skipQuery:n},a.createElement(pd,{label:null!=h?h:"",leftIcon:null==D?void 0:D.id,action:E,labelTemplate:F,readOnly:N,onOpenTravelerField:i,groupStayslink:o,inputValidationError:b,setTravelersFieldErrorState:u,setFieldRefByTypename:v,fieldError:g})):null;default:return null}};fd.displayName="EGDSSearchFormTravelersField",fd.fragment=yd;var Ed={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSSearchPlaybackFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSSearchPlayback"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"primaryTemplate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBasicLocalizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"additionalPrimaryTemplate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBasicLocalizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"secondaryDatesTemplate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBasicLocalizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"template"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"secondaries"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSPlainText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBasicLocalizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"template"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessibilityTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSCardinalLocalizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessibilityText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"templates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"category"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"template"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"showAction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSShowSearchFormAction"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"analytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"resource"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSStylizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"closeButton"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTertiaryButtonFragment"},directives:[]}]}}]}}].concat($e.fragment.definitions)),loc:{start:0,end:1412,source:{body:"\n  fragment EGDSSearchPlaybackFragment on EGDSSearchPlayback {\n    primary {\n      text\n    }\n    primaryTemplate {\n      ... on EGDSBasicLocalizedText {\n        text\n      }\n    }\n    additionalPrimaryTemplate {\n      ... on EGDSBasicLocalizedText {\n        text\n        models {\n          key\n        }\n      }\n    }\n    secondaryDatesTemplate {\n      ... on EGDSBasicLocalizedText {\n        template\n        models {\n          key\n          source\n        }\n      }\n    }\n    secondaries {\n      ... on EGDSPlainText {\n        text\n        accessibility\n      }\n      ... on EGDSBasicLocalizedText {\n        text\n        template\n        accessibilityTemplate\n        models {\n          key\n          source\n        }\n        egdsElementId\n      }\n      ... on EGDSCardinalLocalizedText {\n        text\n        accessibilityText\n        egdsElementId\n        models {\n          key\n          source\n        }\n        templates {\n          category\n          template\n        }\n      }\n    }\n    showAction {\n      ... on EGDSShowSearchFormAction {\n        accessibility\n        analytics {\n          linkName\n          referrerId\n        }\n        icon {\n          id\n          size\n        }\n        resource {\n          value\n        }\n        text {\n          ... on EGDSStylizedText {\n            text\n          }\n        }\n      }\n    }\n    closeButton {\n      ...EGDSTertiaryButtonFragment\n    }\n  }\n\n  \n".concat([$e.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},hd=({data:e,children:n,display:t,onDisplayToggle:l,isLayoutFlex:r})=>{var d;const{primary:o,secondaries:s,showAction:u,closeButton:v,__typename:S}=e,{trackEvent:g}=an("search_form_playback"),{exposure:{bucket:k}}=(0,O.useExperiment)("Introduce_Sticky_Search_Form_on_mWeb_SRP",!1);if(a.useEffect(()=>{if(1!==k||t)return;let e=null;const n=n=>{n.isTrusted&&(null!==e?Math.abs(window.scrollY-e)>=30&&l(!0):e=window.scrollY)};return window.addEventListener("scroll",n),()=>window.removeEventListener("scroll",n)},[t,k]),"EGDSShowSearchFormAction"!==u.__typename||v&&"UITertiaryButton"!==v.__typename)return null;const{accessibility:p,analytics:y,icon:h,text:F}=u,D=m.So[null!=(d=h.size)?d:"SMALL"],N=[o.text,...s.map(e=>{var n;return"EGDSBasicLocalizedText"===(null==e?void 0:e.__typename)?e.accessibilityTemplate:"EGDSCardinalLocalizedText"===(null==e?void 0:e.__typename)?e.accessibilityText:"EGDSPlainText"===(null==e?void 0:e.__typename)?null!=(n=e.accessibility)?n:e.text:""}),p].join(", "),T=r?z.X:"div",_={style:{display:t?"none":""},className:t?"is-visually-hidden is-hidden":"",...r&&{space:"three",direction:"column"}};return a.createElement("div",null,t&&a.createElement(Te.g,{border:!0,padded:!0},a.createElement(Q.w,{space:"three",columns:[(0,Ie.ZF)("0x","1fr"),"min-content"],alignItems:"center"},a.createElement(K.T,null,a.createElement("div",null,a.createElement(f.M,{size:6,tag:"h2",overflow:"truncate"},o.text),a.createElement(Q.w,{columns:[(0,Ie.kM)(s.length,"max-content")],space:"six"},s.map((e,n)=>e&&"EGDSBasicLocalizedText"===e.__typename||e&&"EGDSCardinalLocalizedText"===e.__typename?a.createElement(K.T,{key:`secondary-${n}`},a.createElement(E.D,{size:200,overflow:"truncate"},a.createElement("span",{"aria-hidden":"true"},e.text))):a.createElement(K.T,{key:`secondary-${n}`},a.createElement(E.D,{size:200,overflow:"truncate"},e&&"EGDSPlainText"===e.__typename?e.text:"")))))),a.createElement(K.T,null,(null==F?void 0:F.text)?a.createElement(c.q,null,a.createElement(m.LD,{id:h.id,name:h.id,size:D}),F.text):a.createElement(m.LD,{id:h.id,name:h.id,size:D}))),a.createElement(_e.w,null,a.createElement("button",{type:"button",onClick:()=>{l(!1),g({component:{name:S}},y,"opened")},"aria-label":N}))),a.createElement(T,{..._},n,!t&&v&&1!==k&&a.createElement($e,{onClick:()=>{l(!0),g({component:{name:S}},null==v?void 0:v.analytics,"closed")},isFullWidth:!0,size:i.V.MEDIUM,data:v})))};hd.fragment=Ed,hd.displayName="EGDSSearchPlayback";var Fd=({rows:e,rowPadding:n})=>a.createElement(a.Fragment,null,e.map(({lineLength:e,lineHeight:t,columns:i},l)=>a.createElement(A.N,{key:l,padding:0===l?null!=n?n:void 0:{blockstart:"three"}},i?a.createElement(z.X,{space:"one",alignItems:"center"},i.map((e,n)=>a.createElement(q.C,{key:n},a.createElement(pe.R,{type:"line",animation:!0,lineLength:e.lineLength,lineHeight:t})))):a.createElement("div",null,a.createElement(pe.R,{type:"line",animation:!0,lineLength:e,lineHeight:t}))))),Dd={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchFormDirectFlightFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchFormDirectFlight"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibilityText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isApplied"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selectAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClientSideAnalyticsFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"unselectAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ClientSideAnalyticsFragment"},directives:[]}]}}]}}].concat(on.definitions)),loc:{start:0,end:264,source:{body:"\n  fragment SearchFormDirectFlightFragment on SearchFormDirectFlight {\n    accessibilityText\n    id\n    isApplied\n    label\n    selectAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n    unselectAnalytics {\n      ...ClientSideAnalyticsFragment\n    }\n  }\n\n  \n".concat([on.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Nd=e=>{const n=(0,s.KY)(),{data:t,onChange:i}=e,{accessibilityText:l,id:r,isApplied:d,label:o,selectAnalytics:c,unselectAnalytics:m}=t;return a.createElement(u.x,{a11yLabel:null!=l?l:"",id:r,checked:d,onChange:e=>{const t=e.currentTarget.checked?c:m;t&&n(t.referrerId,t.linkName),null==i||i(e)}},o)};Nd.displayName="SearchFormDirectFlight",Nd.fragment=Dd;var Td=(e,n)=>{const{min:t,max:a}=n;if("EGDSBasicLocalizedText"===(null==e?void 0:e.__typename)){const{template:n,models:i}=e;return((e,n,t)=>n.reduce((e,n)=>{const{key:a}=n,i=`\${${a}}`,l=Number(t[a]).toString();return e.replace(i,l)},e))(n,i,{[i[0].key]:t,[i[1].key]:a})}return""},_d=({minDurationInput:e,maxDurationInput:n,errorMessage:t,errorSummary:a,validationType:i,fieldUpdated:l})=>{const{value:r,min:d,max:o}=e,{value:s,min:c,max:m}=n;if(null===r||null===d||null===o||null===s||null===c||null===m)return null;const u=parseFloat(r),v=parseFloat(s),S={displayError:!1,message:t,validationType:i,errorType:"No Duration Input",errorCount:0,errorSummary:a},g=e=>u>v?{...S,errorType:e,errorCount:1}:null;switch(i){case"REQUIRED_VALUE":{const e=Number.isNaN(u),n=Number.isNaN(v),t=Number(e)+Number(n);let a="No Duration Input";return t?(e&&n&&(a="Both Duration Inputs"),e&&!n&&(a="Minimum Duration Input"),!e&&n&&(a="Maximum Duration Input"),{...S,errorType:a,errorCount:t}):null}case"MINIMUM_VALUE":{const e=u<d,n=v<c,t=Number(e)+Number(n);let a="No Duration Input";return t?(e&&n&&(a="Both Duration Inputs"),e&&!n&&(a="Minimum Duration Input"),!e&&n&&(a="Maximum Duration Input"),{...S,errorType:a,errorCount:t}):null}case"MAXIMUM_VALUE":{const e=u>o,n=v>m,t=Number(e)+Number(n);let a="No Duration Input";return t?(e&&n&&(a="Both Duration Inputs"),e&&!n&&(a="Minimum Duration Input"),!e&&n&&(a="Maximum Duration Input"),{...S,errorType:a,errorCount:t}):null}case"MINIMUM_LESS_THAN_MAXIMUM":return"MIN"===l?g("Minimum Duration Input"):null;case"MAXIMUM_GREATER_THAN_MINIMUM":return"MAX"===l?g("Maximum Duration Input"):null;default:return null}},Id=({minDurationInput:e,maxDurationInput:n,validations:t,currentError:a,fieldUpdated:i})=>{if(!t.length)return null;let l=null;for(let d=0;d<t.length;d+=1){const a=t[d];if("DurationSpanInputValidation"===a.__typename&&(null==a?void 0:a.errorSummary)){const{errorMessage:t,type:r,errorSummary:d}=a;if(l=_d({minDurationInput:e,maxDurationInput:n,errorMessage:t,errorSummary:d,validationType:r,fieldUpdated:i}),l)break}}if(!l)return null;const r=(null==a?void 0:a.validationType)===(null==l?void 0:l.validationType);if(r&&(null==a?void 0:a.displayError)){const{errorType:e,errorCount:n}=l;return{...a,errorType:e,errorCount:n}}return!r&&(null==a?void 0:a.displayError)?{...l,displayError:!0}:l},bd=a.createContext({state:{}}),Cd=(e,n)=>{switch(n.type){case"Update Minimum Value":{const{min:t}=n,{minDurationInput:a,maxDurationInput:i,validations:l,error:r}=e,d={...a,value:t},o=Id({minDurationInput:d,maxDurationInput:i,currentError:r,validations:null!=l?l:[],fieldUpdated:"MIN"});return{...e,error:o,minDurationInput:d}}case"Update Maximum Value":{const{max:t}=n,{minDurationInput:a,maxDurationInput:i,validations:l,error:r}=e,d={...i,value:t},o=Id({minDurationInput:a,maxDurationInput:d,currentError:r,validations:null!=l?l:[],fieldUpdated:"MAX"});return{...e,error:o,maxDurationInput:d}}case"Show Error Message":if(e.error){const n={...e.error,displayError:!0};return{...e,error:n}}return e;case"Reset Duration Span State":return n.state;default:return e}},Ld=({children:e,durationSpan:n})=>{const[t,i]=a.useReducer(Cd,n,e=>{const{minDurationSpanLimit:n,maxDurationSpanLimit:t,validations:a}=e;return{minDurationInput:n,maxDurationInput:t,validations:null!=a?a:[],error:null}});return a.useMemo(()=>a.createElement(bd.Provider,{value:{state:t,dispatch:i}},e),[t,i])},Ad=()=>a.useContext(bd),Gd=({minDurationSpanLimit:e,maxDurationSpanLimit:n,durationSpanLimits:t,error:i,handleErrorInputRefUpdate:l,handleChange:r})=>{var d,o,s,c,m,u,v,S,g,k,p,y,f;const E=null!=(d=null==i?void 0:i.errorType)?d:"No Duration Input",h="Minimum Duration Input"===E||"Both Duration Inputs"===E,F="Maximum Duration Input"===E||"Both Duration Inputs"===E,D=null==i?void 0:i.validationType,N=e=>{if(!e.errorMessage)return null==i?void 0:i.message;return"MINIMUM_VALUE"===D||"MAXIMUM_VALUE"===D||"REQUIRED_VALUE"===D?e.errorMessage:null==i?void 0:i.message},T=parseFloat(t.min),_=parseFloat(t.max),I=a.useRef(null),b=a.useRef(null),C={id:null!=(o=e.egdsElementId)?o:"duration_span_field_min_input",label:null!=(s=e.label)?s:"",min:null!=(c=e.min)?c:void 0,max:null!=(m=e.max)?m:void 0,placeholder:null!=(u=e.placeholder)?u:void 0,step:null!=(v=e.step)?v:void 0,value:Number.isNaN(T)?void 0:T,invalid:h?N(e):void 0,domRef:I},L={id:null!=(S=n.egdsElementId)?S:"duration_span_field_max_input",label:null!=(g=n.label)?g:"",min:null!=(k=n.min)?k:void 0,max:null!=(p=n.max)?p:void 0,placeholder:null!=(y=n.placeholder)?y:void 0,step:null!=(f=n.step)?f:void 0,value:Number.isNaN(_)?void 0:_,invalid:F?N(n):void 0,domRef:b};return h&&l(I),!h&&F&&l(b),a.createElement("section",null,a.createElement(A.N,{padding:{blockstart:"four",inline:"four"}},a.createElement(z.X,{wrap:"wrap"},a.createElement(A.N,{padding:{inlineend:"one"}},a.createElement(q.C,{minWidth:"half_width"},a.createElement("div",null,a.createElement(be.Y,{name:"min",hasBorder:!0,hasVisibleLabel:!0,onChange:r,...C,type:"number"})))),a.createElement(A.N,{padding:{inlinestart:"one"}},a.createElement(q.C,{minWidth:"half_width"},a.createElement("div",null,a.createElement(be.Y,{name:"max",hasBorder:!0,hasVisibleLabel:!0,onChange:r,...L,type:"number"})))))))},Rd={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"DurationSpanSelectorFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DurationSpanSelector"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"doneButton"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSPrimaryButtonFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"closeButton"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSTertiaryButtonFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"minDurationSpanLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"DurationSpanLimitFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"maxDurationSpanLimit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"DurationSpanLimitFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"validations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DurationSpanInputValidation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errorSummary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSErrorSummaryFragment"},directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"DurationSpanLimitFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSNumberInputField"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeholder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"step"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"min"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max"},arguments:[],directives:[]}]}}].concat(Pe.fragment.definitions,$e.fragment.definitions,pn.fragment.definitions)),loc:{start:0,end:811,source:{body:"\n  fragment DurationSpanSelectorFragment on DurationSpanSelector {\n    egdsElementId\n    title\n    doneButton {\n      __typename\n      ...EGDSPrimaryButtonFragment\n    }\n    closeButton {\n      __typename\n      ...EGDSTertiaryButtonFragment\n    }\n    minDurationSpanLimit {\n      __typename\n      ...DurationSpanLimitFragment\n    }\n    maxDurationSpanLimit {\n      __typename\n      ...DurationSpanLimitFragment\n    }\n    validations {\n      __typename\n      errorMessage\n      ... on DurationSpanInputValidation {\n        errorMessage\n        type\n        errorSummary {\n          ...EGDSErrorSummaryFragment\n        }\n      }\n    }\n  }\n\n  fragment DurationSpanLimitFragment on EGDSNumberInputField {\n    egdsElementId\n    label\n    value\n    placeholder\n    errorMessage\n    step\n    min\n    max\n  }\n\n  \n  \n  \n".concat([Pe.fragment.loc.source.body,$e.fragment.loc.source.body,pn.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},xd=({onSave:e,data:n})=>{var t,i;const{doneButton:l,minDurationSpanLimit:r,maxDurationSpanLimit:o}=n,c=(0,s.KY)(),{state:m,dispatch:u}=Ad(),{minDurationInput:v,maxDurationInput:S,error:g}=m,[p,y]=a.useState(a.createRef()),[f,E]=a.useState({min:null!=(t=v.value)?t:"",max:null!=(i=S.value)?i:""});a.useEffect(()=>{var e,n;E({min:null!=(e=v.value)?e:"",max:null!=(n=S.value)?n:""})},[v,S]);const h=()=>{if(g)u({type:"Show Error Message"});else{if("UIPrimaryButton"===l.__typename&&l.analytics){const{referrerId:e,linkName:n}=l.analytics;c(e,n)}g||e(m)}};return a.createElement(a.Fragment,null,(null==g?void 0:g.displayError)&&a.createElement(A.N,{padding:{blockstart:"three"}},a.createElement("div",null,a.createElement(pn,{data:g.errorSummary,errorCount:g.errorCount,inputErrorRef:p}))),a.createElement(Gd,{minDurationSpanLimit:r,maxDurationSpanLimit:o,durationSpanLimits:f,error:g,handleErrorInputRefUpdate:e=>{y(e)},handleChange:e=>{const{name:n,value:t}=e.target;E({...f,[n]:t}),"min"!==n?"max"===n&&u({type:"Update Maximum Value",max:t}):u({type:"Update Minimum Value",min:t})}}),"UIPrimaryButton"===l.__typename&&a.createElement(k.LM,null,a.createElement(k.NP,null,a.createElement(d.O,{tag:"div",type:ke.Q.BUTTON,color:ke.B.SECONDARY},a.createElement(Pe,{isFullWidth:!0,onClick:h,data:l}))),a.createElement(k.rw,null,a.createElement(A.N,{padding:{blockstart:"six"}},a.createElement("div",null,a.createElement(Pe,{isFullWidth:!0,onClick:h,data:l})))),a.createElement(k.zQ,null,a.createElement(A.N,{padding:{blockstart:"six"}},a.createElement(z.X,{justifyContent:"end"},a.createElement(q.C,null,a.createElement(Pe,{isFullWidth:!1,onClick:h,data:l})))))))};xd.displayName="DurationSpanSelector";var Od="SearchFormDurationSpanField",Bd=`${Od}-Max`,Pd=`${Od}-Min`,Md=({action:e,labelTemplate:n,egdsElementId:t="duration_form_field",label:i="",leftIconId:l="access_time"})=>{var r,d,o,c,m;const{analytics:u,durationSpan:v}=e,{closeButton:S,title:g}=v,{state:p,dispatch:y}=Ad(),[E,h,F]=(0,me.useDialog)("duration-span-dialog"),N=(0,s.KY)(),T=a.useRef(null),[_,I]=a.useState(!1),[b,C]=a.useState({...p,durationSummary:n.text,shouldFireChangeEvent:!1}),L=(0,D.j)(v.__typename,e=>e),{durationSummary:G,shouldFireChangeEvent:R}=b;a.useEffect(()=>{R&&(C(e=>({...e,shouldFireChangeEvent:!1})),Oa(G,L))},[G,R,L]);const x=(e,t)=>{const a=Td(n,t);C({...e,durationSummary:a,shouldFireChangeEvent:!0})};return"UITertiaryButton"!==S.__typename?null:a.createElement(a.Fragment,null,a.createElement(k.LM,null,a.createElement(k.NP,null,a.createElement(a.Fragment,null,a.createElement(fe.H,{id:`${t}_input`,name:`${t}_input`,label:i,value:G,icon:l,onClick:()=>{const{referrerId:e,linkName:n}=u;N(e,n),h.openDialog()},domRef:T}),a.createElement(de.K,{isVisible:E},a.createElement(F,null,a.createElement(oe.t,{type:"full",triggerRef:T,autoFocus:!0,isVisible:!0,returnFocusOnClose:!0},a.createElement(ue.p,{id:`${t}_dialog_toolbar`,toolbarType:"standard",toolbarTitle:g,toolbarTitleTag:"h2",navigationContent:{onClick:()=>{var e,n,t;if("UITertiaryButton"===S.__typename&&S.analytics){const{referrerId:e,linkName:n}=S.analytics;N(e,n)}if(p.error)return void y({type:"Show Error Message"});const{minDurationInput:a,maxDurationInput:i}=p;x(p,{min:null!=(e=a.value)?e:"",max:null!=(n=i.value)?n:""}),y({type:"Reset Duration Span State",state:p}),null==(t=T.current)||t.focus(),h.closeDialog()},navIconLabel:null!=(r=null==S?void 0:S.accessibility)?r:void 0,navType:"close"}}),a.createElement(se.Y,{padded:!1},a.createElement(D.m,{hasRequiredFieldIndicator:!0},a.createElement(xd,{onSave:e=>{var n,t,a;const{minDurationInput:i,maxDurationInput:l}=e;x(e,{min:null!=(n=null==i?void 0:i.value)?n:"",max:null!=(t=null==l?void 0:l.value)?t:""}),null==(a=T.current)||a.focus(),h.closeDialog()},data:v})))))))),a.createElement(k.rw,null,a.createElement(ne.p,{isOpen:_,onDismiss:()=>{var e,n,t;if(p.error)return I(e=>!e),void y({type:"Show Error Message"});const{minDurationInput:a,maxDurationInput:i}=p;x(p,{min:null!=(e=a.value)?e:"",max:null!=(n=i.value)?n:""}),y({type:"Reset Duration Span State",state:p}),null==(t=T.current)||t.focus()},onTriggerClick:()=>{I(e=>!e)}},a.createElement(te.N,null,a.createElement(fe.H,{id:`${t}_input`,name:`${t}_input`,label:i,value:G,icon:l,onClick:()=>{const{referrerId:e,linkName:n}=u;N(e,n)},domRef:T})),a.createElement(ae.K,{autoPosition:!0,position:ae.C.RIGHT,width:375},a.createElement(A.N,{padding:{inline:"four"}},a.createElement("div",{"data-stid":"duration-span-menu"},a.createElement(A.N,{padding:{blockstart:"three"}},a.createElement(f.M,{size:5,tag:"h5"},g)),a.createElement(xd,{onSave:e=>{var n,t,a;const{minDurationInput:i,maxDurationInput:l}=e;x(e,{min:null!=(n=i.value)?n:"",max:null!=(t=l.value)?t:""}),I(e=>!e),null==(a=T.current)||a.focus()},data:v}))))))),a.createElement("input",{type:"hidden","data-stid":Bd,name:`${Bd}-${t}`,value:null!=(o=null==(d=b.maxDurationInput)?void 0:d.value)?o:""}),a.createElement("input",{type:"hidden","data-stid":Pd,name:`${Pd}-${t}`,value:null!=(m=null==(c=b.minDurationInput)?void 0:c.value)?m:""}))},$d={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchFormDurationSpanFieldFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchFormDurationSpanField"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labelTemplate"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TemplateEGDSBasicLocalizedTextFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"leftIcon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"OpenDurationSpanActionFragment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"TemplateEGDSBasicLocalizedTextFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSBasicLocalizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"models"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"source"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"template"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"OpenDurationSpanActionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"OpenDurationSpanAction"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"analytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"durationSpan"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"DurationSpanSelectorFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]}]}}].concat((xd.fragment=Rd).definitions)),loc:{start:0,end:751,source:{body:"\n  fragment SearchFormDurationSpanFieldFragment on SearchFormDurationSpanField {\n    __typename\n    egdsElementId\n    label\n    labelTemplate {\n      ...TemplateEGDSBasicLocalizedTextFragment\n    }\n    leftIcon {\n      id\n    }\n    action {\n      __typename\n      ...OpenDurationSpanActionFragment\n    }\n  }\n\n  fragment TemplateEGDSBasicLocalizedTextFragment on EGDSBasicLocalizedText {\n    __typename\n    egdsElementId\n    models {\n      key\n      source\n    }\n    template\n    text\n  }\n\n  fragment OpenDurationSpanActionFragment on OpenDurationSpanAction {\n    __typename\n    analytics {\n      __typename\n      linkName\n      referrerId\n    }\n    durationSpan {\n      __typename\n      ...DurationSpanSelectorFragment\n    }\n    accessibility\n  }\n\n  \n".concat([xd.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ud=({data:e})=>{const{egdsElementId:n,label:t,labelTemplate:i,leftIcon:l,action:r}=e;return"OpenDurationSpanAction"!==(null==r?void 0:r.__typename)||"EGDSBasicLocalizedText"!==(null==i?void 0:i.__typename)?null:a.createElement(Ld,{durationSpan:r.durationSpan},a.createElement(Md,{egdsElementId:n,label:null!=t?t:"",labelTemplate:i,leftIconId:null==l?void 0:l.id,action:r}))};Ud.displayName="SearchFormDurationSpanField",Ud.fragment=$d;var wd=({children:e})=>a.createElement(Q.w,{columns:{small:2,medium:12}},a.createElement(K.T,{colSpan:{small:2,medium:4}},a.createElement("div",null,a.createElement(A.N,{padding:{blockstart:"three"}},a.createElement("div",null,e))))),Wd={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchFormPartialStayFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchFormPartialStay"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"addPartialStay"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSCheckBoxFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dates"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSSearchFormDatePickerFieldFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]}]}}].concat(Ri.fragment.definitions,Ri.fragment.definitions)),loc:{start:0,end:267,source:{body:"\n  fragment SearchFormPartialStayFragment on SearchFormPartialStay {\n    __typename\n    addPartialStay {\n      ...EGDSCheckBoxFragment\n      __typename\n    }\n    dates {\n      ...EGDSSearchFormDatePickerFieldFragment\n      __typename\n    }\n    errorMessage\n  }\n  \n  \n".concat([Ri.fragment.loc.source.body,Ri.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Vd=({data:e,setFieldRefByTypename:n,fieldError:t})=>{var i;const{addPartialStay:l,dates:r,errorMessage:d}=e,[o,s]=a.useState(null!=(i=null==l?void 0:l.state)?i:"UNCHECKED"),c=r&&a.createElement("div",{"data-stid":"partial-stay-date-field"},a.createElement(wd,null,a.createElement(Ri,{skipReflection:!0,data:r,fieldError:t,setFieldRefByTypename:(e,t,a)=>{n(`${e}PartialStay`,t,a)},overrideErrorMessage:d,isPartialDates:!0})));return a.createElement(a.Fragment,null,l&&a.createElement(z.X,null,a.createElement(dn,{onChange:e=>{s(e.target.checked?"CHECKED":"UNCHECKED")},data:l})),"CHECKED"===o&&c)};Vd.displayName="SearchFormPartialStay",Vd.fragment=Wd;var Hd=e=>{var n;const t=(0,s.KY)(),{data:i,isVisible:l,onClick:d}=e,{linkName:o,referrerId:c}=null!=(n=i.button.analytics)?n:{};return a.createElement(de.K,{isVisible:l},a.createElement(oe.t,{isVisible:l,triggerRef:null,autoFocus:!1},a.createElement(A.N,{padding:{block:"four",inline:"three"}},a.createElement("div",null,a.createElement(r.y,{isFullWidth:!0,onClick:()=>{null==d||d(),window.scrollTo({top:0,behavior:"smooth"}),c&&o&&t(c,o)}},i.button.primary)))))};Hd.displayName="SearchFormScrollToSearchFormButton",Hd.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchFormScrollToSearchFormButtonFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchFormScrollToSearchFormButton"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"button"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"analytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:194,source:{body:"\n  fragment SearchFormScrollToSearchFormButtonFragment on SearchFormScrollToSearchFormButton {\n    button {\n      analytics {\n        referrerId\n        linkName\n      }\n      primary\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var zd={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"SoftPackagesFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SoftPackages"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"actionURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"addCar"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSCheckBoxFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"addFlight"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSCheckBoxFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"addHotel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSCheckBoxFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"origin"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSSearchFormLocationFieldFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"datesForHotelStay"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSSearchFormDatePickerFieldFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"maxBookableTravelers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxNumberOfDaysSelected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxDateRangeErrorMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"maxTravelersErrorMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dateRangeLowerBoundErrorMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validDaysLowerBoundInclusive"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"day"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"month"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"year"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"validDaysUpperBoundInclusive"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"day"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"month"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"year"},arguments:[],directives:[]}]}}]}}].concat(dn.fragment.definitions,or.fragment.definitions)),loc:{start:0,end:664,source:{body:"\n  fragment SoftPackagesFragment on SoftPackages {\n    actionURL\n    addCar {\n      ...EGDSCheckBoxFragment\n    }\n    addFlight {\n      ...EGDSCheckBoxFragment\n    }\n    addHotel {\n      ...EGDSCheckBoxFragment\n    }\n    origin {\n      ...EGDSSearchFormLocationFieldFragment\n    }\n    datesForHotelStay {\n      ...EGDSSearchFormDatePickerFieldFragment\n    }\n    maxBookableTravelers\n    maxNumberOfDaysSelected\n    maxDateRangeErrorMessage\n    maxTravelersErrorMessage\n    dateRangeLowerBoundErrorMessage\n    validDaysLowerBoundInclusive {\n      day\n      month\n      year\n    }\n    validDaysUpperBoundInclusive {\n      day\n      month\n      year\n    }\n  }\n\n  \n  \n".concat([dn.fragment.loc.source.body,or.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},qd="EGDSSoftPackagesPackageType",Qd=e=>{const{data:n,onProductSelect:t,setFieldRefByTypename:i,fieldError:l,currentSearchFormProduct:r,searchLocationContent:d,maxDateMessage:o}=e,{addCar:s,addFlight:c,origin:m,addHotel:u,datesForHotelStay:v}=n,S=e=>{t(e)},g=m&&"EGDSBasicCheckBox"===(null==c?void 0:c.__typename)&&"CHECKED"===c.state,k=m&&a.createElement(wd,null,a.createElement(or,{data:m,searchLocationContent:d,setFieldRefByTypename:i,fieldError:l})),p=e=>"EGDSBasicCheckBox"===(null==e?void 0:e.__typename)&&"CHECKED"===e.state,y=v&&"EGDSBasicCheckBox"===(null==u?void 0:u.__typename)&&"CHECKED"===u.state,f=v&&a.createElement(wd,null,a.createElement(Ri,{data:v,setFieldRefByTypename:(e,n,t)=>{i(`${e}SoftPackages`,n,t)},fieldError:l,skipReflection:!0,isPartialDates:!0,maxDateMessage:o,dateRangeLowerBoundErrorMessage:n.dateRangeLowerBoundErrorMessage||void 0})),E=((e,n="hotels")=>{if("hotels"===n){const{flightAdded:n,carAdded:t}=e;if(n&&t)return"fhc";if(n)return"fh";if(t)return"hc"}else if("flights"===n){const{hotelAdded:n,carAdded:t}=e;if(n&&t)return"fhc";if(n)return"fh";if(t)return"fc"}return""})({flightAdded:p(c),carAdded:p(s),hotelAdded:p(u)},r),h=[u,c,s],F=a.createElement(z.X,{direction:"row",space:"three"},h.map(e=>e?a.createElement(q.C,{key:null==e?void 0:e.egdsElementId},a.createElement("div",null,a.createElement(dn,{data:e,onChange:S}))):null));return a.createElement(a.Fragment,null,F,g&&k,y&&f,a.createElement("input",{"data-stid":qd,type:"hidden",name:qd,value:E}))};Qd.fragment=zd,Qd.displayName="SoftPackages";var Kd=e=>{const[n,t]=a.useState(!1),{publish:i}=(0,M.Yj)(),{children:l}=e;return a.createElement(Ce.D,{zIndex:500,onFixed:e=>{t(e),i(new U.wd("SEARCH_FORM_STICKY",{isSticky:e}))}},a.createElement(ue.p,{elevation:n?"floating":"default",toolbarType:n?"standard":"transparent"},a.createElement(Le.s,{layout:"fullwidth",canvasTheme:n?"primary":"none",paddedViewRow:!1},a.createElement(A.N,{padding:{block:"four",inline:n?"three":void 0}},a.createElement("div",{"data-stid":"sticky-search-form"},l)))),!n&&a.createElement(A.N,{padding:"six"},a.createElement("div",null)))},jd=(e,n)=>{const t={BOTTOM:{hasModal:!0,type:"bottom",triggerRef:null},DEFAULT:{type:"popover",width:"LARGE"===n?360:void 0,applyBlockStartMargin:!0,position:"LARGE"===n?{inline:"leading",block:"trailing"}:{inline:"block"},showOverTrigger:!1}};return t[e]||t.DEFAULT},Yd=a.forwardRef(({data:e,isVisible:n,toggleVisibility:t,children:i,position:l,showOverTrigger:r=!1,sheetTypesByView:d},o)=>{var u,v,S,g;const p=(0,s.KY)(),{closeAccessibility:y,sheetTypes:f,closeAnalytics:E}=e,h=(null==d?void 0:d.mobile)||(null!=(v=null==(u=null==f?void 0:f.find(e=>"SMALL"===e.viewSize))?void 0:u.sheetType)?v:"BOTTOM"),F=(null==d?void 0:d.desktop)||(null!=(g=null==(S=null==f?void 0:f.find(e=>"LARGE"===e.viewSize))?void 0:S.sheetType)?g:"POPOVER"),D=jd(h,"SMALL"),N=jd(F,"LARGE"),T=()=>{const{linkName:e,referrerId:n}=E;e&&n&&p(n,e),t&&t()},_={isVisible:n,triggerRef:null!=o?o:null,onDismiss:T,autoFocus:!0,returnFocusOnClose:!0},I=a.createElement(Re.t,null,a.createElement(c.q,{type:"button",onClick:T},a.createElement(m.LD,{name:"close",title:null!=y?y:"",id:"sheet-close-button"}))),b=a.createElement(se.Y,{padded:!0},i);return a.createElement(de.K,{isVisible:n},a.createElement(k.LM,null,a.createElement(k.NP,null,a.createElement("div",{"data-testid":`${D.type}-sheet`},a.createElement(oe.t,{..._,...D},I,b))),a.createElement(k.rw,null,a.createElement(oe.t,{..._,...N,position:null!=l?l:null==N?void 0:N.position,showOverTrigger:null!=r?r:null==N?void 0:N.showOverTrigger},I,b))))});Yd.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSSearchFormMoreInfoTriggerSheetFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSSheet"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"closeAccessibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closeAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sheetTypes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSSheetTypePerViewSize"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sheetType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewSize"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:262,source:{body:"\n  fragment EGDSSearchFormMoreInfoTriggerSheetFragment on EGDSSheet {\n    closeAccessibility\n    closeAnalytics {\n      referrerId\n      linkName\n    }\n    sheetTypes {\n      ... on EGDSSheetTypePerViewSize {\n        sheetType\n        viewSize\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Yd.displayName="EGDSSearchFormMoreInfoTriggerSheet";var Xd={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"EGDSSearchFormMoreInfoTriggerFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSMoreInfoTrigger"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IconFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"triggerAction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"analytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sheet"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSSearchFormMoreInfoTriggerSheetFragment"},directives:[]}]}}]}}]}}].concat(En.fragment.definitions,Yd.fragment.definitions)),loc:{start:0,end:328,source:{body:"\n  fragment EGDSSearchFormMoreInfoTriggerFragment on EGDSMoreInfoTrigger {\n    text\n    icon {\n      ...IconFragment\n    }\n    triggerAction {\n      accessibility\n      text\n      analytics {\n        referrerId\n        linkName\n      }\n      sheet {\n        ...EGDSSearchFormMoreInfoTriggerSheetFragment\n      }\n    }\n  }\n  \n  \n".concat([En.fragment.loc.source.body,Yd.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Jd=a.forwardRef(({data:e,children:n,onHandleClick:t,textSize:i},l)=>{var r;const{icon:d,text:o,triggerAction:{analytics:c}}=e,m=(0,s.KY)(),u={...d,size:null!=(r=d.size)?r:"SMALL"};return a.createElement(Ge.t,{theme:"default"},a.createElement("button",{type:"button",onClick:()=>{if(c){const{referrerId:e,linkName:n}=c;m(e,n)}t&&t()},ref:l},null!=n?n:a.createElement(E.D,{size:null!=i?i:300},o),a.createElement(En,{data:u})))});Jd.fragment=Xd,Jd.displayName="EGDSSearchFormMoreInfoTrigger";var Zd={kind:"Document",definitions:xe([{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchFormCheckboxWithInfoFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SearchFormCheckboxWithInfo"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"checkBox"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSBasicCheckBoxFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"infoTrigger"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSSearchFormMoreInfoTriggerFragment"},directives:[]}]}}]}}].concat(ln.fragment.definitions,Jd.fragment.definitions)),loc:{start:0,end:216,source:{body:"\n  fragment SearchFormCheckboxWithInfoFragment on SearchFormCheckboxWithInfo {\n    checkBox {\n      ...EGDSBasicCheckBoxFragment\n    }\n    infoTrigger {\n      ...EGDSSearchFormMoreInfoTriggerFragment\n    }\n  }\n  \n  \n".concat([ln.fragment.loc.source.body,Jd.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},eo=({analytics:e,data:n})=>{const t=a.useRef(null),[i,l]=a.useState(!1),{checkBox:r,infoTrigger:d}=n,o=(0,s.iQ)(),c=()=>{const n=!i;l(n),n&&e&&o(e.tooltipOpenedEvent)};return a.createElement(a.Fragment,null,a.createElement(z.X,{direction:"row",alignItems:"center",space:"one"},a.createElement(q.C,null,a.createElement(ln,{data:r,onChange:n=>{e&&o(n.currentTarget.checked?e.checkboxCheckedEvent:e.checkboxUncheckedEvent)}})),a.createElement(q.C,null,a.createElement(Jd,{data:d,ref:t,onHandleClick:c}))),a.createElement(Yd,{isVisible:i,toggleVisibility:c,ref:t,data:d.triggerAction.sheet},a.createElement(Ae.u,{size:2},d.triggerAction.text)))};eo.fragment=Zd,eo.displayName="SearchFormCheckboxWithInfo";var no=(e=>(e.IN_LINE="IN_LINE",e.STACKED="STACKED",e))(no||{}),to={__typename:"SearchLocation",analytics:{__typename:"SearchLocationAnalytics",open:'{"metadata":{"packer_version":"1.0.1"},"events":{"search_location.opened":{"v1":{"event_data":{"event":{"event_name":"search_location.opened","event_version":"1.0.0","event_category":"Search","event_type":"Interaction"}}}}}}',close:'{"metadata":{"packer_version":"1.0.1"},"events":{"search_location.closed":{"v1":{"event_data":{"event":{"event_name":"search_location.closed","event_version":"1.0.0","event_category":"Search","event_type":"Interaction"}}}}}}',itemSelected:'{"metadata":{"packer_version":"1.0.1"},"events":{"search_location.selected":{"v1":{"event_data":{"event":{"event_name":"search_location.selected","event_version":"1.0.0","event_category":"Search","event_type":"Interaction"}}}}}}',recommendationsPresented:'{"metadata":{"packer_version":"1.0.1"},"events":{"recommendations_module.presented":{"v2":{"event_data":{"event":{"event_name":"recommendations_module.presented","event_version":"2.1.0","event_category":"Search","event_type":"Impression"}}}}}}',recommendationSelected:'{"metadata":{"packer_version":"1.0.1"},"events":{"recommendations_module.selected":{"v2":{"event_data":{"event":{"event_name":"recommendations_module.selected","event_version":"2.1.0","event_category":"Search","event_type":"Interaction"}}}}}}'},content:{__typename:"SearchLocationContent",clearInput:{__typename:"UIPrimaryFloatingActionButton",accessibility:"Clear"},close:{__typename:"UIPrimaryFloatingActionButton",accessibility:null},poweredByGoogleLogoAltText:"Powered by Google Logo",resultsAvailableAccessibility:null,multiSelection:null,itemSelectedAccessibility:{__typename:"EGDSBasicLocalizedText",models:[],template:""}}},ao=e=>e.map(e=>({messageContent:JSON.parse(e.messageContent),schemaName:e.schemaName})),io=({targetRef:e})=>{const[n,t]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(e.current){const n=new IntersectionObserver(([e])=>{t(!e.isIntersecting&&e.boundingClientRect.bottom<=0)},{threshold:0});return n.observe(e.current),()=>{n.disconnect()}}},[]),n},lo={displayErrorSummary:!1,errorCount:0,errorLinkReference:null,fieldsWithErrors:[]},ro=({fieldsRefs:e})=>{const[n,t]=(0,a.useState)(lo),[i,l]=(0,a.useState)(!1),r=(0,a.useCallback)(()=>t(lo),[]);return(0,a.useEffect)(()=>{var a;if(ya(n,"EGDSSearchFormTravelersField")&&!i){const i=n.fieldsWithErrors.filter(e=>"EGDSSearchFormTravelersField"!==e.__typename);t({fieldsWithErrors:i,errorCount:i.length,displayErrorSummary:i.length>0,errorLinkReference:e[null==(a=i[0])?void 0:a.__typename]})}},[i]),{formErrorState:n,travelerSelectorError:i,setFormErrorState:t,setTravelerSelectorError:l,resetFormErrorState:r}}}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/landing-pwa/shared-ui-retail-search-tools-fragments.ec49b7924abf08b3166a.js.map