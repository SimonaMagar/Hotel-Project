/*@license For license information please refer to shared-ui-retail-identity-google-one-tap.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[8695],{27013:function(e,n,t){t.d(n,{P:function(){return L}});var i=t(96540),a=t(22913),o=t(22828),l=t(59671),d=t(73700),r=t(93065),c=t(1023);const s=e=>{const n={};return e.filter(e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!n[t]&&(n[t]=!0,!0)})};var m=e=>{const{variant:n,cmsToken:t,scenario:i,success:a}=e,o=`${window.location.pathname}${window.location.search}`,l=encodeURIComponent(o);if(!a)return`/login/error?redirectTo=${l}&error=googleOneTap`;switch(n){case"ONE_KEY":case"BETA_CONSENT_0":case"BETA_CONSENT_1":case"BETA_CONSENT_2":return`/onboarding?originUrl=${l}&cmsToken=${t}&scenario=${i}`;case"ONE_IDENTITY_1":case"ONE_IDENTITY_0":case"ONE_IDENTITY_2":return(e=>{const{cmsToken:n,scenario:t,variant:i,accountMergeSharedUiExposure:a}=e,o=`${window.location.pathname}${window.location.search}`,l=encodeURIComponent(o);return 1===(null==a?void 0:a.bucket)?`/accountmerge?redirectTo=${l}&token=${n}&scenario=${t}&variant=${i}`:`/onboarding?originUrl=${l}&cmsToken=${n}&scenario=${t}`})(e);case"PASSWORD_1":case"PASSWORD_3":case"PASSWORD_0":case"PASSWORD_2":return`/addpassword?redirectTo=${l}&token=${t}&scenario=${i}&variant=${n}`;case"PROFILE_DETAIL_0":case"PROFILE_DETAIL_1":return`/accountinfo?redirectTo=${l}&token=${t}&scenario=${i}&variant=${n}`;case"PROFILE_DETAIL_2":return`/marketingconsent?redirectTo=${l}&token=${t}&scenario=${i}&variant=${n}`;default:return null}},u=e=>{const n=m(e);null===n?window.location.reload():window.location.assign(n)},v={production:{expedia:"919023678118-cdrmliol1m0qorr1hm0oe877pnrd02rb.apps.googleusercontent.com",hotels:"919023678118-se4le72t21uj4vfklnmbn2o9ch4htfa6.apps.googleusercontent.com",vrbo:"42464624060-9dvu968n052patjorlqk96iq0ucbmrjs.apps.googleusercontent.com"},test:{expedia:"919023678118-4l1sglppck55092s061amo2nttt21a21.apps.googleusercontent.com",hotels:"919023678118-j62pores4hgm2g83b67m8hk2gugmtkjk.apps.googleusercontent.com",vrbo:"42464624060-9dvu968n052patjorlqk96iq0ucbmrjs.apps.googleusercontent.com"}},p=(e,n)=>{var t;return{analytics:[{eventName:"google_onetap.presented",eventVersion:"1.2.0",payload:'{"metadata":{"packer_version":"1.0.1"},"events":{"google_onetap.presented":{"v1":{"event_data":{"event":{"event_type":"Impression","event_name":"google_onetap.presented","event_category":"account","event_version":"1.2.0"},"experience":{"page_name":"Homepage","app_version":"1.0.0","app_name":"googleOneTap"},"form":{"form_id":"googleonetap"}}}}}}',__typename:"IdentityAnalyticsImpressionEvent"},{eventName:"google_onetap.closed",eventVersion:"1.0.0",payload:'{"metadata":{"packer_version":"1.0.1"},"events":{"google_onetap.closed":{"v1":{"event_data":{"event":{"action_location":"Google OneTap","event_type":"Interaction","event_name":"google_onetap.closed","event_category":"account","event_version":"1.0.0"},"experience":{"page_name":"Homepage","app_version":"1.0.0","app_name":"googleOneTap"}}}}}}',__typename:"IdentityAnalyticsInteractionEvent"},{eventName:"google_onetap.hidden",eventVersion:"1.0.0",payload:'{"metadata":{"packer_version":"1.0.1"},"events":{"google_onetap.hidden":{"v1":{"event_data":{"event":{"action_location":"Google OneTap","event_type":"Interaction","event_name":"google_onetap.hidden","event_category":"account","event_version":"1.0.0"},"experience":{"page_name":"Homepage","app_version":"1.0.0","app_name":"googleOneTap"}}}}}}',__typename:"IdentityAnalyticsInteractionEvent"}],configuration:{clientId:null==(t=null==v?void 0:v[n])?void 0:t[e],__typename:"IdentityGoogleOneTapAuthConfiguration"},action:{atoActions:[{inputKeys:["token"],token:"d0f33e02-7821-4372-9da6-0d29f32fdbbd|2xusNiZwXOGV91N7QFR81Jn5BCfBGzwEPk6GZ3TXsF0nWq5KB-OowUTPG_UiwrBLBre7raQ7t5npVP_VX26nxA",type:"CSRF",__typename:"IdentityCsrfWidgetAction"}],nonce:"Y+RPvw/jQ3zO15k2NXwSPMuOsxasy7MqISrCC10ifKx+JdxJj7+rPbX7DEtZFB3E41jNK188qfPGuwVMkufjFOS07GlGO38m6xuEZqkTeJgzzTKtc+NF3rxIyU/CK9Urbbg2l+jNF1+BHIcjB2g2EGZ+sn3kc+Itp0ETxxjUdyw=",context:'{"layout":"SIGNIN","process":"googleOneTap"}',clickStreamAnalytics:[{eventName:"google_onetap.submitted",eventVersion:"1.2.0",payload:'{"metadata":{"packer_version":"1.0.1"},"events":{"google_onetap.submitted":{"v1":{"event_data":{"event":{"action_location":"Google OneTap","event_type":"Interaction","event_name":"google_onetap.submitted","event_category":"account","event_version":"1.2.0"},"experience":{"page_name":"Homepage","app_version":"1.0.0","app_name":"googleOneTap"},"form":{"form_id":"googleonetap"}}}}}}',__typename:"IdentityAnalyticsInteractionEvent"},{eventName:"google_onetap.failed",eventVersion:"1.1.0",payload:'{"metadata":{"packer_version":"1.0.1"},"events":{"google_onetap.failed":{"v1":{"event_data":{"event":{"action_location":"Google OneTap","event_type":"Outcome","event_name":"google_onetap.failed","event_category":"account","event_version":"1.1.0"},"experience":{"page_name":"Homepage","app_version":"1.0.0","app_name":"googleOneTap"},"error_list":[{"error_name":"GOOGLE_ONE_TAP_INTERNAL_SERVER_ERROR","error_description":"Google One tap mutation request processing failure.","error_code":""}]}}}}}',__typename:"IdentityAnalyticsOutcomeEvent"}],__typename:"IdentityOneTapSubmitAction"},allowIntelligentTrackingPrevention:!0,__typename:"IdentityGoogleOneTapResponse"}},g=(new l.SystemEvent(l.SystemEventLevel.ERROR,"IDENTITY_ATO_SCRIPT_ERROR"),e=>{const n=(e=>{const{event_type:n,event_name:t,event_category:i,event_version:a,action_location:o,action_reason:l,event_producer:d}=e.event_data.event,{page_name:r,page_name_detailed:c}=e.event_data.experience;return{event:{event_type:n,event_name:t,event_category:i,event_version:a,action_location:o,event_producer:d,action_reason:l},experience:{page_name:r,page_name_detailed:c}}})(e);return"additional_context"in e.event_data&&(n.additional_context=e.event_data.additional_context),"form"in e.event_data&&(n.form=e.event_data.form),"user"in e.event_data&&(n.user=e.event_data.user),"error_list"in e.event_data&&(n.error_list=e.event_data.error_list),n}),y=(e,n)=>{if(e){const t=Array.isArray(n),i=t?((e,n)=>{var t;return null!=(t=e.find(e=>n.includes(e.eventName)))?t:null})(e,n):((e,n)=>{var t;return null!=(t=e.find(e=>e.eventName===n))?t:null})(e,n);if(null==i?void 0:i.payload){const e=t?i.eventName:n,a=((e,n)=>{try{const t=JSON.parse(e);return n in t.events?Object.values(t.events[n]).at(0):null}catch(t){return null}})(i.payload,e);return null!=a?a:null}}return null},k=((0,d.s)(1e3,e=>{e()}),"__googleOneTapScript__"),_="idle",f="loading",N="ready",I="error",S="load",T="error",O="google_onetap.failed",E=({disabled:e,googleAccountConfigs:n,disableCancelOnUnmount:t=!1,initialize:a=!1,analytics:l})=>{const d=(e=>{const[n,t]=(0,i.useState)(e?f:_);return(0,i.useEffect)(()=>{if(!e)return void t(_);let n=document.querySelector(`script[src="${e}"]`);if(n)t(n.getAttribute("data-status")||_);else{n=document.createElement("script"),n.src=e,n.async=!0,n.setAttribute("data-status",f),document.body.appendChild(n);const t=e=>{n&&n.setAttribute("data-status",e.type===S?N:I)};n.addEventListener(S,t),n.addEventListener(T,t)}const i=e=>{t(e.type===S?N:I)};return n.addEventListener(S,i),n.addEventListener(T,i),()=>{n&&(n.removeEventListener(S,i),n.removeEventListener(T,i))}},[e]),n})("https://accounts.google.com/gsi/client"),r=(0,o.iQ)();return(0,i.useEffect)(()=>{var i,o,c,s,m,u;if(a&&!(null==window?void 0:window[k])&&window.google&&"ready"===d&&(null==(c=null==(o=null==(i=null==window?void 0:window.google)?void 0:i.accounts)?void 0:o.id)||c.initialize({...n}),window[k]=!0),a&&(null==window?void 0:window[k])&&window.google&&"ready"===d&&!e)return null==(u=null==(m=null==(s=null==window?void 0:window.google)?void 0:s.accounts)?void 0:m.id)||u.prompt(e=>{if("user_cancel"===(null==e?void 0:e.getSkippedReason())){const e=y(l,"google_onetap.closed");e&&r(g(e))}if("tap_outside"===(null==e?void 0:e.getSkippedReason())){const e=y(l,"google_onetap.hidden");e&&r(g(e))}if(null==e?void 0:e.isDisplayed()){const e=y(l,"google_onetap.presented");e&&r(g(e))}}),()=>{var e,n,i;t||null==(i=null==(n=null==(e=null==window?void 0:window.google)?void 0:e.accounts)?void 0:n.id)||i.cancel()}},[d,a,e,t]),null},b=()=>{const{context:e}=(0,a.R)(),{exposure:n}=(0,r.useExperiment)("Google_Onetap_on_mWeb");return{isGoogleOneTapEnabled:(0,i.useCallback)(()=>{var t,i,a;const o=["MOBILE_PHONE","MOBILE_TABLET"].includes(null==(t=null==e?void 0:e.device)?void 0:t.type),l="DESKTOP"===(null==(i=null==e?void 0:e.device)?void 0:i.type),d="AUTHENTICATED"===(null==(a=null==e?void 0:e.identity)?void 0:a.authState),r=(e=>{const n=null==document?void 0:document.cookie,t=new RegExp(`(?:^|; )${e}=([^;]*)`),i=null==n?void 0:n.match(t);return i?decodeURIComponent(i[1]):null})("OptanonAlertBoxClosed");return!d&&(!!l||!!(o&&(null==n?void 0:n.bucket)>0&&r))},[e,n])}};function A({children:e=null,...n}){return E(n),e}var F={fragment:{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"IdentityAnalyticsInteractionEventFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IdentityAnalyticsInteractionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"eventName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventVersion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"payload"},arguments:[],directives:[]}]}}],loc:{start:0,end:140,source:{body:"\n  fragment IdentityAnalyticsInteractionEventFragment on IdentityAnalyticsInteractionEvent {\n    eventName\n    eventVersion\n    payload\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}}},w={fragment:{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"IdentityAnalyticsOutcomeEventFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IdentityAnalyticsOutcomeEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"eventName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventVersion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"payload"},arguments:[],directives:[]}]}}],loc:{start:0,end:132,source:{body:"\n  fragment IdentityAnalyticsOutcomeEventFragment on IdentityAnalyticsOutcomeEvent {\n    eventName\n    eventVersion\n    payload\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}}},x={kind:"Document",definitions:s([{kind:"FragmentDefinition",name:{kind:"Name",value:"IdentityOneTapSubmitActionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IdentityOneTapSubmitAction"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"atoActions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IdentityCsrfWidgetAction"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"inputKeys"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"nonce"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickStreamAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IdentityAnalyticsInteractionEventFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"IdentityAnalyticsOutcomeEventFragment"},directives:[]}]}}]}}].concat(F.fragment.definitions,w.fragment.definitions)),loc:{start:0,end:358,source:{body:"\n  fragment IdentityOneTapSubmitActionFragment on IdentityOneTapSubmitAction {\n    atoActions {\n      ... on IdentityCsrfWidgetAction {\n        inputKeys\n        token\n        type\n      }\n    }\n    nonce\n    context\n    clickStreamAnalytics {\n      ...IdentityAnalyticsInteractionEventFragment\n      ...IdentityAnalyticsOutcomeEventFragment\n    }\n  }\n  \n  \n".concat([F.fragment.loc.source.body,w.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},R={kind:"Document",definitions:s([{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"GoogleOneTapSubmit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ContextInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"submitRequest"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"IdentitySubmitRequestInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"googleOneTapSubmit"},arguments:[{kind:"Argument",name:{kind:"Name",value:"context"},value:{kind:"Variable",name:{kind:"Name",value:"context"}}},{kind:"Argument",name:{kind:"Name",value:"submitRequest"},value:{kind:"Variable",name:{kind:"Name",value:"submitRequest"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IdentityGoogleOneTapMutationResponse"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"analytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IdentityAnalyticsOutcomeEventFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cmsToken"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"flow"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scenario"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"variant"},arguments:[],directives:[]}]}}]}}]}}].concat(w.fragment.definitions)),loc:{start:0,end:411,source:{body:"\n  mutation GoogleOneTapSubmit($context: ContextInput!, $submitRequest: IdentitySubmitRequestInput!) {\n    googleOneTapSubmit(context: $context, submitRequest: $submitRequest) {\n      ... on IdentityGoogleOneTapMutationResponse {\n        analytics {\n          ...IdentityAnalyticsOutcomeEventFragment\n        }\n        cmsToken\n        flow\n        scenario\n        success\n        variant\n      }\n    }\n  }\n  \n".concat([w.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},G={fragment:{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"IdentityAnalyticsImpressionEventFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IdentityAnalyticsImpressionEvent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"eventName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eventVersion"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"payload"},arguments:[],directives:[]}]}}],loc:{start:0,end:138,source:{body:"\n  fragment IdentityAnalyticsImpressionEventFragment on IdentityAnalyticsImpressionEvent {\n    eventName\n    eventVersion\n    payload\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}}},D={kind:"Document",definitions:s([{kind:"FragmentDefinition",name:{kind:"Name",value:"IdentityGoogleOneTapResponseFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"IdentityGoogleOneTapResponse"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"analytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IdentityAnalyticsImpressionEventFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"IdentityAnalyticsInteractionEventFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"configuration"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clientId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IdentityOneTapSubmitActionFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"allowIntelligentTrackingPrevention"},arguments:[],directives:[]}]}}].concat(G.fragment.definitions,F.fragment.definitions,x.definitions)),loc:{start:0,end:363,source:{body:"\n  fragment IdentityGoogleOneTapResponseFragment on IdentityGoogleOneTapResponse {\n    analytics {\n      ...IdentityAnalyticsImpressionEventFragment\n      ...IdentityAnalyticsInteractionEventFragment\n    }\n    configuration {\n      clientId\n    }\n    action {\n      ...IdentityOneTapSubmitActionFragment\n    }\n    allowIntelligentTrackingPrevention\n  }\n\n  \n  \n  \n".concat([G.fragment.loc.source.body,F.fragment.loc.source.body,x.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},h={kind:"Document",definitions:s([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GoogleOneTapQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ContextInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"googleOneTap"},arguments:[{kind:"Argument",name:{kind:"Name",value:"context"},value:{kind:"Variable",name:{kind:"Name",value:"context"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"IdentityGoogleOneTapResponseFragment"},directives:[]}]}}]}}].concat(D.definitions)),loc:{start:0,end:152,source:{body:"\n  query GoogleOneTapQuery($context: ContextInput!) {\n    googleOneTap(context: $context) {\n      ...IdentityGoogleOneTapResponseFragment\n    }\n  }\n\n  \n".concat([D.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},C=({skipSsr:e,credential:n})=>{const{context:t}=(0,a.R)(),{authenticateWithGoogleOneTap:l}=(()=>{const{context:e}=(0,a.R)(),{exposure:n}=(0,r.useExperiment)("Onboarding_v2_Web"),[t]=(0,c.n_)(R),l=(0,o.iQ)();return{authenticateWithGoogleOneTap:(0,i.useCallback)(async(i,a)=>{var o;const{nonce:d="",context:r="",atoActions:c=[],clickStreamAnalytics:s}=a,m={type:null==(v=(null==c?void 0:c.filter(e=>"IdentityCsrfWidgetAction"===e.__typename)[0])||{})?void 0:v.type,inputs:[{key:v.inputKeys[0],value:v[v.inputKeys[0]]}]};var v;try{const{data:a}=await t({variables:{context:e,submitRequest:{context:r,atoInputs:m,socialInput:{socialType:"GOOGLE",tokenType:"ID",token:i,nonce:d},input:[]}}});if("IdentityGoogleOneTapMutationResponse"===(null==(o=null==a?void 0:a.googleOneTapSubmit)?void 0:o.__typename)){const{googleOneTapSubmit:{analytics:e,variant:t,success:i}}=a;if(i){const n=y(e,"google_onetap.succeeded");n&&l(g(n));const t=y(e,"sign_up.succeeded");t&&l(g(t));const i=y(e,"sign_in.succeeded");i&&l(g(i))}else{const n=y(e,O);n&&l(g(n))}u({...null==a?void 0:a.googleOneTapSubmit,accountMergeSharedUiExposure:n})}}catch(p){const e=y(s,O);e&&l(g(e)),u({success:!1})}},[e])}})(),d={context:t},{data:s,error:m,loading:v}=(0,c.IT)(h,{context:t,variables:d,ssr:!e});return(0,i.useEffect)(()=>{var e;if("IdentityGoogleOneTapResponse"===(null==(e=null==s?void 0:s.googleOneTap)?void 0:e.__typename)&&!v&&!m){const{action:e}=s.googleOneTap;l(n,e)}},[v,m,n,s,l]),null};C.displayName="sharedui-GoogleOneTapQueryComponent";var $=({data:e})=>{const{configuration:n,analytics:t,action:a,allowIntelligentTrackingPrevention:l}=e,d=(null==n?void 0:n.clientId)||"",r=l||!1,[c,s]=(0,i.useState)(!1),{isGoogleOneTapEnabled:m}=b();(0,i.useEffect)(()=>{s(!0)},[]);const u=(0,o.iQ)(),[v,p]=(0,i.useState)(!1),[k,_]=(0,i.useState)("");return d&&m()?i.createElement(i.Fragment,null,v?i.createElement(C,{credential:k}):i.createElement(A,{googleAccountConfigs:{client_id:d,callback:async e=>{const n=y(null==a?void 0:a.clickStreamAnalytics,"google_onetap.submitted");if(n&&u(g(n)),null==e?void 0:e.credential)await _(e.credential),await p(!0);else{const e=y(null==a?void 0:a.clickStreamAnalytics,O);e&&u(g(e))}},nonce:null==a?void 0:a.nonce,itp_support:r,use_fedcm_for_prompt:!1},initialize:c,analytics:t})):null};$.displayName="IdentityGoogleOneTapResponse";var L=({brand:e,env:n})=>{var t;const{context:o}=(0,a.R)();let l="";return l="production"===n||"prod"===n?"production":"test","AUTHENTICATED"===(null==(t=null==o?void 0:o.identity)?void 0:t.authState)?null:i.createElement($,{data:p(e,l)})};L.displayName="sharedui-GoogleOneTap"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/landing-pwa/shared-ui-retail-identity-google-one-tap.2bbef6ebb2b02e2809b5.js.map