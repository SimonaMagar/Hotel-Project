/*@license For license information please refer to shared-ui-retail-trips-providers.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[1987],{2154:function(e,t,n){n.d(t,{ek:function(){return I},uU:function(){return u}});var i=n(96540),r=(n(1023),n(70273)),o=n(72211);n(22828);const a=e=>{const t={};return e.filter(e=>{if("FragmentDefinition"!==e.kind)return!0;const n=e.name.value;return!t[n]&&(t[n]=!0,!0)})};function s(e){return e.reduce((e,t)=>Object.assign(e,{[t]:{status:"UNKNOWN"}}),{})}function p(e){return()=>Promise.resolve({success:!1,failureReason:`No ExternalItemsOperationsProvider found in tree found while calling ${e}`,failure:{type:"NO_PROVIDER"}})}var c={connectExternalMailbox:p("connectExternalMailbox"),saveExternalItemsToTrip:p("saveExternalItemsToTrip"),saveManualItemToTrip:p("saveManualItemToTrip")};i.createContext({...c,state:s(Object.keys(c))});function m(e){return function(t,n,i){return n(t=>({...t,[e.operationName]:{status:"IN_PROGRESS"}})),t({variables:i}).then(t=>{if(t.errors){const i={failureReason:`${e.operationName} failed with graphql error(s)`,failure:{type:"GRAPHQL",errors:t.errors}};return n(t=>({...t,[e.operationName]:{status:"FAILURE",error:i}})),{success:!1,...i}}return t.data?(n(n=>({...n,[e.operationName]:{status:"SUCCESS",result:t}})),{success:!0,...t}):Promise.reject(new Error(`${e.operationName} returned null data`))}).catch(t=>{const i=`unexpected error encountered while calling ${e.operationName}`,r=`${i}: ${t instanceof Error?t.message:t}`,o={failureReason:i,failure:{type:"UNKNOWN",error:new Error(r)}};return n(t=>({...t,[e.operationName]:{status:"FAILURE",error:o}})),{success:!1,...o}})}}m({operationName:"connectExternalMailbox"}),r.eh.definitions,"\n  mutation SharedUIWeb_SaveExternalItemsToTripMutation(\n    $context: ContextInput!\n    $tripId: String!\n    $itemIdsToAdd: [String!]!\n    $itemIdsToRemove: [String!]!\n  ) {\n    saveExternalItemsToTrip(context: $context, tripId: $tripId, itemIdsToAdd: $itemIdsToAdd, itemIdsToRemove: $itemIdsToRemove) {\n      toast {\n        ...TripsUIToastFragment\n      }\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n")),m({operationName:"saveExternalItemsToTrip"}),r.eh.definitions,"\n  mutation SharedUIWeb_SaveManualItemToTripMutation(\n    $context: ContextInput!\n    $tripId: String!\n    $itemId: String\n    $itemType: String!\n    $itemData: [GraphQLPairInput!]!\n  ) {\n    saveManualItemToTrip(context: $context, tripId: $tripId, itemId: $itemId, itemType: $itemType, itemData: $itemData) {\n      toast {\n        ...TripsUIToastFragment\n      }\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n")),m({operationName:"saveManualItemToTrip"});var d=i.createContext(void 0),I=({children:e})=>{const[t,n]=i.useState([]),r=i.useMemo(()=>[],[]),o=i.useCallback(e=>{var n,i;return e?(r.find(t=>Object.is(t,e))||r.push(e),e.reference?{subscribe:null!=(n=t.find(t=>t.result.reference===e.reference))?n:null}:{subscribe:null!=(i=t.find(t=>t.result.type===e.type))?i:null}):{subscribe:null}},[r,t]),a=i.useCallback((e,t)=>{const{subscribe:n}=o(e);n&&e&&(e.reference&&n.result.reference&&e.reference===n.result.reference&&t(n),e.reference||e.type!==n.result.type||t(n))},[o]),s=i.useCallback(e=>{const t=r.map(e=>e.type),i=e.filter(e=>t.includes(e.signal.type)).map(e=>{var t;return{result:{type:e.signal.type,reference:null!=(t=e.signal.reference)?t:void 0,values:e.values}}});n(i)},[r]),p=i.useMemo(()=>({onSignalEmit:a,emitSignals:s}),[a,s]);return i.createElement(d.Provider,{value:p},e)};var u=e=>{const{emitSignals:t}=function(){const e=i.useContext(d);if(void 0===e)throw new Error("No Trips SignalProvider found in React tree");return e}(),[n]=(0,o.A9)();return{emit:()=>{const i=null==e?void 0:e.map(e=>{const t=e.values.map(e=>{var t;switch(e.value.__typename){case"TripsSignalFieldIdValue":{const t=e.value,i=n.validatedInputs.inputFields.find(e=>e.inputId===t.id);return{__typename:e.__typename,key:e.key,value:i.inputValue}}case"TripsSignalFieldIdExistingValues":{const i=e.value,r=i.ids.map(e=>n.validatedInputs.inputFields.find(t=>t.inputId===e)).map(e=>e.inputValue),o=[...null!=(t=i.prefixes)?t:[],...r];return{__typename:e.__typename,key:e.key,value:o}}default:return{__typename:e.__typename,key:e.key,value:null}}});return{__typename:e.__typename,signal:e.signal,values:t}});i&&t(i)}}};function l(e){return()=>Promise.resolve({success:!1,failureReason:`No TripOperationsProvider found in tree found while calling ${e}`,failure:{type:"NO_PROVIDER"}})}var T={createTripItineraryTemplate:l("createTripItineraryTemplate"),createTrip:l("createTrip"),deleteTrip:l("deleteTrip"),editTrip:l("editTrip"),updateTripItemTrip:l("updateTripItemTrip"),sendTripInvite:l("sendTripInvite"),acceptRequestToJoinTrip:l("acceptRequestToJoinTrip"),manageTripParticipant:l("manageTripParticipant"),acceptTripInvite:l("acceptTripInvite")},$=(i.createContext({...T,state:s(Object.keys(T))}),m({operationName:"createTrip"}),r.eh.definitions,"\n  mutation SharedUIWeb_CreateTripMutation(\n    $context: ContextInput!\n    $name: String!\n    $description: String\n    $itemId: String\n    $operationType: String\n    $tripContext: TripsUITripContextInput\n  ) {\n    createTrip(context: $context, name: $name, description: $description, itemId: $itemId, operationType: $operationType, tripContext: $tripContext) {\n      status\n      toast {\n        ...TripsUIToastFragment\n      }\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n")),m({operationName:"deleteTrip"}),r.eh.definitions,"\n  mutation SharedUIWeb_DeleteTripMutation($context: ContextInput!, $tripId: String!) {\n    deleteTrip(context: $context, tripId: $tripId) {\n      toast {\n        ...TripsUIToastFragment\n      }\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n")),m({operationName:"editTrip"}),r.eh.definitions,"\n  mutation SharedUIWeb_EditTripMutation($context: ContextInput!, $description: String, $name: String, $tripId: String!) {\n    editTrip(context: $context, description: $description, name: $name, tripId: $tripId) {\n      toast {\n        ...TripsUIToastFragment\n      }\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n")),r.eh.definitions,"\n  mutation SharedUIWeb_UpdateTripItemTripMutation(\n    $context: ContextInput!\n    $tripContext: TripsUITripContextInput!\n    $itemId: String!\n    $operationType: String!\n  ) {\n    updateTripItemTrip(context: $context, tripContext: $tripContext, itemId: $itemId, operationType: $operationType) {\n      status\n      toast {\n        ...TripsUIToastFragment\n      }\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n")),m({operationName:"updateTripItemTrip"}),m({operationName:"sendTripInvite"}),r.eh.definitions,"\n  mutation SharedUIWeb_SendTripInviteMutation($tripId: String!, $recipients: String!, $message: String!, $context: ContextInput!) {\n    sendTripInvite(tripId: $tripId, recipients: $recipients, message: $message, context: $context) {\n      status\n      toast {\n        ...TripsUIToastFragment\n      }\n    }\n  }\n  \n".concat([r.eh.loc.source.body].join("\n")),m({operationName:"acceptRequestToJoinTrip"}),r.eh.definitions,"\n  mutation SharedUIWeb_AcceptRequestToJoinTripMutation($tripId: String!, $requestToJoinId: String!, $context: ContextInput!) {\n    acceptRequestToJoinTrip(tripId: $tripId, requestToJoinId: $requestToJoinId, context: $context) {\n      ...TripsUIToastFragment\n    }\n  }\n  \n".concat([r.eh.loc.source.body].join("\n")),m({operationName:"createTripItineraryTemplate"}),m({operationName:"manageTripParticipant"}),{kind:"Document",definitions:a([{kind:"FragmentDefinition",name:{kind:"Name",value:"TripsUILeaveTripSuccessResponseFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TripsUILeaveTripSuccessResponse"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"toast"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TripsUIToastFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"link"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HttpURI"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}}].concat(r.eh.definitions)),loc:{start:0,end:207,source:{body:"\n  fragment TripsUILeaveTripSuccessResponseFragment on TripsUILeaveTripSuccessResponse {\n    toast {\n      ...TripsUIToastFragment\n    }\n    link {\n      ... on HttpURI {\n        value\n      }\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}}),g={kind:"Document",definitions:a([{kind:"FragmentDefinition",name:{kind:"Name",value:"TripsUIManageTripParticipantFailureResponseFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TripsUIManageTripParticipantFailureResponse"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"toast"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TripsUIToastFragment"},directives:[]}]}}]}}].concat(r.eh.definitions)),loc:{start:0,end:169,source:{body:"\n  fragment TripsUIManageTripParticipantFailureResponseFragment on TripsUIManageTripParticipantFailureResponse {\n    toast {\n      ...TripsUIToastFragment\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},v={kind:"Document",definitions:a([{kind:"FragmentDefinition",name:{kind:"Name",value:"TripsUIRemoveTripParticipantSuccessResponseFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TripsUIRemoveTripParticipantSuccessResponse"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"toast"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TripsUIToastFragment"},directives:[]}]}}]}}].concat(r.eh.definitions)),loc:{start:0,end:169,source:{body:"\n  fragment TripsUIRemoveTripParticipantSuccessResponseFragment on TripsUIRemoveTripParticipantSuccessResponse {\n    toast {\n      ...TripsUIToastFragment\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}};$.definitions,g.definitions,v.definitions,"\n  mutation SharedUIWeb_ManageTripParticipantMutation($context: ContextInput!, $tripId: String!, $userId: String!, $operationType: String!) {\n    manageTripParticipant(context: $context, tripId: $tripId, userId: $userId, operationType: $operationType) {\n      ...TripsUILeaveTripSuccessResponseFragment\n      ...TripsUIManageTripParticipantFailureResponseFragment\n      ...TripsUIRemoveTripParticipantSuccessResponseFragment\n    }\n  }\n\n  \n  \n  \n".concat([$.loc.source.body,g.loc.source.body,v.loc.source.body].join("\n")),m({operationName:"acceptTripInvite"}),r.eh.definitions,"\n  mutation SharedUIWeb_AcceptTripInviteMutation($tripId: String!, $inviteId: String!, $context: ContextInput!) {\n    acceptInvite(tripId: $tripId, inviteId: $inviteId, context: $context) {\n      ... on TripsUIAcceptInviteSuccessResponse {\n        link {\n          relativePath\n          value\n        }\n      }\n      ... on TripsUIAcceptInviteFailureResponse {\n        toast {\n          ...TripsUIToastFragment\n        }\n      }\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n"));function S(e){return()=>Promise.resolve({success:!1,failureReason:`No TripItemOperationsProvider found in tree found while calling ${e}`,failure:{type:"NO_PROVIDER"}})}var x={removeTripItem:S("removeTripItem"),saveTripItems:S("saveTripItems"),updateTripItemDates:S("updateTripItemDates"),updateTripItemVote:S("updateTripItemVote"),saveTripItemComment:S("saveTripItemComment"),deleteTripItemComment:S("deleteTripItemComment"),editTripItemComment:S("editTripItemComment")};i.createContext({...x,state:s(Object.keys(x))}),m({operationName:"removeTripItem"}),r.eh.definitions,"\n  mutation SharedUIWeb_RemoveTripItemMutation($context: ContextInput!, $itemId: String!, $tripId: String!) {\n    removeTripItem(context: $context, itemId: $itemId, tripId: $tripId) {\n      status\n      toast {\n        ...TripsUIToastFragment\n      }\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n")),m({operationName:"saveTripItems"}),r.eh.definitions,"\n  mutation SharedUIWeb_SaveTripItemsMutation(\n    $context: ContextInput!\n    $tripId: String\n    $criteria: TripsUISaveTripItemsCriteriaInput!\n    $source: String\n    $pageLocation: PageLocation\n  ) {\n    saveTripItems(context: $context, tripId: $tripId, criteria: $criteria, source: $source, pageLocation: $pageLocation) {\n      status\n      toast {\n        ...TripsUIToastFragment\n      }\n      url {\n        value\n      }\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n")),r.eh.definitions,"\n  mutation SharedUIWeb_UpdateTripItemDatesMutation(\n    $context: ContextInput!\n    $itemIds: [String!]\n    $tripId: String!\n    $dateRange: DateRangeInput!\n    $flexibleDatesRange: String\n  ) {\n    updateTripItemDates(context: $context, itemIds: $itemIds, tripId: $tripId, dateRange: $dateRange, flexibleDatesRange: $flexibleDatesRange) {\n      status\n      toast {\n        ...TripsUIToastFragment\n      }\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n")),m({operationName:"updateTripItemDates"}),r.eh.definitions,"\n  mutation SharedUIWeb_UpdateTripItemVoteMutation($context: ContextInput!, $tripId: String!, $itemId: String!) {\n    updateTripItemVote(context: $context, tripId: $tripId, itemId: $itemId) {\n      ... on TripsUIUpdateTripItemVoteFailureResponse {\n        toast {\n          ...TripsUIToastFragment\n        }\n      }\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n")),m({operationName:"updateTripItemVote"}),r.eh.definitions,"\n  mutation SharedUIWeb_SaveTripItemCommentMutation(\n    $context: ContextInput!\n    $tripId: String!\n    $itemId: String!\n    $comment: String!\n    $commentId: String\n  ) {\n    saveTripItemComment(context: $context, tripId: $tripId, itemId: $itemId, comment: $comment, commentId: $commentId) {\n      ... on TripsUISaveTripItemCommentFailureResponse {\n        toast {\n          ...TripsUIToastFragment\n        }\n      }\n      ... on TripsUISaveTripItemCommentSuccessResponse {\n        actionCount {\n          count\n          accessibility\n        }\n        comments {\n          avatar {\n            ... on TripsUITextAvatar {\n              text\n            }\n          }\n          comment\n          id\n          name\n          timestamp\n        }\n        impressionAnalytics {\n          linkName\n          referrerId\n        }\n      }\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n")),m({operationName:"saveTripItemComment"}),m({operationName:"deleteTripItemComment"}),r.eh.definitions,"\n  mutation SharedUIWeb_DeleteTripItemCommentMutation($context: ContextInput!, $tripId: String!, $itemId: String!, $commentId: String!) {\n    deleteTripItemComment(context: $context, tripId: $tripId, itemId: $itemId, commentId: $commentId) {\n      ... on TripsUIDeleteTripItemCommentFailureResponse {\n        toast {\n          ...TripsUIToastFragment\n        }\n      }\n      ... on TripsUIDeleteTripItemCommentSuccessResponse {\n        actionCount {\n          count\n          accessibility\n        }\n        comments {\n          avatar {\n            ... on TripsUITextAvatar {\n              text\n            }\n          }\n          comment\n          id\n          name\n          timestamp\n        }\n        impressionAnalytics {\n          linkName\n          referrerId\n        }\n      }\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n")),r.eh.definitions,"\n  mutation SharedUIWeb_EditTripItemCommentMutation(\n    $context: ContextInput!\n    $tripId: String!\n    $itemId: String!\n    $comment: String!\n    $commentId: String!\n  ) {\n    editTripItemComment(context: $context, tripId: $tripId, itemId: $itemId, comment: $comment, commentId: $commentId) {\n      ... on TripsUIEditTripItemCommentFailureResponse {\n        toast {\n          ...TripsUIToastFragment\n        }\n      }\n      ... on TripsUIEditTripItemCommentSuccessResponse {\n        comments {\n          avatar {\n            ... on TripsUITextAvatar {\n              text\n            }\n          }\n          comment\n          id\n          name\n          timestamp\n        }\n        impressionAnalytics {\n          linkName\n          referrerId\n        }\n      }\n    }\n  }\n  \n".concat([r.eh.loc.source.body].join("\n")),m({operationName:"editTripItemComment"});i.createContext({setTripsToastData:()=>{},setTripsFallbackToastData:()=>{}}),i.createContext({mapState:"EXPANDED",setMapState:()=>{}}),i.createContext("LIST");function f(e){return()=>Promise.resolve({success:!1,failureReason:`No TripNoteOperationsProvider found in tree found while calling ${e}`,failure:{type:"NO_PROVIDER"}})}var y={saveNote:f("saveNote"),deleteNote:f("deleteNote")};i.createContext({...y,state:s(Object.keys(y))}),m({operationName:"saveNote"}),r.eh.definitions,"\n  mutation SharedUIWeb_SaveNoteMutation($tripId: String!, $noteId: String, $noteData: [GraphQLPairInput!]!, $context: ContextInput!) {\n    saveNote(tripId: $tripId, noteId: $noteId, noteData: $noteData, context: $context) {\n      status\n      toast {\n        ...TripsUIToastFragment\n      }\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n")),m({operationName:"deleteNote"}),r.eh.definitions,"\n  mutation SharedUIWeb_DeleteNoteMutation($noteId: String!, $context: ContextInput!) {\n    deleteNote(noteId: $noteId, context: $context) {\n      status\n      toast {\n        ...TripsUIToastFragment\n      }\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n"));function h(e){return()=>Promise.resolve({success:!1,failureReason:`No ItineraryItemOperationsProvider found in tree found while calling ${e}`,failure:{type:"NO_PROVIDER"}})}var U={removeItineraryItem:h("removeItineraryItem"),refreshItineraryItem:h("refreshItineraryItem")};i.createContext({...U,state:s(Object.keys(U))}),m({operationName:"tripsRemoveItineraryItem"}),r.eh.definitions,"\n  mutation SharedUIWeb_RemoveItineraryItemMutation($context: ContextInput!, $itineraryId: String!, $itineraryItemId: String!) {\n    tripsRemoveItineraryItem(context: $context, itineraryId: $itineraryId, itineraryItemId: $itineraryItemId) {\n      status\n      toast {\n        ...TripsUIToastFragment\n      }\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n")),m({operationName:"tripsRefreshItineraryItem"}),r.eh.definitions,"\n  mutation SharedUIWeb_RefreshItineraryItemMutation($context: ContextInput!, $itineraryId: String!, $itineraryItemId: String!) {\n    tripsRefreshItineraryItem(context: $context, itineraryId: $itineraryId, itineraryItemId: $itineraryItemId) {\n      status\n      toast {\n        ...TripsUIToastFragment\n      }\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n"));var N,b={scheduleItem:(N="scheduleItem",()=>Promise.resolve({success:!1,failureReason:`No TripScheduleItemOperationsProvider found in tree found while calling ${N}`,failure:{type:"NO_PROVIDER"}}))};i.createContext({...b,state:s(Object.keys(b))}),m({operationName:"scheduleItem"}),r.eh.definitions,"\n  mutation SharedUIWeb_ScheduleItemMutation($tripId: String!, $itemId: String, $schedulingData: [GraphQLPairInput!]!, $context: ContextInput!) {\n    scheduleItem(tripId: $tripId, itemId: $itemId, schedulingData: $schedulingData, context: $context) {\n      status\n      toast {\n        ...TripsUIToastFragment\n      }\n    }\n  }\n\n  \n".concat([r.eh.loc.source.body].join("\n"))}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/landing-pwa/shared-ui-retail-trips-providers.8f5d5b8ec6664cbf448a.js.map