/*@license For license information please refer to shared-ui-pricing-price-summary.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3721],{93798:function(e,n,t){t.d(n,{_:function(){return j},c:function(){return M}});var i=t(96540),a=t(53735),l=(t(1023),t(22913)),r=t(22828),s=t(93065),c=t(25859),m=t(72195),d=t(85911),o=t(30301),u=t(54349),g=t(59836),E=t(98750),k=t(28667),S=t(28155),v=t(82715),y=t(785),p=t(2021),h=t(49752),N=t(66865),_=t(97833),D=t(62152),b=t(79611),F=t(39366),f=t(86730),I=t(12193),P=t(16681),C=t(70909),T=t(46414),A=t(2507),L=t(39656);const x=e=>{const n={};return e.filter(e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!n[t]&&(n[t]=!0,!0)})};var R={EVENT_NAME:"price_summary.presented",EVENT_TYPE:"Impression",EVENT_VERSION:"1.0.0"},O=({text:e,align:n={horizontal:"leading",vertical:"top"}})=>e?i.createElement(y.U,{align:n,padding:p.Bc.zero},i.createElement(m.N,null,i.createElement("div",null,i.createElement(d.D,null,e)))):null,M=({data:e,actionId:n})=>{const t=i.useRef(null),l=(0,u.pC)(null!=n?n:"");return(null==e?void 0:e.body)?i.createElement(u.e3,{actionId:n,renderNavigateBar:!1,useToolbar:!1,ref:t,hasModal:!0},i.createElement(a.X,null,i.createElement(k.C,null,i.createElement(S.Y,{padded:!1},i.createElement(m.N,{padding:{inlinestart:"six",block:"six"}},i.createElement("div",null,e.body.map((e,n)=>e.content&&i.createElement(m.N,{margin:{blockend:n>0?"six":void 0,blockstart:n>0?"six":void 0},key:`fees-content${n}`},i.createElement("div",null,i.createElement(m.N,{margin:{blockend:"three"}},i.createElement(D.M,{size:6,tag:"h6"},e.title)),i.createElement(E.E,{padded:!1},i.createElement(h.yg,{overflow:!1},i.createElement(N.u,null,i.createElement(i.Fragment,null,e.content.map(e=>{switch(e.__typename){case"EGDSPlainText":return i.createElement(_.k,null,i.createElement(O,{text:e.text}));case"AdditionalFeesRow":return i.createElement(_.k,null,i.createElement(O,{text:e.name}),i.createElement(O,{text:e.value,align:{horizontal:"trailing",vertical:"top"}}));default:return null}})))))))))))),i.createElement(k.C,null,i.createElement(v.t,null,i.createElement(g.q,{type:"button",onClick:l},i.createElement(c.LD,{name:"close",size:c.So.EXTRA_SMALL,id:"close",title:"close"})))))):null};M.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"LodgingAdditionalFeesContentFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LodgingAdditionalFeesContent"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AdditionalFeesRow"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSPlainText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:282,source:{body:"\n  fragment LodgingAdditionalFeesContentFragment on LodgingAdditionalFeesContent {\n    title\n    body {\n      title\n      content {\n        ... on AdditionalFeesRow {\n          name\n          value\n        }\n        ... on EGDSPlainText {\n          text\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}},__typename:"LodgingAdditionalFeesContent"},M.displayName="sharedui-LodgingAdditionalFeesContent";var U={STRONG:"bold",EMPHASIS:"medium",POSITIVE:"regular"},w={POSITIVE:"positive"},V=({actionId:e,contents:n,textSize:t,state:a,textAlign:l,value:r})=>{var s;const c=i.useRef(null),g=(0,u.pC)(null!=e?e:""),E=(0,u.RN)(null!=e?e:""),k=null==E?void 0:E.contentId,S=null==(s=null==n?void 0:n.find(e=>e.contentId===k))?void 0:s.content;return i.createElement(i.Fragment,null,i.createElement(o.x,{onClick:g,inline:!0},i.createElement("button",{type:"button",ref:c},i.createElement(m.N,{padding:{inlinestart:"one"}},i.createElement(d.D,{size:t,weight:a?U[a]:"regular",theme:a?w[a]:void 0,align:l},r)))),i.createElement(M,{data:S,actionId:e}))},z=({data:e,textAlign:n,hasExtendUSFTCPriceSummaryStyling:t=!1,increaseProminenceOfNightlyPriceEnabled:l=!1,isReassuranceStylingEnabled:r,displayCheckmarkIcon:s=!1,contents:o,isCheaperDates:u=!1,theme:g="regular"})=>{var E;const{value:k,state:S,actions:v}=e,y=l&&"REASSURANCE_DISPLAY_QUALIFIER"===S,p=r||u?300:200,h=S?{BREAKOUT_TYPE_BOOKABLE_UNIT_COUNT:200,BREAKOUT_TYPE_NUMBER_OF_NIGHTS_UNITS:200,EMPHASIS:300,REASSURANCE_DISPLAY_QUALIFIER:l?400:p,SECONDARY_LEAD:200,POSITIVE:u?300:200,BREAKOUT_TYPE_INVALID:"bold"===g?200:300,STRONG:"bold"===g?200:300}[S]:p,N=v&&(null==v?void 0:v.length)>0?null==(E=v[0])?void 0:E.actionId:null;let _;return S&&!["SECONDARY_LEAD","POSITIVE"].includes(S)&&r&&!t?_="half":"POSITIVE"===S&&t&&(_="one"),i.createElement(m.N,{margin:{blockstart:_}},i.createElement(a.X,{alignItems:"start"},!N&&i.createElement(i.Fragment,null,"POSITIVE"===S&&s&&i.createElement(m.N,{margin:{inlineend:"half"}},i.createElement(c.LD,{name:"check",size:c.So.EXTRA_SMALL,theme:"positive"})),i.createElement("div",null,i.createElement(d.D,{size:h,weight:S&&!y?U[S]:"regular",theme:S?w[S]:void 0,align:n},k))),N&&i.createElement(V,{actionId:N,contents:o,textAlign:n,textSize:h,state:S,value:k})))};z.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PriceSummaryEnrichedMessageFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LodgingEnrichedMessage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"actions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"actionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:196,source:{body:"\n  fragment PriceSummaryEnrichedMessageFragment on LodgingEnrichedMessage {\n    __typename\n    value\n    state\n    actions {\n      actionId\n      accessibility\n    }\n    icon {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}},__typename:"LodgingEnrichedMessage"},z.displayName="EnrichedMessage";var B=({disclaimer:e,textAlign:n,children:t,type:l,enableInlineLink:s=!1,onDisclaimerClick:d})=>{var u;const{content:g=[""],primaryUIButton:E}=null!=e?e:{},S=`${l}-price-disclaimer-${i.useMemo(()=>Math.random().toString(36).substr(2,5),[])}`,[v,y,p]=(0,L.useDialog)(S,"pwaNestedDialog"),h=(0,r.KY)(),N=i.useCallback(()=>{y.openDialog()},[y]),_=(0,i.useRef)(null);return i.createElement(i.Fragment,null,s?i.createElement(o.x,{onClick:N,onClickCapture:()=>{h(".Price.DisclaimerDialog","Price Disclaimer Dialog"),d&&d()},"data-stid":"disclaimer-dialog-link",inline:!0},i.createElement("button",{type:"button",ref:_},i.createElement(a.X,{direction:"left"===n?"row-reverse":"row"},i.createElement(k.C,null,t)))):i.createElement(T.t,{onClick:N,onClickCapture:()=>{h(".Price.DisclaimerDialog","Price Disclaimer Dialog"),d&&d()},"data-stid":"disclaimer-dialog-link"},i.createElement("button",{type:"button",ref:_},i.createElement(a.X,{direction:"left"===n?"row-reverse":"row"},i.createElement(k.C,null,i.createElement(m.N,{padding:{blockstart:"half",inlinestart:n?"unset":"half",inlineend:n?"half":"unset"}},i.createElement(c.LD,{name:"info_outline",size:c.So.SMALL}))),i.createElement(k.C,null,t)))),i.createElement(A.K,{isVisible:v},i.createElement(p,null,i.createElement(I.Q,{returnFocusOnClose:!0,dialogShow:v,triggerRef:_},i.createElement(P.h,null,g.map((e,n)=>i.createElement("div",{key:n},n>0&&i.createElement("br",null),i.createElement("p",null,e))),i.createElement(C.l,{buttonOne:{onClick:y.closeDialog,text:null!=(u=null==E?void 0:E.primary)?u:"",type:"tertiary"}}))))))},Y=({price:{formatted:e,accessibilityLabel:n}})=>i.createElement(m.N,null,i.createElement("div",null,i.createElement(d.D,{className:"is-visually-hidden"},n||e),i.createElement("span",{"aria-hidden":"true"},i.createElement(d.D,null,e)))),G=({price:{formatted:e,accessibilityLabel:n},isReassuranceStylingEnabled:t,isDialog:a,disableFeeInclusive:r,theme:s,isCheaperDates:c,hasExtendUSFTCPriceSummaryStyling:o})=>{const{context:u}=(0,l.R)(),g=9001001===(null==u?void 0:u.siteId),E=(0,f.J5)(),k=(0,f.Up)(E.cardId,g,E.cardPlacement),[S,v]=i.useState(k);i.useEffect(()=>{v(k)},[k]);const y=()=>{v(!1)},p=t||c||o?400:500;return i.createElement(m.N,{padding:{blockstart:"half"}},i.createElement(b.P,{type:"relative"},i.createElement("div",{className:k?"fee-inclusive-coachmark":void 0},i.createElement(d.D,{className:"is-visually-hidden"},n||e),i.createElement("span",{"aria-hidden":"true"},"regular"===s?i.createElement(d.D,{size:p,weight:"medium",theme:"emphasis"},S&&!r&&i.createElement(f.sO,{onDismiss:y,isDialog:a}),e):i.createElement(d.D,{size:600,weight:"bold",theme:"emphasis"},S&&!r&&i.createElement(f.sO,{onDismiss:y,isDialog:a}),e)))))},K=({price:{formatted:e,accessibilityLabel:n},disclaimer:t,textAlign:a,enableInlineLink:l=!1,onDisclaimerClick:r,isReassuranceStylingEnabled:s,showSecondaryStrikeOut:c=!1,hasExtendUSFTCPriceSummaryStyling:o=!1})=>{const u=c?i.createElement("div",null,i.createElement(d.D,{className:"is-visually-hidden"},n||e),i.createElement("span",{"aria-hidden":"true"},i.createElement(d.D,{size:200},i.createElement("del",null,e)))):i.createElement(m.N,{padding:{blockstart:"half"}},i.createElement("div",null,i.createElement(d.D,{className:"is-visually-hidden"},n||e),i.createElement("span",{"aria-hidden":"true"},i.createElement(d.D,{size:s||o?200:300},i.createElement("del",null,e)))));return t?i.createElement(F.EGDSThemeProvider,{config:{color:{lightMode:{colorTheme:"light-1"}}}},i.createElement(B,{disclaimer:t,textAlign:a,type:"STRIKEOUT",enableInlineLink:l,onDisclaimerClick:r},u)):u},X=({price:{formatted:e,accessibilityLabel:n},disclaimer:t,enableInlineLink:a=!1,isReassuranceStylingEnabled:l})=>{const{exposure:r}=(0,s.useExperiment)("USFTC_Post_go_live_Nightly_base_rate_only_display");let c=200;l&&(c=1===r.bucket?300:400);const o=i.createElement(m.N,{margin:{inline:"half",blockstart:l?"half":"unset"}},i.createElement("div",null,i.createElement(d.D,{className:"is-visually-hidden"},n||e),i.createElement("span",{"aria-hidden":"true"},i.createElement(d.D,{weight:"regular",size:c},e))));return t?i.createElement(F.EGDSThemeProvider,{config:{color:{lightMode:{colorTheme:"light-1"}}}},i.createElement(B,{disclaimer:t,textAlign:"left",type:"INFORMATIVE",enableInlineLink:a},o)):o},Q=({data:e,textAlign:n,enableInlineLink:t=!1,isReassuranceStylingEnabled:a,onDisclaimerClick:l,showStrikeThroughPrice:r=!0,isDialog:s=!1,disableFeeInclusive:c=!1,theme:m="regular",isCheaperDates:d=!1,hasExtendUSFTCPriceSummaryStyling:o=!1})=>{const{role:u}=e;switch(u){case"LEAD":return i.createElement(G,{...e,isReassuranceStylingEnabled:a,isDialog:s,disableFeeInclusive:c,theme:m,isCheaperDates:d,hasExtendUSFTCPriceSummaryStyling:o});case"STRIKEOUT":return i.createElement(i.Fragment,null,r&&i.createElement(K,{...e,textAlign:n,enableInlineLink:t,onDisclaimerClick:l,isReassuranceStylingEnabled:a,hasExtendUSFTCPriceSummaryStyling:o}));case"SECONDARY_STRIKEOUT":return i.createElement(i.Fragment,null,r&&i.createElement(K,{...e,textAlign:n,enableInlineLink:t,onDisclaimerClick:l,isReassuranceStylingEnabled:a,showSecondaryStrikeOut:!0}));case"INFORMATIVE":return i.createElement(X,{...e,enableInlineLink:t,isReassuranceStylingEnabled:a});default:return i.createElement(Y,{...e})}};Q.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PriceMessageFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DisplayPrice"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"formatted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessibilityLabel"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"disclaimer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryUIButton"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:245,source:{body:"\n  fragment PriceMessageFragment on DisplayPrice {\n    __typename\n    role\n    price {\n      formatted\n      accessibilityLabel\n    }\n    disclaimer {\n      content\n      primaryUIButton {\n        accessibility\n        primary\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}},__typename:"DisplayPrice"},Q.displayName="PriceMessage",K.displayName="StrikeOutPrice",G.displayName="LeadPrice",Y.displayName="FallbackPrice";var $={kind:"Document",definitions:x([{kind:"FragmentDefinition",name:{kind:"Name",value:"PriceSummaryFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PropertyPrice"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayMessages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lineItems"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PriceMessageFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PriceSummaryEnrichedMessageFragment"},directives:[]}]}}]}}]}}].concat(Q.fragment.definitions,z.fragment.definitions)),loc:{start:0,end:196,source:{body:"\n  fragment PriceSummaryFragment on PropertyPrice {\n    displayMessages {\n      lineItems {\n        ...PriceMessageFragment\n        ...PriceSummaryEnrichedMessageFragment\n      }\n    }\n  }\n\n  \n  \n".concat([Q.fragment.loc.source.body,z.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},q=[Q,z],H=({flexAlignment:e,flexDirection:n="row",index:t,displayMessage:r,enableInlineLink:c=!1,isReassuranceStylingEnabled:m,onDisclaimerClick:d,showStrikeThroughPrice:o=!0,isDialog:u=!1,contents:g,disableFeeInclusive:E=!1,theme:k,isCheaperDates:S=!1,alignItems:v="center",hasExtendUSFTCPriceSummaryStyling:y=!1})=>{var p;const{exposure:{bucket:h}}=(0,s.useExperiment)("California_BEX_SUVRs_PDP_experience"),{exposure:{bucket:N}}=(0,s.useExperiment)("Expand_Kates_Price_Summary_to_Total_POSa_Test_2"),{exposure:_}=(0,s.useExperiment)("USFTC_Price_Summary_Increase_prominence_of_the_nightly_price",!0),{context:D}=(0,l.R)(),b=(e=>[1,3001,70301,70201,6e3,30031,80001].includes(e.tpid))(D),F=9001===D.tpid;return i.createElement(a.X,{space:"xsmall",justifyContent:"row-reverse"===n?"end":e,direction:n,alignItems:v,wrap:"wrap",dataTestId:"price-summary-message-line"},null==(p=null==r?void 0:r.lineItems)?void 0:p.map((n,a)=>{var l;const{__typename:r}=n||{},s=q.find(e=>e.fragment.__typename===r);if(!s)return null;const v="LodgingEnrichedMessage"===n.__typename&&"check"===(null==(l=n.icon)?void 0:l.id),p=(F||1===h||b||v)&&!S,D=1===_.bucket,f=m&&(b||1===N);return i.createElement(s,{key:`attr-${t}-${a}`,data:n,textAlign:"end"===e?"right":"left",enableInlineLink:c,displayCheckmarkIcon:p,onDisclaimerClick:d,isReassuranceStylingEnabled:f,increaseProminenceOfNightlyPriceEnabled:D,showStrikeThroughPrice:o,isDialog:u,contents:g,disableFeeInclusive:E,theme:k,isCheaperDates:S,hasExtendUSFTCPriceSummaryStyling:y})}))},j=({data:e,flexAlignment:n="end",enableInlineLink:t=!1,messageLineFlexDirection:l,isReassuranceStylingEnabled:s,onDisclaimerClick:c,showStrikeThroughPrice:m=!0,isDialog:d=!1,contents:o,disableFeeInclusive:u=!1,theme:g="regular",isCheaperDates:E=!1,alignItems:k="center",hasExtendUSFTCPriceSummaryStyling:S=!1})=>{const{displayMessages:v}=e,y={event:{event_type:(p=R).EVENT_TYPE,event_name:p.EVENT_NAME,event_version:p.EVENT_VERSION}};var p;if(!(null==v?void 0:v.length))return null;const h=null==v?void 0:v.some(e=>{var n;return null==(n=e.lineItems)?void 0:n.some(e=>"LodgingEnrichedMessage"===e.__typename&&"REASSURANCE_DISPLAY_QUALIFIER"===e.state)});return i.createElement(a.X,{direction:"column",dataTestId:"price-summary"},i.createElement(r.E0,{eventData:y},v.map((e,a)=>i.createElement(H,{key:`attr-${a}`,index:a,flexAlignment:n,flexDirection:l,displayMessage:e,enableInlineLink:t,onDisclaimerClick:c,isReassuranceStylingEnabled:s||h,showStrikeThroughPrice:m,isDialog:d,contents:o,disableFeeInclusive:u,theme:g,isCheaperDates:E,alignItems:k,hasExtendUSFTCPriceSummaryStyling:S}))))};j.fragment=$,j.displayName="sharedui-PriceSummary",H.displayName="sharedui-MessageLine"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/landing-pwa/shared-ui-pricing-price-summary.7e714b908309e6d47e8d.js.map