/*@license For license information please refer to shared-ui-multi-item-operations-providers.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3201],{70274:function(e,n,t){t.d(n,{EQ:function(){return C},cg:function(){return O}});var r=t(96540),o=(t(1023),t(22828),t(39656),t(93108));const i=e=>{const n={};return e.filter(e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!n[t]&&(n[t]=!0,!0)})};var a=Object.defineProperty,c=Object.defineProperties,s=Object.getOwnPropertyDescriptors,u=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,m=(e,n,t)=>n in e?a(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,p=(e,n)=>{for(var t in n||(n={}))l.call(n,t)&&m(e,t,n[t]);if(u)for(var t of u(n))d.call(n,t)&&m(e,t,n[t]);return e},g=(e,n)=>c(e,s(n)),I=(e,n)=>{var t={};for(var r in e)l.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&u)for(var r of u(e))n.indexOf(r)<0&&d.call(e,r)&&(t[r]=e[r]);return t};function S(e){return e.reduce((e,n)=>Object.assign(e,{[n]:{status:"UNKNOWN"}}),{})}function h(e){return()=>Promise.resolve({success:!1,failureReason:`no SessionOperationsProvider in tree found while calling ${e}`,failure:{type:"NO_PROVIDER"}})}var f={addProduct:h("addProduct"),updateProduct:h("updateProduct"),removeProduct:h("removeProduct"),replaceProduct:h("replaceProduct"),changeSelectedProduct:h("changeSelectedProduct")},k=r.createContext(g(p({},f),{state:S(Object.keys(f))}));function C(){const e=r.useContext(k),{addProduct:n,updateProduct:t,removeProduct:o,replaceProduct:i,changeSelectedProduct:a}=e,c=I(e,["addProduct","updateProduct","removeProduct","replaceProduct","changeSelectedProduct"]);return p({addProduct:r.useCallback(n,[]),updateProduct:r.useCallback(t,[]),removeProduct:r.useCallback(o,[]),replaceProduct:r.useCallback(i,[]),changeSelectedProduct:r.useCallback(a,[])},c)}function P(e){return function(n,t,r,o){return t(n=>g(p({},n),{[e.operationName]:{status:"IN_PROGRESS",event:o}})),n({variables:r}).then(n=>{if(n.errors){const r={failureReason:`${e.operationName} failed with graphql error(s)`,failure:{type:"GRAPHQL",errors:n.errors}};return t(n=>g(p({},n),{[e.operationName]:{status:"FAILURE",event:o,error:r}})),p({success:!1},r)}return n.data?(t(t=>g(p({},t),{[e.operationName]:{status:"SUCCESS",event:o,result:n}})),p({success:!0},n)):Promise.reject(new Error(`${e.operationName} returned null data`))}).catch(n=>{const r=`unexpected error encountered while calling ${e.operationName}`,i=`${r}: ${n instanceof Error?n.message:n}`,a={failureReason:r,failure:{type:"UNKNOWN",error:new Error(i)}};return t(n=>g(p({},n),{[e.operationName]:{status:"FAILURE",event:o,error:a}})),p({success:!1},a)})}}P({operationName:"addProduct"});var v={kind:"Document",definitions:i([{kind:"FragmentDefinition",name:{kind:"Name",value:"MishopUIOperationFailureDialogFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MishopUIOperationFailureDialog"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"dialog"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"closeAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"footer"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSActionDialogFooterFragment"},directives:[]}]}}]}}]}}].concat(o.rz.fragment.definitions)),loc:{start:0,end:277,source:{body:"\n  fragment MishopUIOperationFailureDialogFragment on MishopUIOperationFailureDialog {\n    content {\n      text\n    }\n    dialog {\n      closeAnalytics {\n        linkName\n        referrerId\n      }\n      footer {\n        ...EGDSActionDialogFooterFragment\n      }\n    }\n  }\n\n  \n".concat([o.rz.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},y={kind:"Document",definitions:i([{kind:"FragmentDefinition",name:{kind:"Name",value:"MultiItemSearchContextErrorResponseFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"MultiItemSearchContextErrorResponse"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"failureDialog"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"MishopUIOperationFailureDialogFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"errorContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PackageUIEmptyStateErrorFragment"},directives:[]}]}}]}}].concat(v.definitions,o.RF.fragment.definitions)),loc:{start:0,end:261,source:{body:"\n  fragment MultiItemSearchContextErrorResponseFragment on MultiItemSearchContextErrorResponse {\n    message\n    failureDialog {\n      ...MishopUIOperationFailureDialogFragment\n    }\n    errorContent {\n      ...PackageUIEmptyStateErrorFragment\n    }\n  }\n\n  \n  \n".concat([v.loc.source.body,o.RF.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}};y.definitions,"\n  mutation MishopSharedUIAddProductMutation(\n    $context: ContextInput!\n    $multiItemSessionId: String!\n    $activities: [ActivityNaturalKeyInput!]\n    $groundTransfers: [GroundTransfersNaturalKeyInput!]\n  ) {\n    multiItemShopping(context: $context) {\n      addProducts(sessionId: $multiItemSessionId, activities: $activities, groundTransfers: $groundTransfers) {\n        __typename\n        ... on MultiItemSearchContextCreatedResponse {\n          redirectUrl\n          action {\n            __typename\n            shoppingContext {\n              multiItem {\n                id\n              }\n            }\n            ... on FlightSearchMultiItemShoppingAction {\n              journeyContinuationId\n            }\n          }\n          message\n        }\n        ... on MultiItemSearchContextErrorResponse {\n          ...MultiItemSearchContextErrorResponseFragment\n        }\n      }\n    }\n  }\n\n  \n".concat([y.loc.source.body].join("\n")),P({operationName:"changeSelectedProduct"}),P({operationName:"removeProduct"}),y.definitions,"\n  mutation MishopSharedUIRemoveProductMutation(\n    $context: ContextInput!\n    $multiItemSessionId: String!\n    $activities: [ActivityNaturalKeyInput!]\n    $groundTransfers: [GroundTransfersNaturalKeyInput!]\n  ) {\n    multiItemShopping(context: $context) {\n      removeProducts(sessionId: $multiItemSessionId, activities: $activities, groundTransfers: $groundTransfers) {\n        __typename\n        ... on MultiItemSearchContextCreatedResponse {\n          redirectUrl\n          action {\n            __typename\n            shoppingContext {\n              multiItem {\n                id\n              }\n            }\n            ... on FlightSearchMultiItemShoppingAction {\n              journeyContinuationId\n            }\n          }\n          message\n        }\n        ... on MultiItemSearchContextErrorResponse {\n          ...MultiItemSearchContextErrorResponseFragment\n        }\n      }\n    }\n  }\n\n  \n".concat([y.loc.source.body].join("\n")),P({operationName:"replaceProduct"}),y.definitions,"\n  mutation MishopSharedUIReplaceProductMutation(\n    $context: ContextInput!\n    $multiItemSessionId: String!\n    $priceToken: String\n    $cars: [CarNaturalKeyInput!]\n    $flights: [FlightNaturalKeyInput!]\n    $properties: [PropertyNaturalKeyInput!]\n  ) {\n    multiItemShopping(context: $context) {\n      selectProducts(sessionId: $multiItemSessionId, priceToken: $priceToken, cars: $cars, flights: $flights, properties: $properties) {\n        __typename\n        ... on MultiItemSearchContextCreatedResponse {\n          redirectUrl\n          action {\n            __typename\n            shoppingContext {\n              multiItem {\n                id\n              }\n            }\n            ... on FlightSearchMultiItemShoppingAction {\n              journeyContinuationId\n            }\n          }\n        }\n        ... on MultiItemSearchContextErrorResponse {\n          ...MultiItemSearchContextErrorResponseFragment\n        }\n      }\n    }\n  }\n\n  \n".concat([y.loc.source.body].join("\n")),P({operationName:"updateProduct"}),y.definitions,"\n  mutation MishopSharedUIUpdateProductMutation(\n    $context: ContextInput!\n    $multiItemSessionId: String!\n    $priceToken: String\n    $flights: [FlightNaturalKeyInput!]\n    $activity: ActivityUpdateInput\n  ) {\n    multiItemShopping(context: $context) {\n      updateProduct(sessionId: $multiItemSessionId, priceToken: $priceToken, flights: $flights, activity: $activity) {\n        __typename\n        ... on MultiItemSearchContextCreatedResponse {\n          redirectUrl\n          action {\n            __typename\n            shoppingContext {\n              multiItem {\n                id\n              }\n            }\n            ... on FlightSearchMultiItemShoppingAction {\n              journeyContinuationId\n            }\n          }\n        }\n        ... on MultiItemSearchContextErrorResponse {\n          ...MultiItemSearchContextErrorResponseFragment\n        }\n      }\n    }\n  }\n\n  \n".concat([y.loc.source.body].join("\n"));function x(e){return()=>Promise.resolve({success:!1,failureReason:`no PrepareCheckoutOperationsProvider in tree found while calling ${e}`,failure:{type:"NO_PROVIDER"}})}var $={prepareCheckoutBySessionId:x("prepareCheckoutBySessionId"),prepareCheckout:x("prepareCheckout")};r.createContext(g(p({},$),{state:S(Object.keys($))})),P({operationName:"prepareCheckout"}),P({operationName:"prepareCheckoutBySessionId"});function N(e){return()=>Promise.resolve({success:!1,failureReason:`no PackageOperationsProvider in tree found while calling ${e}`,failure:{type:"NO_PROVIDER"}})}var F={selectPackage:N("selectPackage"),changePackage:N("changePackage")},M=r.createContext(g(p({},F),{state:S(Object.keys(F))}));function O(){const e=r.useContext(M),{changePackage:n,selectPackage:t}=e,o=I(e,["changePackage","selectPackage"]);return p({changePackage:r.useCallback(n,[]),selectPackage:r.useCallback(t,[])},o)}P({operationName:"changePackage"}),y.definitions,"\n  mutation MishopSharedUIChangePackageMutation($context: ContextInput!, $multiItemSessionId: String!, $searchCriteria: PackageSearchCriteriaInput!) {\n    multiItemShopping(context: $context) {\n      changePackage(sessionId: $multiItemSessionId, searchCriteria: $searchCriteria) {\n        __typename\n        ... on MultiItemSearchContextCreatedResponse {\n          redirectUrl\n          action {\n            __typename\n            shoppingContext {\n              multiItem {\n                id\n              }\n            }\n          }\n        }\n        ... on MultiItemSearchContextErrorResponse {\n          ...MultiItemSearchContextErrorResponseFragment\n        }\n      }\n    }\n  }\n\n  \n".concat([y.loc.source.body].join("\n")),P({operationName:"selectPackage"}),y.definitions,"\n  mutation MishopSharedUISelectPackageMutation($context: ContextInput!, $multiItemSessionId: String!, $packageOfferId: String!) {\n    multiItemShopping(context: $context) {\n      selectPackage(sessionId: $multiItemSessionId, packageOfferId: $packageOfferId) {\n        __typename\n        ... on MultiItemSearchContextCreatedResponse {\n          redirectUrl\n          action {\n            __typename\n            shoppingContext {\n              multiItem {\n                id\n              }\n            }\n          }\n          target\n        }\n        ... on MultiItemSearchContextErrorResponse {\n          ...MultiItemSearchContextErrorResponseFragment\n        }\n      }\n    }\n  }\n\n  \n".concat([y.loc.source.body].join("\n"))}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/landing-pwa/shared-ui-multi-item-operations-providers.188d46a324b53e0d6ff9.js.map