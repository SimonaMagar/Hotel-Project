/*@license For license information please refer to shared-ui-lodging-reviews.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[3728],{26009:function(e,n,i){i.d(n,{Th:function(){return Dn}});var t=i(96540),a=i(1023),r=i(22913),l=i(6412),d=i(47848),s=i(98750),m=i(72195),o=i(22828),c=i(3579),u=i(15685),v=i(25859),k=i(65113),p=i(2507),g=i(85911),y=i(33387),S=i(39656),N=i(16681),F=i(26143),f=i(80105),b=i(62547),E=i(96912),h=i(6057),w=i(42971),I=i(62152),T=i(55727),D=i(53735),x=i(28667),R=i(85215),C=i(26368),_=i(16721),P=i(39366),L=i(45514),A=i(54939),M=i(68370),V=i(8983),O=i(23211),G=i(33580),$=i(81519),z=i(84286),q=i(1843),Q=i(37137),B=i(11703),W=i(79611),H=i(34399),U=i(28570),Y=i(10980),j=i(93065),X=i(76918),K=i(26008),J=i(25607),Z=i(22429),ee=i(3169),ne=i(92416),ie=i(14679),te=i(30702),ae=i(69045);const re=e=>{const n={};return e.filter(e=>{if("FragmentDefinition"!==e.kind)return!0;const i=e.name.value;return!n[i]&&(n[i]=!0,!0)})};var le=(e,n)=>e&&n?[...n,...e.filter(({id:e})=>!n.some(n=>e===(null==n?void 0:n.id)))]:e,de=(e,n)=>{var i,t,a,r,l,d,s,m,o,c;return e&&n?{...e,...n,secondary:{booleans:le(null==(i=e.secondary)?void 0:i.booleans,null==(t=n.secondary)?void 0:t.booleans),counts:le(null==(a=e.secondary)?void 0:a.counts,null==(r=n.secondary)?void 0:r.counts),dates:le(null==(l=e.secondary)?void 0:l.dates,null==(d=n.secondary)?void 0:d.dates),ranges:le(null==(s=e.secondary)?void 0:s.ranges,null==(m=n.secondary)?void 0:m.ranges),selections:le(null==(o=e.secondary)?void 0:o.selections,null==(c=n.secondary)?void 0:c.selections)}}:e},se=(e,n)=>({updateQuery:i,variables:t})=>{e({updateQuery:i,variables:{...n,...t,searchCriteria:de(n.searchCriteria,t.searchCriteria)}})};var me="upvote a review",oe="HOT.HIS.REVIEW.THUMB_UP.UPVOTE",ce="Google translated review",ue="HOT.HIS.Reviews.GoogleTranslate",ve="HOT.HIS.Reviews.ClickSeeAllReviewsToOpenDialog",ke="See All Reviews",pe=(e,n)=>{var i,t;let a;try{a=JSON.parse(n)}catch(s){return{clientPayload:void 0,serverPayload:n}}const{events:r}=a,l=Object.keys((null==r?void 0:r[e])||{});l.sort((e,n)=>parseInt(n.slice(1),10)-parseInt(e.slice(1),10));const d=l[0];return{clientPayload:d?null==(t=null==(i=r[e])?void 0:i[d])?void 0:t.event_data:void 0,serverPayload:n}},ge="NEWEST_TO_OLDEST_BY_LANGUAGE",ye="",Se="popularMentions",Ne="1.0.0",Fe="Impression",fe=(e,n,i="",t="")=>({event:{event_name:e,event_version:n,action_location:i,...t&&{event_type:t}}}),be=e=>{var n,i;const t=null==(n=null==e?void 0:e.sortAndFilter)?void 0:n.find(e=>e.title===Se);return(null==(i=null==t?void 0:t.options)?void 0:i.length)&&t.label?t:null},Ee="HOT.HIS.REVIEW.Report.FlagOpenDialog",he="Report Review Dialog",we="HOT.HIS.REVIEW.Report.OpenPartnerDisputeForm",Ie="Report Review Partner Dispute Form",Te="HOT.HIS.REVIEW.Report.Submit",De="Report Review Partner Submit Form",xe=({content:e})=>{var n,i,a,r;const l=(0,o.KY)(),d=()=>l(we,Ie);switch(e.__typename){case"EGDSPlainText":return t.createElement(t.Fragment,null,e.text);case"EGDSInlineLink":return"HttpURI"===e.action.resource.__typename?t.createElement(k.i,{inline:!0,size:e.size.toLowerCase()},t.createElement("a",{target:"_blank",href:e.action.resource.value,onClick:d,rel:"noopener"},e.text)):null;case"EGDSStandardLink":return"HttpURI"===e.action.resource.__typename?t.createElement(k.i,{inline:!0,size:e.size.toLowerCase()},t.createElement("a",{target:"_blank",href:e.action.resource.value,onClick:d,rel:"noopener"},e.text,t.createElement(m.N,{margin:{blockend:"half"}},t.createElement(v.LD,{id:(null==(n=e.icon)?void 0:n.id)||"",name:(null==(i=e.icon)?void 0:i.id)||"",size:(null==(a=e.icon)?void 0:a.size)&&v.So[e.icon.size],title:null==(r=e.icon)?void 0:r.description})))):null;default:return null}},Re=({data:e})=>t.createElement(g.D,{size:300,spacing:"two"},e.contents.map((e,n)=>t.createElement(xe,{key:`${e.__typename}-${n}`,content:e})));Re.displayName="SpannableText";var Ce={kind:"Document",definitions:re([{kind:"FragmentDefinition",name:{kind:"Name",value:"InputFieldParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSInputField"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeholder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"validations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSMaxLengthInputValidation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"maxLength"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSMinLengthInputValidation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"minLength"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSRegexInputValidation"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pattern"},arguments:[],directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"PageParts"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DirectFeedbackFormPage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"elements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSElement"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DirectFeedbackInputField"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InputFieldParts"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DirectFeedbackTextArea"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"InputFieldParts"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DirectFeedbackMultiSelectGroup"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"DirectFeedbackMultiSelectGroupFragment"},directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSPlainText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSHeading"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"headingType"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"SpannableTextContentsFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"submitButton"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"displayCondition"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fieldId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expectedValue"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"DirectFeedbackMultiSelectGroupFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DirectFeedbackMultiSelectGroup"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"groupName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"required"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errorMessage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}].concat((Re.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SpannableTextContentsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSSpannableText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contents"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SpannableTextContentFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SpannableTextContentFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SpannableContentPlainTextFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"SpannableContentStandardLinkFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"SpannableContentInlineLinkFragment"},directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SpannableContentPlainTextFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSPlainText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SpannableContentStandardLinkFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSStandardLink"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resource"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HttpURI"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"relativePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"theme"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"iconPosition"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SpannableContentInlineLinkFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSInlineLink"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"resource"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HttpURI"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"relativePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]}]}}],loc:{start:0,end:947,source:{body:"\n  fragment SpannableTextContentsFragment on EGDSSpannableText {\n    text\n    contents {\n      ...SpannableTextContentFragment\n    }\n    egdsElementId\n  }\n\n  fragment SpannableTextContentFragment on EGDSText {\n    ...SpannableContentPlainTextFragment\n    ...SpannableContentStandardLinkFragment\n    ...SpannableContentInlineLinkFragment\n  }\n\n  fragment SpannableContentPlainTextFragment on EGDSPlainText {\n    text\n  }\n\n  fragment SpannableContentStandardLinkFragment on EGDSStandardLink {\n    action {\n      target\n      resource {\n        ... on HttpURI {\n          relativePath\n          value\n        }\n      }\n    }\n    text\n    size\n    icon {\n      description\n      id\n      size\n      theme\n    }\n    iconPosition\n  }\n\n  fragment SpannableContentInlineLinkFragment on EGDSInlineLink {\n    action {\n      target\n      resource {\n        ... on HttpURI {\n          relativePath\n          value\n        }\n      }\n    }\n    text\n    size\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}}).definitions)),loc:{start:0,end:1262,source:{body:"\n  fragment InputFieldParts on EGDSInputField {\n    value\n    label\n    placeholder\n    validations {\n      errorMessage\n      __typename\n      ... on EGDSMaxLengthInputValidation {\n        maxLength\n      }\n      ... on EGDSMinLengthInputValidation {\n        minLength\n      }\n      ... on EGDSRegexInputValidation {\n        pattern\n      }\n    }\n  }\n\n  fragment PageParts on DirectFeedbackFormPage {\n    __typename\n    title\n    elements {\n      __typename\n      ... on EGDSElement {\n        egdsElementId\n      }\n      ... on DirectFeedbackInputField {\n        ...InputFieldParts\n      }\n      ... on DirectFeedbackTextArea {\n        ...InputFieldParts\n      }\n      ... on DirectFeedbackMultiSelectGroup {\n        ...DirectFeedbackMultiSelectGroupFragment\n      }\n      ... on EGDSPlainText {\n        text\n      }\n      ... on EGDSHeading {\n        text\n        headingType\n      }\n      ...SpannableTextContentsFragment\n    }\n    submitButton {\n      primary\n      egdsElementId\n    }\n    displayCondition {\n      fieldId\n      expectedValue\n    }\n  }\n\n  fragment DirectFeedbackMultiSelectGroupFragment on DirectFeedbackMultiSelectGroup {\n    groupName\n    required\n    errorMessage\n    options {\n      label {\n        text\n      }\n      name\n    }\n  }\n\n  \n".concat([Re.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},_e=({data:e,handleSubmit:n,loading:i,reportStateUpdatetoParent:a})=>{const[r,l]=(0,t.useState)({}),d=e=>{const n={...r,[e.currentTarget.value]:e.currentTarget.checked};l(n),a(n)},s=e.elements.find(e=>"DirectFeedbackMultiSelectGroup"===e.__typename),o=!!(null==s?void 0:s.required),c=Object.keys(r).some(e=>r[e]),u=i||o&&!c;return t.createElement(t.Fragment,null,e.elements.map((e,n)=>{var i;switch(e.__typename){case"EGDSPlainText":return t.createElement(m.N,{key:`${e.__typename}-${n}`,margin:{blockstart:"six",blockend:"two"}},t.createElement(g.D,{size:300,spacing:"two"},e.text));case"EGDSSpannableText":return t.createElement(m.N,{key:`${e.__typename}-${n}`,margin:{blockstart:"six",blockend:"two"}},t.createElement(Re,{data:e}));case"EGDSHeading":return t.createElement(m.N,{key:`${e.__typename}-${n}`,margin:{blockstart:"three",blockend:"two"}},t.createElement(I.M,{tag:null==(i=e.headingType)?void 0:i.toLowerCase(),size:5},e.text));case"DirectFeedbackMultiSelectGroup":return t.createElement(t.Fragment,{key:`${e.__typename}-${n}`},e.options.map((e,n)=>{const{label:{text:i},name:a}=e;return t.createElement(w.x,{id:`${i}-${a}`,key:`${e.__typename}-${n}`,onChange:d,value:a||"",checked:r[a||""]},i)}));default:return null}}),t.createElement(m.N,{margin:{blockstart:"four"}},t.createElement("div",null,t.createElement(E.y,{disabled:u,onClick:n,size:h.V.SMALL},e.submitButton.primary))))};_e.displayName="ContentDirectFeedbackPromptPage";var Pe={kind:"Document",definitions:re([{kind:"FragmentDefinition",name:{kind:"Name",value:"ContentDirectFeedbackPromptFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"DirectFeedbackPrompt"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PageParts"},directives:[]}]}}]}}].concat((_e.fragment=Ce).definitions)),loc:{start:0,end:129,source:{body:"\n  fragment ContentDirectFeedbackPromptFragment on DirectFeedbackPrompt {\n    title\n    pages {\n      ...PageParts\n    }\n  }\n\n  \n".concat([_e.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Le={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ContentDirectFeedbackSubmit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ContextInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"feedback"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"DirectFeedbackValuesInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"directFeedbackSubmit"},arguments:[{kind:"Argument",name:{kind:"Name",value:"context"},value:{kind:"Variable",name:{kind:"Name",value:"context"}}},{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"feedback"},value:{kind:"Variable",name:{kind:"Name",value:"feedback"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fieldId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:255,source:{body:"\n  mutation ContentDirectFeedbackSubmit($context: ContextInput!, $id: ID!, $feedback: DirectFeedbackValuesInput!) {\n    directFeedbackSubmit(context: $context, id: $id, feedback: $feedback) {\n      errors {\n        fieldId\n        error\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ae=({closeReportDialog:e,data:n,feedbackContext:i,handleShowToast:l,hideReview:d,inputs:s,triggerRef:m})=>{const{formatText:c}=(0,b.useLocalization)(),[u,{loading:v}]=(0,a.n_)(Le),{context:k}=(0,r.R)(),[p,g]=(0,t.useState)({}),y=(0,o.KY)(),S=n.title||"Report review",E=c("close.dialog"),h=n.pages[0];if(!h)return null;return t.createElement(F.t,{type:"centered",isVisible:!0,triggerRef:m},t.createElement(f.p,{toolbarTitle:S,navigationContent:{onClick:e,navIconLabel:E,navType:"close"}}),t.createElement(N.h,null,t.createElement(_e,{data:h,handleSubmit:()=>{if(v)return;const n=((e,n)=>{return{context:e,formValues:[(i=n,{key:"report_category",value:Object.keys(i).filter(e=>i[e]).join(",")})]};var i})(i,p);u({variables:{context:k,feedback:n,id:null==s?void 0:s.id}});Object.entries(p).filter(([e,n])=>n).forEach(e=>{const[n,i]=e,{rfrr:t,link:a}={rfrr:`HOT.HIS.REVIEW.Report.${r=n}`,link:`Review report reason is ${r}`};var r;y(t,a,!0)}),y(Te,De,!0),e(),l(),d()},loading:v,reportStateUpdatetoParent:e=>{g(e)}})))};Ae.displayName="ContentDirectFeedbackPrompt";var Me={kind:"Document",definitions:re([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ContentDirectFeedbackPromptQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ContextInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"directFeedbackPromptById"},arguments:[{kind:"Argument",name:{kind:"Name",value:"context"},value:{kind:"Variable",name:{kind:"Name",value:"context"}}},{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"callToAction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ContentDirectFeedbackPromptFragment"},directives:[]}]}}]}}].concat((Ae.fragment=Pe).definitions)),loc:{start:0,end:316,source:{body:"\n  query ContentDirectFeedbackPromptQuery($context: ContextInput!, $id: ID!) {\n    directFeedbackPromptById(context: $context, id: $id) {\n      callToAction {\n        egdsElementId\n        icon {\n          id\n          size\n        }\n        primary\n      }\n      ...ContentDirectFeedbackPromptFragment\n    }\n  }\n  \n".concat([Ae.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Ve=e=>{var n,i;const{dialogId:l,inputs:{id:d}}=e,{context:s}=(0,r.R)(),{data:c,error:u,loading:N}=(0,a.IT)(Me,{context:{shouldLogPerformance:!0},variables:{id:d,context:s}}),[F,f]=(0,t.useState)(!1),[b,E,h]=(0,S.useDialog)(`content-direct-feedback-dialog-${l}`,"pwaDialogNested"),w=(0,o.KY)(),I=t.useRef(null),T=null==c?void 0:c.directFeedbackPromptById;if(u||N||!T)return null;const{openDialog:D,closeDialog:x}=E,R=null==(n=T.callToAction)?void 0:n.primary,C=null==(i=T.callToAction)?void 0:i.icon,_=null==T?void 0:T.pages[1],P=null==_?void 0:_.elements.find(e=>"EGDSPlainText"===e.__typename);return t.createElement(t.Fragment,null,t.createElement(k.i,{inline:!0,onClick:()=>{w(Ee,he),D(),f(!1)}},t.createElement("button",{type:"button",ref:I},t.createElement(v.LD,{name:(null==C?void 0:C.id)||"",key:null==C?void 0:C.id,size:(null==C?void 0:C.size)&&v.So[C.size]}),t.createElement(m.N,{padding:{inlinestart:"one"}},t.createElement(g.D,{inline:!0,size:200},R)))),t.createElement(p.K,{isVisible:b},t.createElement(h,null,t.createElement(Ae,{...e,closeReportDialog:x,data:T,handleShowToast:()=>f(!0),triggerRef:I}))),P&&t.createElement(y.N,{show:F},P.text))};Ve.displayName="ContentDirectFeedbackCallToAction";var Oe=({data:e})=>{const{heading:n,body:i}=e;return t.createElement(T.I,null,t.createElement(m.N,{margin:{blockstart:"six"}},t.createElement(I.M,{size:5,tag:"h3"},n)),t.createElement(g.D,{spacing:"two",size:300},i))};Oe.displayName="EmptyState",Oe.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"EmptyStateFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UIEmptyState"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"heading"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"body"},arguments:[],directives:[]}]}}],loc:{start:0,end:74,source:{body:"\n  fragment EmptyStateFragment on UIEmptyState {\n    heading\n    body\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}},__typename:"UIEmptyState"};var Ge=({data:e})=>{const{graphic:n,primary:i,secondaries:a}=e,r="Icon"===(null==n?void 0:n.__typename)&&t.createElement(v.LD,{name:n.id,id:n.id,title:n.description,spotlight:"info"});return t.createElement(d.g,{padded:!0,border:!0},t.createElement(D.X,{alignItems:"center",space:"two"},t.createElement(x.C,null,t.createElement("div",null,r)),t.createElement(m.N,{margin:{inlinestart:"two"}},t.createElement(x.C,null,t.createElement("div",null,i&&t.createElement(I.M,{tag:"h4"},i),t.createElement(g.D,{size:300},null==a?void 0:a[0]))))))};Ge.displayName="MessagingCard";var $e={kind:"Document",definitions:re([{kind:"FragmentDefinition",name:{kind:"Name",value:"NoResultsMessageFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PropertyReviews"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"noResultsMessage"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"MessagingCardFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"EmptyStateFragment"},directives:[]}]}}]}}].concat((Ge.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"MessagingCardFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"UIMessagingCard"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"graphic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Icon"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"secondaries"},arguments:[],directives:[]}]}}],loc:{start:0,end:183,source:{body:"\n  fragment MessagingCardFragment on UIMessagingCard {\n    graphic {\n      __typename\n      ... on Icon {\n        id\n        description\n      }\n    }\n    primary\n    secondaries\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}},__typename:"UIMessagingCard"}).definitions,Oe.fragment.definitions)),loc:{start:0,end:173,source:{body:"\n  fragment NoResultsMessageFragment on PropertyReviews {\n    noResultsMessage {\n      __typename\n      ...MessagingCardFragment\n      ...EmptyStateFragment\n    }\n  }\n  \n  \n".concat([Ge.fragment.loc.source.body,Oe.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},ze=({data:e})=>{const{noResultsMessage:n}=e;if(!n)return null;let i;return n.__typename===Ge.fragment.__typename?i=t.createElement(Ge,{data:n}):n.__typename===Oe.fragment.__typename&&(i=t.createElement(Oe,{data:n})),i};ze.fragment=$e,ze.displayName="NoResultsMessage";var qe=({data:e})=>{const{id:n,header:i,response:a}=e,r=(0,c.D4)();return n&&a?t.createElement(m.N,{border:["inlinestart"],padding:{inlinestart:"three"},margin:{blockstart:"four"}},t.createElement("article",{id:`${n}-${r}`},t.createElement("section",null,(null==i?void 0:i.text)&&t.createElement(g.D,{weight:"bold",size:200},i.text)),t.createElement("section",null,t.createElement(m.N,{padding:{block:"two"}},t.createElement(g.D,{size:200,theme:"standard"},a))))):null};qe.displayName="ReviewChild",qe.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewChildFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ManagementResponse"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"header"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"response"},arguments:[],directives:[]}]}}],loc:{start:0,end:110,source:{body:"\n  fragment ReviewChildFragment on ManagementResponse {\n    id\n    header {\n      text\n    }\n    response\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var Qe=qe,Be={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpvotePropertyReviewWithAccessibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ContextInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reviewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"index"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"upvotePropertyReviewWithAccessibility"},arguments:[{kind:"Argument",name:{kind:"Name",value:"context"},value:{kind:"Variable",name:{kind:"Name",value:"context"}}},{kind:"Argument",name:{kind:"Name",value:"reviewId"},value:{kind:"Variable",name:{kind:"Name",value:"reviewId"}}},{kind:"Argument",name:{kind:"Name",value:"index"},value:{kind:"Variable",name:{kind:"Name",value:"index"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"primaryDisplayString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessibilityLabel"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:272,source:{body:"\n  mutation UpvotePropertyReviewWithAccessibility($context: ContextInput!, $reviewId: String!, $index: Int!) {\n    upvotePropertyReviewWithAccessibility(context: $context, reviewId: $reviewId, index: $index) {\n      primaryDisplayString\n      accessibilityLabel\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},We=({data:e,reviewId:n,reviewIndex:i,reviewsPage:l})=>{var d,s,c;const{context:u}=(0,r.R)(),{reviewInteractionSections:p}=e,[g,y]=(0,a.n_)(Be),S=(0,o.KY)(),N=null==(d=null==y?void 0:y.data)?void 0:d.upvotePropertyReviewWithAccessibility;if((0,t.useEffect)(()=>{var e;(null==N?void 0:N.accessibilityLabel)&&(0,P.liveAnnounce)(null!=(e=null==N?void 0:N.accessibilityLabel)?e:"",P.Level.POLITE)},[N]),!(null==p?void 0:p.length))return null;const F=null==p?void 0:p.find(e=>"HELPFUL_REVIEW"===e.reviewInteractionType);if(!F)return null;const{primaryDisplayString:f,accessibilityLabel:b,feedbackAnalytics:E}=F,h=null!=(s=null==N?void 0:N.primaryDisplayString)?s:f,w=null!=(c=null==N?void 0:N.accessibilityLabel)?c:b;return t.createElement(m.N,{padding:{inlineend:"one"}},t.createElement("div",{"data-stid":"property-review-feedback-indicator"},t.createElement(k.i,{disabled:null==y?void 0:y.called,onClick:()=>{E&&"ReviewsOverlay"===l?S(E.referrerId,E.linkName):S(oe,me),g({variables:{context:u,reviewId:n,index:i}})}},t.createElement("button",{"aria-label":null!=w?w:"",type:"button"},t.createElement(v.LD,{name:"thumb_up",size:v.So.EXTRA_SMALL}),h&&t.createElement(He,{count:h})))))},He=({count:e})=>t.createElement(m.N,{padding:{inlinestart:"one"}},t.createElement(g.D,{inline:!0,size:200},e));We.displayName="FeedbackIndicator",We.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"FeedbackIndicatorFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PropertyReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewInteractionSections"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"primaryDisplayString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessibilityLabel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewInteractionType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"feedbackAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:250,source:{body:"\n  fragment FeedbackIndicatorFragment on PropertyReview {\n    reviewInteractionSections {\n      primaryDisplayString\n      accessibilityLabel\n      reviewInteractionType\n      feedbackAnalytics {\n        linkName\n        referrerId\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var Ue=We,Ye=({data:e,reviewsPage:n,isDatelessImprovedReviewCard:i=!1})=>{const{id:a,photos:r,photoSection:l}=e,{imageClickAnalytics:s,exitAnalytics:c,navClickAnalytics:u,intersectionAnalytics:v}=l||{},{media:k}=l||{},g=(0,o.KY)(),y=t.useRef(null),[N,F]=t.useState(0),[f,b,E]=(0,S.useDialog)(`review-${a}-photo-gallery-dialog`,"pwaPhotosReviewsDialog"),w=t.useCallback(e=>{if(s){const{linkName:e}=s;let{referrerId:i}=s;n&&i&&e&&(i=i.replace("reviewsPage",n),g(i,e))}y.current=document.activeElement,F(e),b.openDialog()},[b,s,n,g]),I=n&&(null==u?void 0:u.referrerId)?{id:u.referrerId,description:u.linkName,callback:(e,n)=>g(e,n)}:void 0,T=t.useMemo(()=>null==r?void 0:r.map(e=>({src:e.url,caption:e.description})),[r]),R=t.useMemo(()=>k?k.reduce((e,n)=>("Image"===n.media.__typename&&e.push({src:n.media.url,caption:n.media.description}),e),[]):[],[k]);if(!(null==r?void 0:r.length))return null;const C={currentIndex:N,onIndexChange:F},_=(e,n)=>t.createElement(t.Fragment,null,t.createElement(L.F,{src:e.url,alt:e.description}),t.createElement(A.d,null,t.createElement(h.u,{id:`${a}-gallery-image-button-${n}`,onClick:()=>w(n),domRef:y,"aria-label":`${e.description}`}))),P=t.createElement(t.Fragment,null,t.createElement(m.N,{padding:{block:"two"}},i?t.createElement(D.X,{direction:"row",space:"three"},r.slice(0,4).map((e,n)=>t.createElement(x.C,{key:e.url,maxWidth:"18x"},t.createElement(d.g,null,t.createElement(M.M,{ratio:M.l.R1_1,imageFit:"cover"},_(e,n)))))):t.createElement(V.w,{columns:4,rows:1},r.slice(0,4).map((e,n)=>t.createElement(O.T,{key:e.url},t.createElement(M.M,{ratio:M.l.R4_3,className:"all-image-fit-cover"},_(e,n)))))),t.createElement(p.K,{isVisible:f},t.createElement(E,null,t.createElement(G.z,{dialogShow:f,onDismiss:()=>{var e;if(null==(e=y.current)||e.focus(),b.closeDialog(),c){const{linkName:e}=c;let{referrerId:i}=c;n&&i&&e&&(i=i.replace("reviewsPage",n),g(i,e))}},triggerRef:y,strictFullscreen:!0},t.createElement($.C,{...C,images:R.length>0?R:T,stretchToFill:!1,galleryName:n,analytics:I})))));if("ReviewsOverlay"===n&&v){const{referrerId:e,linkName:n}=v;return t.createElement(o.ee,{trackOnce:!0,referrerId:e.replace("reviewsPage","ReviewsOverlay"),linkName:n},P)}return P};Ye.displayName="Photos",Ye.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PhotosFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PropertyReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"photoSection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"imageClickAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"exitAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"navClickAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"intersectionAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"media"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"media"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Image"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"photos"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:537,source:{body:"\n  fragment PhotosFragment on PropertyReview {\n    id\n    photoSection {\n      imageClickAnalytics {\n        referrerId\n        linkName\n      }\n      exitAnalytics {\n        referrerId\n        linkName\n      }\n      navClickAnalytics {\n        referrerId\n        linkName\n      }\n      intersectionAnalytics {\n        referrerId\n        linkName\n      }\n      media {\n        media {\n          ... on Image {\n            description\n            url\n          }\n        }\n      }\n    }\n    photos {\n      description\n      url\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var je=({data:e})=>{var n;const i=null==(n=e.reviewAuthorAttribution)?void 0:n.text;return i?t.createElement(I.M,{size:7,tag:"h4"},i):null};je.displayName="PropertyReviewAuthor",je.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AuthorFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PropertyReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewAuthorAttribution"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:98,source:{body:"\n  fragment AuthorFragment on PropertyReview {\n    reviewAuthorAttribution {\n      text\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var Xe=({data:e,isDatelessImprovedReviewCard:n=!1})=>n?(()=>{var n,i;const a=e.messages.find(e=>"EGDSSpannableText"===e.text.__typename),r=e.messages.find(e=>"EGDSPlainText"===e.text.__typename),l="EGDSSpannableText"===(null==a?void 0:a.text.__typename)&&a.text.inlineContent.find(e=>"EGDSGraphicText"===e.__typename),d="EGDSSpannableText"===(null==a?void 0:a.text.__typename)&&a.text.inlineContent.find(e=>"EGDSStylizedText"===e.__typename),s="EGDSSpannableText"===(null==a?void 0:a.text.__typename)&&a.text.inlineContent.find(e=>"EGDSPlainText"===e.__typename);return t.createElement(t.Fragment,null,t.createElement(D.X,{space:"two",wrap:"wrap"},t.createElement(x.C,null,t.createElement("div",null,(null==a?void 0:a.seoStructuredData)&&t.createElement(I.M,{size:7,tag:"h5",itemScope:a.seoStructuredData.itemscope,itemProp:a.seoStructuredData.itemprop,itemType:a.seoStructuredData.itemtype,hidden:!0},t.createElement("span",{itemProp:"name"},a.seoStructuredData.content)),t.createElement(D.X,{space:"two"},l&&"EGDSGraphicText"===l.__typename&&"Mark"===(null==(n=l.graphic)?void 0:n.__typename)&&l.graphic.id&&t.createElement(x.C,null,t.createElement(z.n,{name:l.graphic.id})),d&&"EGDSStylizedText"===d.__typename&&d.text&&t.createElement(x.C,null,t.createElement(g.D,{size:200,weight:"bold"===(null==(i=d.weight)?void 0:i.toLowerCase())?"bold":"regular",theme:"standard"},d.text))))),t.createElement(x.C,null,s&&"EGDSPlainText"===s.__typename&&s.text&&t.createElement(g.D,{size:200,weight:"regular",theme:"standard"},s.text))),r&&"EGDSPlainText"===(null==r?void 0:r.text.__typename)&&r.text.text&&t.createElement(g.D,{size:200,weight:"regular",theme:"standard"},r.text.text))})():t.createElement(t.Fragment,null,e.messages.map((e,n)=>{var i;return t.createElement("div",{key:`review-footer-message-${n}`},e.seoStructuredData&&t.createElement(I.M,{size:7,tag:"h5",itemScope:e.seoStructuredData.itemscope,itemProp:e.seoStructuredData.itemprop,itemType:e.seoStructuredData.itemtype,hidden:!0},t.createElement("span",{itemProp:"name"},e.seoStructuredData.content)),e.text&&t.createElement(D.X,{space:"two"},"EGDSGraphicText"===e.text.__typename&&"Mark"===(null==(i=e.text.graphic)?void 0:i.__typename)&&t.createElement(x.C,null,t.createElement(z.n,{name:e.text.graphic.id})),t.createElement(x.C,null,t.createElement(g.D,{size:200,theme:"standard"},e.text.text))))}));Xe.displayName="PropertyReviewFooterSectionFragment",Xe.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PropertyReviewFooterSectionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PropertyReviewFooterSection"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"seoStructuredData"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemscope"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemprop"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemtype"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSPlainText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSGraphicText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"graphic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Mark"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HttpURI"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"relativePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}}]}}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSSpannableText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"egdsElementId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"inlineContent"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSStylizedText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"theme"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"weight"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"decorative"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSPlainText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSGraphicText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"graphic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Mark"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1457,source:{body:"\n  fragment PropertyReviewFooterSectionFragment on PropertyReviewFooterSection {\n    messages {\n      seoStructuredData {\n        itemscope\n        itemprop\n        itemtype\n        content\n      }\n      text {\n        __typename\n        ... on EGDSPlainText {\n          __typename\n          text\n        }\n        ... on EGDSGraphicText {\n          __typename\n          text\n          graphic {\n            __typename\n            ... on Mark {\n              __typename\n              description\n              id\n              size\n              url {\n                ... on HttpURI {\n                  relativePath\n                  value\n                }\n              }\n            }\n          }\n        }\n        ... on EGDSSpannableText {\n          __typename\n          text\n          egdsElementId\n          inlineContent {\n            ... on EGDSStylizedText {\n              __typename\n              text\n              theme\n              weight\n              size\n              decorative\n              accessibility\n            }\n            ... on EGDSPlainText {\n              text\n              __typename\n            }\n            ... on EGDSGraphicText {\n              __typename\n              accessibility\n              text\n              graphic {\n                ... on Mark {\n                  id\n                  size\n                  __typename\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var Ke=({data:e})=>e&&e.reviewRegion?t.createElement(z.n,{name:e.reviewRegion.id}):null;Ke.displayName="PropertyReviewRegion",Ke.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PropertyReviewRegionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PropertyReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reviewRegion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:99,source:{body:"\n  fragment PropertyReviewRegionFragment on PropertyReview {\n    reviewRegion {\n      id\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var Je=({data:e})=>{const{text:n,graphic:i,accessibilityLabel:a}=e.propertyReviewSource||{};if(!n||!n.value)return null;const{id:r,description:l,url:d}=i||{};return t.createElement(t.Fragment,null,t.createElement(D.X,{space:"one",tabIndex:-1,alignItems:"end"},t.createElement(x.C,null,t.createElement(g.D,{size:200,theme:"standard",overflow:"truncate","data-stid":"property-source"},n.value)),t.createElement(x.C,null,t.createElement(t.Fragment,null,r&&t.createElement(m.N,{padding:{blockend:"one"}},t.createElement("div",null,t.createElement(q.D,{name:r,size:Q.K.EXTRA_SMALL,description:l}))),!r&&(null==d?void 0:d.value)&&t.createElement(q.D,{url:d.value,size:Q.K.EXTRA_SMALL,description:l})))),a&&t.createElement(g.D,{className:"is-visually-hidden"},a))};Je.displayName="PropertyReviewSource",Je.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PropertyReviewSourceFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PropertyReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"propertyReviewSource"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibilityLabel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"graphic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:280,source:{body:"\n  fragment PropertyReviewSourceFragment on PropertyReview {\n    propertyReviewSource {\n      accessibilityLabel\n      graphic {\n        description\n        id\n        size\n        token\n        url {\n          value\n        }\n      }\n      text {\n        value\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var Ze=({data:e,themeUniqueId:n})=>{const{label:i,icon:a}=e;return a&&i?t.createElement(m.N,{margin:{blockstart:"two"}},t.createElement("div",null,t.createElement(v.LD,{"aria-hidden":!0,size:v.So.SMALL,name:a.id,id:`${a.id}-${n}`}),t.createElement(m.N,{padding:{inlinestart:"two"}},t.createElement(g.D,{size:200,theme:"standard",inline:!0},i)))):null};Ze.displayName="ReviewTheme",Ze.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewThemeFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewThemes"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}}],loc:{start:0,end:90,source:{body:"\n  fragment ReviewThemeFragment on ReviewThemes {\n    icon {\n      id\n    }\n    label\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var en=({data:e,isLoading:n,isTranslated:i,onTranslateClicked:a})=>{const{translationInfo:r}=e,l=(0,o.KY)();if(!r)return null;return n?t.createElement(g.D,{size:200,theme:"standard"},r.loadingTranslationText):t.createElement(t.Fragment,null,i?t.createElement(t.Fragment,null,t.createElement(g.D,{inline:!0,size:200,theme:"standard"},r.translatedBy.description),t.createElement(m.N,{margin:{block:"two",inlinestart:"two"}},t.createElement(k.i,{className:"uitk-type-300",size:"small",inline:!0},t.createElement("button",{type:"button",onClick:a},r.seeOriginalText)))):t.createElement(m.N,{margin:{block:"two"}},t.createElement(k.i,{className:"uitk-type-300 ",size:"small",inline:!0},t.createElement("button",{type:"button",onClick:()=>{l(ue,ce),a()}},r.translationCallToActionLabel))))};en.displayName="ReviewTranslationInfo",en.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewTranslationInfoFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PropertyReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"translationInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"loadingTranslationText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"targetLocale"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translatedBy"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"translationCallToActionLabel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"seeOriginalText"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:248,source:{body:"\n  fragment ReviewTranslationInfoFragment on PropertyReview {\n    translationInfo {\n      loadingTranslationText\n      targetLocale\n      translatedBy {\n        description\n      }\n      translationCallToActionLabel\n      seeOriginalText\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var nn=({data:e})=>{const{travelers:n}=e;return(null==n?void 0:n.length)?t.createElement(g.D,{size:300,theme:"standard"},n.join(", ")):null};nn.displayName="Travelers",nn.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"TravelersFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PropertyReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"travelers"},arguments:[],directives:[]}]}}],loc:{start:0,end:68,source:{body:"\n  fragment TravelersFragment on PropertyReview {\n    travelers\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var tn={kind:"Document",definitions:re([{kind:"FragmentDefinition",name:{kind:"Name",value:"ReviewParentFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PropertyReview"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"superlative"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"locale"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brandType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"disclaimer"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewScoreWithDescription"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"highlightedText"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSSpannableTextFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"seeMoreAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"submissionTimeLocalized"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"impressionAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uisPrimeMessages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"schemaName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messageContent"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"themes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewThemeFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviewFooter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PropertyReviewFooterSectionFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviewAnalytics"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"FeedbackIndicatorFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"AuthorFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PhotosFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"TravelersFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewTranslationInfoFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PropertyReviewSourceFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PropertyReviewRegionFragment"},directives:[]}]}}].concat(je.fragment.definitions,Ye.fragment.definitions,nn.fragment.definitions,Ze.fragment.definitions,Ue.fragment.definitions,en.fragment.definitions,Je.fragment.definitions,Ke.fragment.definitions,Xe.fragment.definitions,_.$BV.fragment.definitions)),loc:{start:0,end:870,source:{body:"\n  fragment ReviewParentFragment on PropertyReview {\n    id\n    superlative\n    locale\n    title\n    brandType\n    disclaimer\n    reviewScoreWithDescription {\n      label\n      value\n    }\n    text\n    highlightedText {\n      ...EGDSSpannableTextFragment\n    }\n    seeMoreAnalytics {\n      linkName\n      referrerId\n    }\n    submissionTimeLocalized\n    impressionAnalytics {\n      event\n      referrerId\n      uisPrimeMessages {\n        schemaName\n        messageContent\n      }\n    }\n    themes {\n      ...ReviewThemeFragment\n    }\n    reviewFooter {\n      ...PropertyReviewFooterSectionFragment\n    }\n    reviewAnalytics\n    ...FeedbackIndicatorFragment\n    ...AuthorFragment\n    ...PhotosFragment\n    ...TravelersFragment\n    ...ReviewTranslationInfoFragment\n    ...PropertyReviewSourceFragment\n    ...PropertyReviewRegionFragment\n  }\n\n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n".concat([je.fragment.loc.source.body,Ye.fragment.loc.source.body,nn.fragment.loc.source.body,Ze.fragment.loc.source.body,Ue.fragment.loc.source.body,en.fragment.loc.source.body,Je.fragment.loc.source.body,Ke.fragment.loc.source.body,Xe.fragment.loc.source.body,_.$BV.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},an={kind:"Document",definitions:re([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TranslateReviewQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ContextInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"propertyId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"locale"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Locale"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"reviewId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"propertyInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"context"},value:{kind:"Variable",name:{kind:"Name",value:"context"}}},{kind:"Argument",name:{kind:"Name",value:"propertyId"},value:{kind:"Variable",name:{kind:"Name",value:"propertyId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"review"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"reviewId"}}},{kind:"Argument",name:{kind:"Name",value:"locale"},value:{kind:"Variable",name:{kind:"Name",value:"locale"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"translatedReviewId"},name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"translatedLocale"},name:{kind:"Name",value:"locale"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"translatedTitle"},name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"translatedText"},name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"translatedHighlightedText"},name:{kind:"Name",value:"highlightedText"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSSpannableTextFragment"},directives:[]}]}}]}}]}}]}}].concat(_.$BV.fragment.definitions)),loc:{start:0,end:483,source:{body:"\n  query TranslateReviewQuery($context: ContextInput!, $propertyId: String!, $locale: Locale!, $reviewId: String!) {\n    propertyInfo(context: $context, propertyId: $propertyId) {\n      id\n      review(id: $reviewId, locale: $locale) {\n        translatedReviewId: id\n        translatedLocale: locale\n        translatedTitle: title\n        translatedText: text\n        translatedHighlightedText: highlightedText {\n          ...EGDSSpannableTextFragment\n        }\n      }\n    }\n  }\n  \n".concat([_.$BV.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},rn=({data:e,children:n,propertyId:i,reviewIndex:l,reviewsPage:d,isDatelessImprovedReviewCard:s=!1})=>{var u,v,k,p;const{id:y,superlative:S,disclaimer:N,themes:F,submissionTimeLocalized:f,title:b,text:E,highlightedText:h,seeMoreAnalytics:w,reviewScoreWithDescription:T,impressionAnalytics:_,reviewFooter:P,reviewAnalytics:L,reviewInteractionSections:A}=e,[M,V]=t.useState(!1),[O,G]=t.useState(!1),{context:$}=(0,r.R)(),[z,q]=(0,a._l)(an),Q=q.data,{called:B,loading:W}=q,H=(0,o.KY)(),U=t.useCallback(()=>{!O&&w&&w.referrerId&&d&&H(w.referrerId.concat(d),w.linkName),G(!O)},[O,H,w,d]),{primaryDisplayString:Y,accessibilityLabel:j}=(null==A?void 0:A.find(e=>"REVIEW_EXPAND_LABEL"===e.reviewInteractionType))||{},{primaryDisplayString:X,accessibilityLabel:K}=(null==A?void 0:A.find(e=>"REVIEW_COLLAPSE_LABEL"===e.reviewInteractionType))||{},J=null==(v=null==(u=null==Q?void 0:Q.propertyInfo)?void 0:u.review)?void 0:v.translatedText,Z=null==(p=null==(k=null==Q?void 0:Q.propertyInfo)?void 0:k.review)?void 0:p.translatedTitle,ee=M&&Z?Z:b,ne=(e,n)=>{var i;return(null==(i=null==n?void 0:n.inlineContent)?void 0:i.length)?t.createElement(t.Fragment,null,t.createElement("span",{className:"is-visually-hidden"},e),t.createElement(C.V,{inlineContentList:n.inlineContent,isHiddenFromScreenReader:!0})):e},ie={clientPayload:fe("review.presented",Ne,"ReviewsOverlay"===d?"reviews_overlay":"pdp",Fe),serverPayload:L},te=t.createElement("article",{itemProp:"review",itemScope:!0,itemType:"http://schema.org/Review",id:`${y}-${(0,c.D4)()}`},N&&t.createElement(m.N,{margin:{blockend:"two"}},t.createElement(g.D,{size:200,theme:"standard"},t.createElement("span",null,N))),S&&t.createElement(m.N,{padding:{blockend:s?void 0:"two"}},t.createElement("section",{itemProp:"reviewRating",itemScope:!0,itemType:"http://schema.org/Rating","data-stid":"property-reviews-parent__section-superlative"},(null==T?void 0:T.value)&&t.createElement(I.M,{tag:"h3",size:5,"aria-label":T.label||""},t.createElement("span",{itemProp:"ratingValue"},T.value)))),t.createElement("section",null,t.createElement(je,{data:e}),t.createElement(nn,{data:e}),t.createElement(g.D,{size:300,theme:"standard"},t.createElement("span",{itemProp:"datePublished"},f))),F&&F.length>0&&t.createElement(m.N,{margin:{block:"two"}},t.createElement("section",{"data-stid":"property-reviews-parent__section-sentiments"},F.map((e,n)=>t.createElement(Ze,{themeUniqueId:`${y}-${n}`,data:e,key:`review-theme-${n}`})))),t.createElement(en,{data:e,isLoading:W,isTranslated:M,onTranslateClicked:()=>{B||z({variables:{context:$,propertyId:i,reviewId:y,locale:$.locale}}),V(!M)}}),(b||E||h)&&t.createElement(m.N,{margin:{blockstart:s?void 0:"two",blockend:"two"}},t.createElement("section",null,ee&&t.createElement(I.M,{tag:"h4",size:6,"data-stid":"review_section_title"},t.createElement("span",{itemProp:"name"},ee)),t.createElement(m.N,{padding:{blockstart:ee||s?"two":"unset"}},Y&&X?t.createElement(R.A,{isVisible:O,lines:5,expandLabel:Y,collapseLabel:X,expandA11yLabel:null!=j?j:"",collapseA11yLabel:null!=K?K:"",handleClick:U},t.createElement(g.D,{size:300,theme:"standard"},t.createElement("span",{itemProp:"description"},M&&J?J:ne(E,h)))):t.createElement(g.D,{size:300,theme:"standard"},t.createElement("span",{itemProp:"description"},M&&J?J:ne(E,h)))))),t.createElement(Ye,{data:e,reviewsPage:d,isDatelessImprovedReviewCard:s}),t.createElement(m.N,{margin:{blockstart:"two",blockend:s?void 0:"two"}},t.createElement("section",null,t.createElement(D.X,{justifyContent:"space-between",alignItems:"end"},t.createElement(x.C,{grow:s?1:0},t.createElement(D.X,{direction:"column"},P&&t.createElement(x.C,null,t.createElement(D.X,{space:"two",direction:"row",justifyContent:s?"space-between":"start"},t.createElement(Xe,{data:P,isDatelessImprovedReviewCard:s}))),!s&&t.createElement(x.C,null,t.createElement(m.N,{margin:{blockstart:"three"}},t.createElement(D.X,{justifyContent:"start"},t.createElement(x.C,null,t.createElement(Ue,{reviewId:y,reviewIndex:l,data:e,reviewsPage:d})),t.createElement(x.C,null,n)))))),t.createElement(x.C,null,t.createElement(Je,{data:e})))))),{referrerId:ae="",event:re="",uisPrimeMessages:le=[]}=_||{},de=le.map(({messageContent:e,schemaName:n})=>({messageContent:JSON.parse(e),schemaName:n}));return"ReviewsOverlay"===d&&ae&&re?t.createElement(o.ee,{trackOnce:!0,referrerId:ae,linkName:re,additionalUisPrimeMicroMessages:de},t.createElement(o.E0,{eventData:ie}," ",te," ")):t.createElement(o.E0,{eventData:ie}," ",te," ")};rn.displayName="ReviewParent",rn.fragment=tn;var ln=rn,dn={kind:"Document",definitions:re([{kind:"FragmentDefinition",name:{kind:"Name",value:"__PropertyReviewsListFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PropertyReviews"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paginateAction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"analytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"reviews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentDirectFeedbackPromptId"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewParentFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"managementResponses"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewChildFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reviewInteractionSections"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"primaryDisplayString"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewInteractionType"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"impressionAnalytics"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"NoResultsMessageFragment"},directives:[]}]}}].concat(ln.fragment.definitions,Qe.fragment.definitions,ze.fragment.definitions)),loc:{start:0,end:521,source:{body:"\n  fragment __PropertyReviewsListFragment on PropertyReviews {\n    summary {\n      paginateAction {\n        text\n        analytics {\n          referrerId\n          linkName\n        }\n      }\n    }\n    reviews {\n      contentDirectFeedbackPromptId\n      ...ReviewParentFragment\n      managementResponses {\n        ...ReviewChildFragment\n      }\n      reviewInteractionSections {\n        primaryDisplayString\n        reviewInteractionType\n      }\n    }\n    impressionAnalytics\n    ...NoResultsMessageFragment\n  }\n  \n  \n  ,\n".concat([ln.fragment.loc.source.body,Qe.fragment.loc.source.body,ze.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},sn=({data:e,fetchMore:n,hideManagementResponse:i,propertyId:r,size:v,showLoadMoreCTA:k=!0,reviewsPage:p,searchFilterOrPopularMentionFilter:g,isDatelessImprovedReviewCard:y=!1})=>{const{cache:S}=(0,a.mK)(),{reviews:N,summary:F,noResultsMessage:f}=e,b=null==F?void 0:F.paginateAction,{referrerId:E,linkName:h}=(null==b?void 0:b.analytics)||{},w=(0,o.KY)(),I=function(){const e=(0,u.zy)();return(0,t.useMemo)(()=>new URLSearchParams(e.search),[e.search])}(),T=function(){const e=(0,u.Zp)(),n=(0,u.zy)();return(0,t.useCallback)(i=>{const t=new URLSearchParams(n.search);t.delete(i),e(`${n.pathname}?${t}`,{replace:!0})},[e,n])}(),[D,x]=(0,t.useState)(!1),[R,C]=(0,t.useState)(!1),[_,P]=(0,t.useState)(10),L=(0,t.useRef)(),[,A]=(0,c.DH)(),M="ReviewsOverlay"===p;t.useEffect(()=>{var e;if(M&&I.get("reviewId")){const n=window.matchMedia("(prefers-reduced-motion: reduce)").matches;null==(e=L.current)||e.scrollIntoView({behavior:n?"auto":"smooth",block:"start"}),T("reviewId")}},[T,M,I,p]),(0,t.useEffect)(()=>{k&&x(!(!b||f))},[k,b,f]);const V={clientPayload:fe("reviews.viewed",Ne,M?"reviews_overlay":"pdp",Fe),serverPayload:e.impressionAnalytics},O=(e,n)=>{const{managementResponses:a,id:l,brandType:d}=e;return t.createElement("div",null,t.createElement("div",{ref:e.id===I.get("reviewId")?L:null},t.createElement(ln,{data:e,propertyId:r,reviewIndex:n+1,reviewsPage:p,isDatelessImprovedReviewCard:y},e.contentDirectFeedbackPromptId&&t.createElement(Ve,{dialogId:l,feedbackContext:[{key:"brand",value:d||""},{key:"property_id",value:r},{key:"review_id",value:l}],hideReview:(s=l,m=e.text,o=e.highlightedText,()=>{const e=S.identify({id:s,text:m,highlightedText:o,__typename:"PropertyReview"});S.evict({id:e}),S.gc()}),inputs:{id:e.contentDirectFeedbackPromptId}}))),!i&&a.length>0&&e.managementResponses[0]&&t.createElement(Qe,{data:e.managementResponses[0]}));var s,m,o},G=t.createElement(d.g,null,N&&N.length>0&&N.map((e,n)=>{const{id:i}=e;return y?t.createElement(s.E,{padded:["blockstart","inlinestart","inlineend"],key:`review-${i}`,"data-stid":"property-reviews-list-item"},t.createElement(d.g,{padded:!0,border:!0},O(e,n))):t.createElement(s.E,{padded:!M||["blockstart","blockend"],border:"bottom",key:`review-${i}`,"data-stid":"property-reviews-list-item"},O(e,n))}),t.createElement(ze,{data:e})),$=t.createElement(o.E0,{eventData:V},G);return t.createElement("section",null,M?$:G,D&&t.createElement(m.N,{margin:{block:"three"}},t.createElement("div",{className:"uitk-type-center"},t.createElement(l.y,{onClick:()=>{C(!0),A(()=>{E&&h&&w(E,h)}),n({variables:{searchCriteria:{secondary:{counts:[{id:"startIndex",value:g?_:N.length},{id:"size",value:v}]}}},updateQuery:(e,{fetchMoreResult:n})=>n?(n.propertyInfo.reviewInfo.noResultsMessage&&x(!1),{...e,propertyInfo:{...e.propertyInfo,reviewInfo:{...e.propertyInfo.reviewInfo,summary:{...e.propertyInfo.reviewInfo.summary,...n.propertyInfo.reviewInfo.summary},reviews:[...e.propertyInfo.reviewInfo.reviews,...n.propertyInfo.reviewInfo.reviews]}}}):e}),C(!1),g&&P(e=>e+10)},disabled:R},null==b?void 0:b.text))))};sn.displayName="PropertyReviewsList",sn.fragment=dn;var mn=sn,on={kind:"Document",definitions:re([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ReviewsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ContextInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"propertyId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchCriteria"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PropertySearchCriteriaInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"propertyInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"propertyId"},value:{kind:"Variable",name:{kind:"Name",value:"propertyId"}}},{kind:"Argument",name:{kind:"Name",value:"context"},value:{kind:"Variable",name:{kind:"Name",value:"context"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"searchCriteria"},value:{kind:"Variable",name:{kind:"Name",value:"searchCriteria"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"__PropertyReviewsListFragment"},directives:[]}]}}]}}]}}].concat(dn.definitions)),loc:{start:0,end:304,source:{body:"\n  query ReviewsQuery($context: ContextInput!, $propertyId: String!, $searchCriteria: PropertySearchCriteriaInput!) {\n    propertyInfo(propertyId: $propertyId, context: $context) {\n      id\n      reviewInfo(searchCriteria: $searchCriteria) {\n        ...__PropertyReviewsListFragment\n      }\n    }\n  }\n  \n".concat([dn.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}};t.memo(e=>{var n,i;const{inputs:{searchCriteria:l,...d}}=e,{context:s}=(0,r.R)(),m=String(d.propertyId),o=(null==(n=null==d?void 0:d.pagination)?void 0:n.size)||10,c=(null==(i=null==d?void 0:d.pagination)?void 0:i.startingIndex)||0,u={context:s,propertyId:m,searchCriteria:{primary:l.primary,secondary:{booleans:[{id:"includeRecentReviews",value:!0},{id:"includeRatingsOnlyReviews",value:!0}],counts:[{id:"startIndex",value:c},{id:"size",value:o}],selections:[{id:"sortBy",value:ge}]}}},{data:v,error:k,loading:p,fetchMore:g}=(0,a.IT)(on,{context:{shouldLogPerformance:!0},variables:u,errorPolicy:"all",fetchPolicy:"cache-first"});if(p||k||!v)return null;const y=se(g,u);return t.createElement(mn,{propertyId:m,size:o,data:v.propertyInfo.reviewInfo,fetchMore:y})}).displayName="sharedui-PropertyReviewsList";var cn={kind:"Document",definitions:re([{kind:"FragmentDefinition",name:{kind:"Name",value:"__PropertyReviewSummaryFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PropertyReviewSummary"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibilityLabel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overallScoreWithDescriptionA11y"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"LodgingEnrichedMessageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"propertyReviewCountDetails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fullDescription"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"ReviewDisclaimerFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewSummaryDetails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"ratingPercentage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"formattedRatingOutOfMax"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"raw"},arguments:[],directives:[]}]}}]}}].concat(_.yJZ.fragment.definitions,_.UKE.fragment.definitions)),loc:{start:0,end:412,source:{body:"\n  fragment __PropertyReviewSummaryFragment on PropertyReviewSummary {\n    accessibilityLabel\n    overallScoreWithDescriptionA11y {\n      ...LodgingEnrichedMessageFragment\n    }\n    propertyReviewCountDetails {\n      fullDescription\n    }\n    ...ReviewDisclaimerFragment\n    reviewSummaryDetails {\n      label\n      ratingPercentage\n      formattedRatingOutOfMax\n    }\n    totalCount {\n      raw\n    }\n  }\n  \n  \n".concat([_.yJZ.fragment.loc.source.body,_.UKE.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},un=({data:e,withAggregateRating:n=!1,reviewPage:i,children:a=null})=>{const{overallScoreWithDescriptionA11y:r,propertyReviewCountDetails:l,reviewSummaryDetails:d,totalCount:s}=e;return t.createElement(m.N,{margin:{blockend:"two"}},t.createElement("div",{"data-stid":"property-reviews-summary",...(0,_.ixk)("aggregateRating",n)},r&&t.createElement(_.UKE,{data:r,textSize:500}),t.createElement("span",{className:"is-visually-hidden","aria-hidden":"true",...(0,_.ixk)("reviewCount",n)},null==s?void 0:s.raw),t.createElement(g.D,{size:400,spacing:"one"},null==l?void 0:l.fullDescription),t.createElement(_.yJZ,{data:e,reviewPage:i}),a,!!(null==d?void 0:d.length)&&t.createElement(D.X,{direction:"column",space:"two"},d.map((e,n)=>t.createElement(m.N,{padding:{blockstart:"two"},key:`category-${null==e?void 0:e.label}`},t.createElement("div",null,t.createElement(B.C,{percent:null==e?void 0:e.ratingPercentage,progressDescription:null==e?void 0:e.formattedRatingOutOfMax,title:null==e?void 0:e.label})))))))};un.displayName="PropertyReviewsSummaryFragment",un.fragment=cn;var vn=un,kn=(vn.fragment.definitions,"\n  query PropertyReviewSummaries($context: ContextInput!, $propertyIds: [String!]!) {\n    propertyReviewSummaries(context: $context, propertyIds: $propertyIds) {\n      ...__PropertyReviewSummaryFragment\n    }\n  }\n  \n".concat([vn.fragment.loc.source.body].join("\n")),({data:e,popularMentionInput:n,otherFiltersApplied:i=!1,setPopularMention:a,resetFilters:r})=>{var l;const d=e.sortAndFilter.find(e=>e.title===Se),s=t.createRef(),[c,u]=t.useState(!1),v=(0,o.KY)(),k=t.useCallback(()=>{const{clickAnalytics:e}=(null==d?void 0:d.options.find(e=>e.isSelected))||{};e&&v(`${e.referrerId}.False`,`Deselected ${e.linkName}`)},[d,v]);if(!d||!(null==(l=null==d?void 0:d.options)?void 0:l.length)||!d.label)return null;const{clickAnalytics:p,placeholder:g,label:y,showListOptions:S,options:N}=d,F={id:`${null==p?void 0:p.referrerId}.${c?"SeeLess":"SeeMore"}`,description:`${c?"See less ":"See more "}${null==p?void 0:p.linkName}`,callback:(e,n)=>{v(e.replace(/\.closed|\.opened/g,""),n)}};return t.createElement("div",{ref:s},t.createElement(m.N,{margin:{blockend:"four"},border:["blockend"],padding:{blockend:N.length>9?"one":"four"}},t.createElement(D.X,{space:"two",direction:"column"},t.createElement(I.M,{tag:"h3",size:6,"aria-label":g||""},y),t.createElement(m.N,{margin:{blockend:"unset"}},t.createElement(R.A,{items:9,hideScrim:!0,isVisible:c,expandLabel:null==S?void 0:S.seeMoreLabel,collapseLabel:null==S?void 0:S.seeLessLabel,handleClick:()=>u(e=>!e),analytics:F},t.createElement(K.g,{wrap:!0},N.map((e,l)=>{var d;return t.createElement(J.B,{id:`wrapped-popular-${l}`,key:`popular-mention-${l}`,checked:!i&&n===(null==e?void 0:e.optionValue),onChange:()=>(e=>{const{optionValue:n,clickAnalytics:i,ariaLabel:t,isSelected:l}=e;l||((0,P.liveAnnounce)(t,P.Level.POLITE,"is-visually-hidden",s,"popular-mention-live-announce-id"),null==r||r("popularMention"),a(n),v(`${i.referrerId}.True`,`Selected ${i.linkName}`),k())})(e)},null!=(d=e.label)?d:"")})))))))});kn.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PopularMentionsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SortAndFilterViewModel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sortAndFilter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeholder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"showListOptions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"seeLessLabel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"seeMoreLabel"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ariaLabel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"optionValue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSelected"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"clickAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:458,source:{body:"\n  fragment PopularMentionsFragment on SortAndFilterViewModel {\n    sortAndFilter {\n      title\n      placeholder\n      label\n      name\n      showListOptions {\n        seeLessLabel\n        seeMoreLabel\n      }\n      options {\n        ariaLabel\n        clickAnalytics {\n          referrerId\n          linkName\n        }\n        optionValue\n        label\n        isSelected\n      }\n      clickAnalytics {\n        referrerId\n        linkName\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},kn.displayName="PopularMentions";var pn=kn,gn=({data:e,setSearchInputVal:n,searchInputVal:i,resetFilters:a})=>{const[r,l]=t.useState(i),d=e.sortAndFilter.find(e=>"reviewsSearch"===e.name),s=(0,o.iQ)();if((0,t.useMemo)(()=>{l(i)},[i]),!(d&&d.label&&d.name&&d.graphic))return null;const{label:m,name:c,submittedAnalytics:u,initiatedAnalytics:k,graphic:p}=d,{id:g,description:y,token:S}=p;if(!g||!y||!S)return null;const N=e=>{e.preventDefault(),n(r),null==a||a("search"),s({clientPayload:fe("reviews_search.submitted",Ne),serverPayload:u})},F=t.createElement(t.Fragment,null,t.createElement(x.C,null,t.createElement(ee.V,{size:300,id:"search-input-box",label:m,name:c,value:r,onChange:e=>{const{value:n}=e.target;l(n),""===n&&(null==a||a("reset"))},hasClearButton:!0,onClick:()=>s({clientPayload:fe("reviews_search.initiated",Ne),serverPayload:k})})),t.createElement(x.C,null,t.createElement(E.y,{size:h.V.LARGE,type:"submit",name:y,title:y,id:"search-btn","aria-label":y,disabled:!1},t.createElement(v.LD,{name:S,id:g,title:y}))));return t.createElement(ne.LM,null,t.createElement(ne.NP,null,t.createElement(Z.m,{onSubmit:N},t.createElement(D.X,{space:"four"},F))),t.createElement(ne.rw,null,t.createElement(Z.m,{onSubmit:N},t.createElement(D.X,{space:"two"},F))))};gn.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchTextFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SortAndFilterViewModel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sortAndFilter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"graphic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SearchTextIconFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"submittedAnalytics"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initiatedAnalytics"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"SearchTextIconFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Icon"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}],loc:{start:0,end:302,source:{body:"\n  fragment SearchTextFragment on SortAndFilterViewModel {\n    sortAndFilter {\n      name\n      label\n      graphic {\n        ...SearchTextIconFragment\n      }\n      submittedAnalytics\n      initiatedAnalytics\n    }\n  }\n\n  fragment SearchTextIconFragment on Icon {\n    description\n    id\n    token\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},gn.displayName="SearchBox";var yn=gn,Sn=({data:e,setSortType:n,resetFilters:i})=>{var a;const r=e.sortAndFilter.find(e=>"sortBy"===e.name),[l,d]=t.useState((null==(a=null==r?void 0:r.options[0])?void 0:a.optionValue)||""),s=(0,o.KY)();if((0,t.useMemo)(()=>{const e=null==r?void 0:r.options.find(e=>!0===e.isSelected);d((null==e?void 0:e.optionValue)||"")},[r]),!r||!r.options||!r.label||0===r.options.length)return null;const{name:m,label:c,options:u}=r,{clickAnalytics:v}=r;return t.createElement(ie._,{id:m,value:l,label:c,name:m,emptyState:!1,onChange:e=>{const{selectedIndex:t}=e.target.options,{clickAnalytics:a}=u[t]||{clickAnalytics:void 0},{referrerId:r,linkName:l}=a||{};r&&l&&s(r,l),d(e.currentTarget.value),n(e.currentTarget.value),null==i||i("sortBy")},onClick:()=>{const{referrerId:e,linkName:n}=v||{};e&&n&&s(e,n)}},t.createElement(t.Fragment,null,u.map((e,n)=>e.optionValue&&e.label?t.createElement("option",{key:n,value:e.optionValue,label:e.label,"aria-selected":e.isSelected},e.label):null)))};Sn.displayName="SortType",Sn.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SortTypeFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SortAndFilterViewModel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sortAndFilter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSelected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"optionValue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:349,source:{body:"\n  fragment SortTypeFragment on SortAndFilterViewModel {\n    sortAndFilter {\n      name\n      label\n      clickAnalytics {\n        linkName\n        referrerId\n      }\n      options {\n        label\n        isSelected\n        optionValue\n        description\n        clickAnalytics {\n          linkName\n          referrerId\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var Nn=Sn,Fn=({data:e,setTravelerType:n,selectedTravelerTypes:i,resetFilters:a})=>{var r,l;const d=e.sortAndFilter.find(e=>"travelerType"===e.name),[s,m]=t.useState((null==(r=null==d?void 0:d.options[0])?void 0:r.optionValue)||""),c=(0,o.KY)();if((0,t.useMemo)(()=>{const e=null==d?void 0:d.options.find(e=>!0===e.isSelected);m((null==e?void 0:e.optionValue)||"")},[d]),!(null==d?void 0:d.label)||0===(null==(l=d.options)?void 0:l.length))return null;const{name:u,label:v,options:k}=d,{clickAnalytics:p}=d;return t.createElement(ie._,{id:u,value:s,label:v,name:u,emptyState:!1,onChange:e=>{const{selectedIndex:i}=e.target.options,{clickAnalytics:t}=k[i]||{clickAnalytics:void 0},{referrerId:r,linkName:l}=t||{};r&&l&&c(r,l),m(e.currentTarget.value),n([e.currentTarget.value]),null==a||a("travelerType")},onClick:()=>{const{referrerId:e,linkName:n}=p||{};e&&n&&c(e,n)}},t.createElement(t.Fragment,null,k.map((e,n)=>e.optionValue&&e.label?t.createElement("option",{key:n,value:e.optionValue,label:e.label,"aria-selected":e.isSelected},e.label):null)))};Fn.displayName="TravelerType",Fn.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"TravelerTypeFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SortAndFilterViewModel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sortAndFilter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSelected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"optionValue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:353,source:{body:"\n  fragment TravelerTypeFragment on SortAndFilterViewModel {\n    sortAndFilter {\n      name\n      label\n      clickAnalytics {\n        linkName\n        referrerId\n      }\n      options {\n        label\n        isSelected\n        optionValue\n        description\n        clickAnalytics {\n          linkName\n          referrerId\n        }\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var fn=Fn,bn={kind:"Document",definitions:re([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PropertyFilteredReviewsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ContextInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"propertyId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchCriteria"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PropertySearchCriteriaInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"propertyInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"context"},value:{kind:"Variable",name:{kind:"Name",value:"context"}}},{kind:"Argument",name:{kind:"Name",value:"propertyId"},value:{kind:"Variable",name:{kind:"Name",value:"propertyId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"searchCriteria"},value:{kind:"Variable",name:{kind:"Name",value:"searchCriteria"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"__PropertyReviewsListFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"sortAndFilter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"TravelerTypeFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"SortTypeFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"SearchTextFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PopularMentionsFragment"},directives:[]}]}}]}}]}}]}}].concat(dn.definitions,fn.fragment.definitions,Nn.fragment.definitions,yn.fragment.definitions,pn.fragment.definitions)),loc:{start:0,end:499,source:{body:"\n  query PropertyFilteredReviewsQuery($context: ContextInput!, $propertyId: String!, $searchCriteria: PropertySearchCriteriaInput!) {\n    propertyInfo(context: $context, propertyId: $propertyId) {\n      id\n      reviewInfo(searchCriteria: $searchCriteria) {\n        ...__PropertyReviewsListFragment\n        sortAndFilter {\n          ...TravelerTypeFragment\n          ...SortTypeFragment\n          ...SearchTextFragment\n          ...PopularMentionsFragment\n        }\n      }\n    }\n  }\n  \n  \n  \n  \n  \n".concat([dn.loc.source.body,fn.fragment.loc.source.body,Nn.fragment.loc.source.body,yn.fragment.loc.source.body,pn.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},En=({inputs:{propertyId:e,pagination:n,includeRecentReviews:i,searchCriteria:l}})=>{var o,c,u,v;const{context:k}=(0,r.R)(),p=1===(0,j.useExperiment)("PDP_MM_FG_Web").exposure.bucket,{bucket:g}=(0,j.useExperiment)("Reviews_Overlay_Migration_Phase_2_No_Harm_Test_Web",!0).exposure,y=null==(c=null==(o=l.secondary)?void 0:o.selections)?void 0:c.find(e=>"requestFrom"===e.id),S=null==(v=null==(u=l.secondary)?void 0:u.selections)?void 0:v.find(e=>"searchId"===e.id),N=(null==n?void 0:n.size)||10,F=(null==n?void 0:n.startingIndex)||0,[f,b]=t.useState([]),[E,h]=t.useState(ge),[w,I]=t.useState(ye),[T,R]=t.useState(""),C=t.useRef(null),_=t.createElement(X.GZ,{inputs:{productIdentifier:{id:e,type:X.Wx.PROPERTY_ID,travelSearchCriteria:{property:l}}},skipSsr:!0}),P={context:k,propertyId:e,searchCriteria:{primary:l.primary,secondary:{booleans:[{id:"includeRecentReviews",value:null==i||i},{id:"includeRatingsOnlyReviews",value:!0},{id:"overrideEmbargoForIndividualReviews",value:!0},{id:"isFilteredSummary",value:!0}],counts:[{id:"startIndex",value:F},{id:"size",value:N}],selections:[...f.map(e=>({id:"travelerType",value:e})),{id:"sortBy",value:E},{id:"searchTerm",value:w},{id:"popularMention",value:T},...void 0!==S?[S]:[],...p&&void 0!==y?[y]:[]]}}},L=e=>{switch(e){case"search":b([]),h(ge),R("");break;case"popularMention":b([]),h(ge),I(ye);break;case"travelerType":case"sortBy":I(ye),R("");break;default:b([]),h(ge),I(ye),R("")}},A=w!==ye||""!==T?"cache-and-network":"cache-first",{data:G,previousData:$,error:z,loading:q,fetchMore:Q}=(0,a.IT)(bn,{context:{shouldLogPerformance:!0},variables:P,fetchPolicy:A,errorPolicy:"all",skip:1===g}),B=se(Q,P),K=null!=G?G:$;if(t.useEffect(()=>{var e;w.length>0&&(null==(e=C.current)||e.scrollIntoView({behavior:"smooth",block:"start"}))},[w]),1===g)return t.createElement(V.w,{space:"six"},t.createElement(O.T,null,_),t.createElement(O.T,null,t.createElement(X.y9,{inputs:{productIdentifier:{id:e,type:X.Wx.PROPERTY_ID,travelSearchCriteria:{property:l}}},skipSsr:!0})));if(q&&E===ge&&!w&&0===f.length&&!T)return t.createElement(D.X,null,t.createElement(W.P,{type:"absolute",position:{top:"center",left:"center"}},t.createElement(H.v,null),t.createElement("span",{className:"is-visually-hidden"},_)));if(z||!K)return null;const{reviewInfo:J}=K.propertyInfo;let Z=null;Z=q?t.createElement("div",{"data-stid":"property-reviews-list-loading"},t.createElement(d.g,null,Array.from(Array(3)).map((e,n)=>t.createElement(s.E,{padded:["blockstart","blockend"],border:"bottom",key:n},t.createElement(D.X,{direction:"column",space:"three"},t.createElement(x.C,null,t.createElement(U.l,{animation:!0})),t.createElement(x.C,null,t.createElement(U.l,{animation:!0,type:"secondary"})),t.createElement(x.C,null,t.createElement(M.M,{ratio:M.l.R4_1},t.createElement(Y.U,null)))))))):t.createElement("div",{"data-stid":"property-reviews-list"},t.createElement(mn,{propertyId:e,size:N,data:J,fetchMore:B,reviewsPage:"ReviewsOverlay",searchFilterOrPopularMentionFilter:"cache-and-network"===A}));const ee=t.createElement("div",{"data-stid":"property-reviews-sort"},t.createElement(Nn,{selectedSortTypes:E,setSortType:h,data:J.sortAndFilter,resetFilters:L})),ne=t.createElement("div",{"data-stid":"property-reviews-search",ref:C},t.createElement(yn,{data:J.sortAndFilter,setSearchInputVal:I,searchInputVal:w,resetFilters:L})),ie=t.createElement("div",{"data-stid":"property-reviews-popular-mentions"},t.createElement(pn,{data:J.sortAndFilter,popularMentionInput:T,resetFilters:L,setPopularMention:R,otherFiltersApplied:w!==ye||f.length>0&&"all"!==f[0]}));return t.createElement(V.w,{columns:{small:1,medium:1,large:1},space:"six"},_,t.createElement(V.w,{columns:{small:1,medium:1,large:1}},t.createElement(V.w,{columns:1},t.createElement(m.N,{margin:{blockend:"six"}},t.createElement(O.T,null,ne))),t.createElement(V.w,{columns:1},t.createElement(O.T,null,ie)),t.createElement(V.w,{columns:2,space:"six"},t.createElement(O.T,null,t.createElement(x.C,{minWidth:205},ee)),t.createElement(O.T,null,t.createElement(fn,{selectedTravelerTypes:f,setTravelerType:b,data:J.sortAndFilter,resetFilters:L}))),t.createElement(m.N,{margin:{blockstart:"six"}},t.createElement(O.T,null,Z))))};En.displayName="sharedui-PropertyFilteredReviews";_.kFY.fragment.definitions,"\n  query PropertyReviewsBreakdownQuery($context: ContextInput!, $propertyIds: [String!]!) {\n    propertyReviewSummaries(context: $context, propertyIds: $propertyIds) {\n      ...PropertyReviewsBreakdownFragment\n    }\n  }\n  \n".concat([_.kFY.fragment.loc.source.body].join("\n"));var hn=({data:e})=>{const n=be(e),i=(0,o.iQ)();if(!n)return null;const{placeholder:a,label:r,options:l,clickStreamAnalytics:d}=n;return t.createElement(o.E0,{eventData:pe("popular_mentions.presented",d)},t.createElement(m.N,{margin:{blockend:"four"},padding:{blockend:"one"}},t.createElement(D.X,{space:"two",direction:"column"},t.createElement(I.M,{tag:"h3",size:6,"aria-label":a||""},r),t.createElement(D.X,{wrap:"wrap",space:"two",direction:"row"},l.map((e,n)=>t.createElement(m.N,{key:n},t.createElement("div",{onClick:()=>(({clickStreamAnalytics:e})=>{i(pe("popular_mention.selected",e))})(e)},t.createElement(ae.G,{key:`popular-mention-${n}`,theme:"emphasis",text:e.label||""}))))))))};hn.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PopularMentionsBadgesFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"SortAndFilterViewModel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sortAndFilter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"placeholder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"showListOptions"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"seeLessLabel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"seeMoreLabel"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"ariaLabel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickStreamAnalytics"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"optionValue"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isSelected"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"clickAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"clickStreamAnalytics"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:520,source:{body:"\n  fragment PopularMentionsBadgesFragment on SortAndFilterViewModel {\n    sortAndFilter {\n      title\n      placeholder\n      label\n      name\n      showListOptions {\n        seeLessLabel\n        seeMoreLabel\n      }\n      options {\n        ariaLabel\n        clickStreamAnalytics\n        clickAnalytics {\n          referrerId\n          linkName\n        }\n        optionValue\n        label\n        isSelected\n      }\n      clickAnalytics {\n        referrerId\n        linkName\n      }\n      clickStreamAnalytics\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}},hn.displayName="PopularMentionsBadges";var wn=hn,In=(e=>(e.HIGHEST_TO_LOWEST_RATED="HIGHEST_TO_LOWEST_RATED",e.LOWEST_TO_HIGHEST_RATED="LOWEST_TO_HIGHEST_RATED",e.NEWEST_TO_OLDEST="NEWEST_TO_OLDEST",e.NEWEST_TO_OLDEST_BY_LANGUAGE="NEWEST_TO_OLDEST_BY_LANGUAGE",e.NEWEST_TO_OLDEST_BY_RELEVANCY="NEWEST_TO_OLDEST_BY_RELEVANCY",e))(In||{}),Tn={kind:"Document",definitions:re([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PropertyReviewsQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ContextInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"propertyId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"searchCriteria"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"PropertySearchCriteriaInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"propertyInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"context"},value:{kind:"Variable",name:{kind:"Name",value:"context"}}},{kind:"Argument",name:{kind:"Name",value:"propertyId"},value:{kind:"Variable",name:{kind:"Name",value:"propertyId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reviewInfo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"searchCriteria"},value:{kind:"Variable",name:{kind:"Name",value:"searchCriteria"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"seeAllReviewsCallToActionLabel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessibilityLabel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"strategy"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PropertyReviewsBreakdownFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sortAndFilter"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"PopularMentionsBadgesFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"__PropertyReviewsListFragment"},directives:[]}]}}]}}]}}].concat(_.kFY.fragment.definitions,dn.definitions,wn.fragment.definitions)),loc:{start:0,end:579,source:{body:"\n  query PropertyReviewsQuery($context: ContextInput!, $propertyId: String!, $searchCriteria: PropertySearchCriteriaInput!) {\n    propertyInfo(context: $context, propertyId: $propertyId) {\n      id\n      reviewInfo(searchCriteria: $searchCriteria) {\n        summary {\n          seeAllReviewsCallToActionLabel\n          accessibilityLabel\n          strategy\n          ...PropertyReviewsBreakdownFragment\n        }\n        sortAndFilter {\n          ...PopularMentionsBadgesFragment\n          __typename\n        }\n        ...__PropertyReviewsListFragment\n      }\n    }\n  }\n  \n  \n  \n".concat([_.kFY.fragment.loc.source.body,dn.loc.source.body,wn.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Dn=({onClickLink:e,hideManagementResponse:n,customTitle:i=null,options:{isDatelessImprovedReviewCard:c=!1,showWithSummaryIcon:u=!1}={},inputs:{propertyId:v,pagination:k,includeRecentReviews:p,isDatelessPropertyReview:g,searchCriteria:y}})=>{var S,N,F;const{context:f}=(0,r.R)(),{exposure:b}=(0,j.useExperiment)("Progressive_Disclosure_Web"),E=1===(0,j.useExperiment)("Reviews_Overlay_revamp",!1).exposure.bucket,h=(null==k?void 0:k.startingIndex)||0,w="MOBILE_PHONE"===(null==(N=null==(S=(0,r.R)().context)?void 0:S.device)?void 0:N.type),T=(0,ne.s5)({[ne.OB.SMALL]:!0,[ne.OB.MEDIUM]:!1,[ne.OB.LARGE]:!1});let D=(null==k?void 0:k.size)||10;1===b.bucket&&w&&0===h&&(D=2);const x=null==k?void 0:k.sortBy,R=x&&Object.values(In).includes(x)?x:ge,C={context:f,propertyId:v,searchCriteria:{primary:y.primary,secondary:{booleans:[{id:"includeRecentReviews",value:null==p||p},{id:"includeRatingsOnlyReviews",value:!0},{id:"overrideEmbargoForIndividualReviews",value:!1},{id:"isReviewsSummary",value:!0},{id:"isFilteredSummary",value:!1},{id:"isDatelessPropertyReview",value:null!=g&&g}],counts:[{id:"startIndex",value:h},{id:"size",value:D}],selections:[{id:"sortBy",value:R},...g?[{id:"popularMention",value:""}]:[],...(null==(F=y.secondary)?void 0:F.selections)||[]]}}},P=(0,o.KY)(),L=t.useCallback(()=>{e&&(P(ve,ke),e())},[e,P]),A=t.memo(()=>t.createElement(t.Fragment,null,E?t.createElement(X.D_,{inputs:{productIdentifier:{id:v,type:X.Wx.PROPERTY_ID,travelSearchCriteria:{property:y}}}}):t.createElement(X.C7,{inputs:{productIdentifier:{id:v,type:X.Wx.PROPERTY_ID,travelSearchCriteria:{property:y}}},skipSsr:!0})));A.displayName="PropertyFilteredReviewsDialogContent";const M=(0,t.useMemo)(()=>({PropertyFilteredReviewsDialogContent:A}),[A]),{data:G,error:$,loading:z,fetchMore:q}=(0,a.IT)(Tn,{context:{shouldLogPerformance:!0},variables:C,errorPolicy:"all",fetchPolicy:c?"no-cache":"cache-first"});if($||z||!G)return null;const{summary:Q,reviews:B,noResultsMessage:W,sortAndFilter:H}=G.propertyInfo.reviewInfo,U={clientPayload:fe("reviews.presented",Ne,"pdp",Fe)};if(!Q)return null;const Y=se(q,C),{seeAllReviewsCallToActionLabel:K,accessibilityLabel:J,strategy:Z,totalCount:{raw:ee}}=Q;if(!W&&0===ee)return null;const ie=be(H),ae=t.createElement(t.Fragment,null,t.createElement(O.T,{colSpan:{small:1,medium:1,large:1}},t.createElement("div",null,t.createElement(m.N,{padding:{blockstart:"three",inline:"three",large:{blockend:"three"}}},t.createElement("div",null,t.createElement(_.kFY,{data:Q,onClickLink:L,reviewPage:"Reviews".valueOf()}))))),t.createElement(O.T,{colSpan:{small:1,medium:1,large:2}},t.createElement("div",null,g&&ie&&t.createElement(m.N,{padding:{blockstart:"three",inline:"three"}},t.createElement("div",null,t.createElement(wn,{data:H}),t.createElement(te.j,{inputs:{productIdentifier:{id:v,type:te.W.PROPERTY_ID,travelSearchCriteria:{property:{primary:y.primary,secondary:{booleans:[{id:"isDatelessPropertyReview",value:Boolean(g)}]}}}}}}))),t.createElement("h2",{className:"is-visually-hidden"},J),t.createElement(mn,{size:D,data:G.propertyInfo.reviewInfo,fetchMore:Y,hideManagementResponse:n,showLoadMoreCTA:!1,propertyId:v,reviewsPage:"Reviews",isDatelessImprovedReviewCard:c}),K&&e&&B.length>0&&t.createElement(m.N,{margin:{block:"three"},padding:c?{inlinestart:"three"}:void 0},t.createElement("div",null,t.createElement(l.y,{onClick:L},K)))))),re=t.createElement(V.w,{rows:["min-content"]},t.createElement(O.T,null,t.createElement(V.w,{columns:{small:1,medium:3,large:3}},t.createElement(O.T,{colSpan:{medium:1,large:1}},t.createElement("div",null,t.createElement(m.N,{padding:{medium:{blockstart:"three"},inline:"three"}},t.createElement("div",null,i&&t.createElement(m.N,{padding:{blockend:"three"}},t.createElement("div",{id:"propertyReviewsTitle","data-testid":"propertyReviewsTitle"},t.createElement(I.M,{tag:"h2",size:4,typeStyle:{customStyle:"headline-large"}},i))),t.createElement(_.kFY,{data:Q,onClickLink:L,reviewPage:"Reviews".valueOf(),showSummary:!u,showRating:!u,showWithIcon:u}))))),t.createElement(O.T,{colSpan:{small:1,medium:2,large:2}},t.createElement("div",null,t.createElement(m.N,{padding:{small:{inline:"three"},medium:{inline:"unset"}}},t.createElement("div",null,T&&t.createElement(_.Ql0,{data:Q}),t.createElement(_.vo3,{data:Q,showWithIcon:!0}))))))),t.createElement(O.T,null,t.createElement(V.w,{columns:{small:1,medium:1,large:3}},t.createElement(O.T,{colSpan:{small:1,medium:2,large:1}},t.createElement("div",null,t.createElement(m.N,{padding:{blockstart:"two",inline:"three"}},t.createElement("div",null,!T&&t.createElement(_.Ql0,{data:Q}),t.createElement(te.j,{inputs:{productIdentifier:{id:v,type:te.W.PROPERTY_ID,travelSearchCriteria:{property:{primary:y.primary,secondary:{booleans:[{id:"isDatelessPropertyReview",value:Boolean(g)}]}}}}}}))))),t.createElement(O.T,{colSpan:{small:1,medium:2,large:2}},t.createElement("div",null,g&&ie&&t.createElement(m.N,{padding:{blockstart:"three",inline:"three"}},t.createElement("div",null,t.createElement(wn,{data:H}))),t.createElement("h2",{className:"is-visually-hidden"},J),t.createElement(mn,{size:D,data:G.propertyInfo.reviewInfo,fetchMore:Y,hideManagementResponse:n,showLoadMoreCTA:!1,propertyId:v,reviewsPage:"Reviews",isDatelessImprovedReviewCard:c}),K&&e&&B.length>0&&t.createElement(m.N,{margin:{block:"three"},padding:c?{inlinestart:"three"}:void 0},t.createElement("div",null,t.createElement(l.y,{onClick:L},K)))))))),le=t.createElement(O.T,{colSpan:{small:1,medium:1,large:1}},t.createElement("div",null,t.createElement(m.N,{padding:{blockstart:"three",inline:"three",large:{blockend:"three"}}},t.createElement("div",null,t.createElement(_.kFY,{data:Q,onClickLink:L,reviewPage:"Reviews".valueOf()})))));return t.createElement(_.TAJ.Provider,{value:M},t.createElement(o.E0,{eventData:U},t.createElement(d.g,null,t.createElement(s.E,null,t.createElement("h2",{className:"is-visually-hidden"},J),u&&"EXTERNAL_REVIEWS"!==Z?re:t.createElement(V.w,{columns:{small:1,medium:1,large:3}},"EXTERNAL_REVIEWS"===Z?le:ae)))))};Dn.displayName="sharedui-PropertyReviews"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/landing-pwa/shared-ui-lodging-reviews.96ad7619cc1dd658331a.js.map