/*@license For license information please refer to shared-ui-global-navigation-picker.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9543],{14018:function(e,n,a){a.d(n,{LC:function(){return $},wv:function(){return D}});var i=a(96540),t=a(86663),l=a(6205),r=a(8997),d=a(6057),m=a(59836),s=a(25859),c=a(53735),o=a(28667),u=a(65113),g=a(84286),k=a(39859),v=a(92760),N=a(2507),p=a(26143),f=a(28155),y=a(72195),S=a(85911),E=a(80105),b=a(1023),F=a(22913),T=a(22828),h=a(39656),_=a(93065),P=a(92416),L=a(14679),I=a(62152);const C=e=>{const n={};return e.filter(e=>{if("FragmentDefinition"!==e.kind)return!0;const a=e.name.value;return!n[a]&&(n[a]=!0,!0)})};var D=(e=>(e.MENU_ITEM="MENU_ITEM",e.NAV_LINK="NAV_LINK",e))(D||{}),x=/\{value\}/g,A=(e,n)=>{const a=n.replace(/\s/,"");return e.replace(x,a)},O=e=>{const{data:n,updateQueryParams:a}=e,{disabled:t,heading:l,queryParameterName:r,options:d,onChangeAnalytics:m}=n,s=d.find(e=>!0===e.selected),[c,o]=i.useState((null==s?void 0:s.value)||""),u=(0,T.KY)();i.useEffect(()=>o((null==s?void 0:s.value)||""),[s]);return d.length?i.createElement(L._,{id:"currency-selector",label:l,value:c,onChange:e=>{var n;const i=e.target.value,t=(null==m?void 0:m.referrerId)?A(null==m?void 0:m.referrerId,i):"";u(t,null!=(n=null==m?void 0:m.linkName)?n:""),o(i),a(r,i,(null==s?void 0:s.value)||null)},disabled:t},d.map(e=>i.createElement("option",{key:e.value,value:e.value},e.name))):null};O.displayName="CurrencySelector",O.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"CurrencySelectorFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CurrencySelector"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"heading"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"queryParameterName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"onChangeAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:231,source:{body:"\n  fragment CurrencySelectorFragment on CurrencySelector {\n    disabled\n    heading\n    queryParameterName\n    options {\n      name\n      selected\n      value\n    }\n    onChangeAnalytics {\n      linkName\n      referrerId\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}},__typename:"CurrencySelector"};var V=e=>{const{data:n,updateQueryParams:a}=e,{heading:t,options:l,queryParameterName:r,onChangeAnalytics:d}=n,m=l.find(e=>!0===e.selected),[s,c]=i.useState((null==m?void 0:m.value)||""),o=(0,T.KY)();i.useEffect(()=>c((null==m?void 0:m.value)||""),[m]);return l.length?i.createElement(L._,{id:"language-selector",label:t,value:s,onChange:e=>{var n;const{selectedIndex:i}=e.target.options,{name:t}=l[i],s=(null==d?void 0:d.referrerId)?A(null==d?void 0:d.referrerId,t):"";o(s,null!=(n=null==d?void 0:d.linkName)?n:"");const u=e.target.value;c(u),a(r,u,(null==m?void 0:m.value)||null)},"aria-label":t},l.map(e=>i.createElement("option",{key:e.value,value:e.value},e.name))):null};V.displayName="LanguageSelector",V.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"LanguageSelectorFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"LanguageSelector"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"heading"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"queryParameterName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"onChangeAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:218,source:{body:"\n  fragment LanguageSelectorFragment on LanguageSelector {\n    heading\n    queryParameterName\n    options {\n      name\n      selected\n      value\n    }\n    onChangeAnalytics {\n      linkName\n      referrerId\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}},__typename:"LanguageSelector"};var K=e=>{const{refetch:n,data:a}=e,{heading:t,options:l,onChangeAnalytics:r,disabled:d}=a,m=l.find(e=>!0===e.selected),[s,c]=i.useState((null==m?void 0:m.value)||""),o=(0,T.KY)();return l.length?i.createElement(L._,{id:"site-selector","data-stid":"site-selector",label:t,value:s,onChange:e=>{var a;const{selectedIndex:i}=e.target.options,{name:t}=l[i],d=(null==r?void 0:r.referrerId)?A(null==r?void 0:r.referrerId,t):"";o(d,null!=(a=null==r?void 0:r.linkName)?a:"");const m=e.target.value;c(m),n({selectedSiteId:Number(m)})},disabled:d,"aria-label":t},l.map(e=>i.createElement("option",{key:e.value,value:e.value},e.name))):null};K.displayName="PosSelector",K.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"PosSelectorFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PosSelector"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"heading"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"selected"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"onChangeAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:198,source:{body:"\n  fragment PosSelectorFragment on PosSelector {\n    disabled\n    heading\n    options {\n      name\n      selected\n      value\n    }\n    onChangeAnalytics {\n      linkName\n      referrerId\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}},__typename:"PosSelector"};var M=({data:e})=>{const{oneKeyMessagingHeading:n,oneKeyMessagingSubHeading:a}=e;return i.createElement(i.Fragment,null,n&&i.createElement(y.N,{padding:{inline:"four",blockstart:"six"}},i.createElement(c.X,null,i.createElement(o.C,null,i.createElement(y.N,{margin:{inlinestart:"two",inlineend:"three"}},i.createElement(s.LD,{name:"warning"}))),i.createElement(o.C,null,i.createElement("div",{"data-stid":"picker-one-key-heading"},i.createElement(I.M,{size:6},n))))),a&&i.createElement(y.N,{padding:{inline:"six",blockstart:"six"}},i.createElement("div",{"data-stid":"picker-one-key-subheading"},i.createElement(S.D,{size:400},a))))};M.displayName="OneKeyMessaging",M.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"OneKeyMessagingFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Picker"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oneKeyMessagingHeading"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oneKeyMessagingSubHeading"},arguments:[],directives:[]}]}}],loc:{start:0,end:109,source:{body:"\n  fragment OneKeyMessagingFragment on Picker {\n    oneKeyMessagingHeading\n    oneKeyMessagingSubHeading\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var q={kind:"Document",definitions:C([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LocalePreferencesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ContextInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"lineOfBusiness"}},type:{kind:"NamedType",name:{kind:"Name",value:"GlobalNavigationLineOfBusiness"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pickerTriggerPlacementType"}},type:{kind:"NamedType",name:{kind:"Name",value:"PickerTriggerPlacementType"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"selectedSiteId"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pageName"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"localePreferences"},arguments:[{kind:"Argument",name:{kind:"Name",value:"context"},value:{kind:"Variable",name:{kind:"Name",value:"context"}}},{kind:"Argument",name:{kind:"Name",value:"lineOfBusiness"},value:{kind:"Variable",name:{kind:"Name",value:"lineOfBusiness"}}},{kind:"Argument",name:{kind:"Name",value:"pickerTriggerPlacementType"},value:{kind:"Variable",name:{kind:"Name",value:"pickerTriggerPlacementType"}}},{kind:"Argument",name:{kind:"Name",value:"selectedSiteId"},value:{kind:"Variable",name:{kind:"Name",value:"selectedSiteId"}}},{kind:"Argument",name:{kind:"Name",value:"pageName"},value:{kind:"Variable",name:{kind:"Name",value:"pageName"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"heading"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closeDialogText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"submitText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bannerText"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"OneKeyMessagingFragment"},directives:[]},{kind:"Field",name:{kind:"Name",value:"urlToSubmit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"queryParamsToSubmit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"trigger"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"iconName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"flagName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"trackingEvent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"preferences"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"CurrencySelectorFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"LanguageSelectorFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"PosSelectorFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"impressionAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"saveAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}}]}}]}}].concat(O.fragment.definitions,V.fragment.definitions,K.fragment.definitions,M.fragment.definitions)),loc:{start:0,end:1051,source:{body:"\n  query LocalePreferencesQuery(\n    $context: ContextInput!\n    $lineOfBusiness: GlobalNavigationLineOfBusiness\n    $pickerTriggerPlacementType: PickerTriggerPlacementType\n    $selectedSiteId: Int\n    $pageName: String\n  ) {\n    localePreferences(\n      context: $context\n      lineOfBusiness: $lineOfBusiness\n      pickerTriggerPlacementType: $pickerTriggerPlacementType\n      selectedSiteId: $selectedSiteId\n      pageName: $pageName\n    ) {\n      heading\n      closeDialogText\n      submitText\n      bannerText\n      ...OneKeyMessagingFragment\n      urlToSubmit\n      queryParamsToSubmit {\n        key\n        value\n      }\n      trigger {\n        iconName\n        text\n        flagName\n        trackingEvent\n        displayType\n      }\n      preferences {\n        __typename\n        ...CurrencySelectorFragment\n        ...LanguageSelectorFragment\n        ...PosSelectorFragment\n      }\n      impressionAnalytics {\n        linkName\n        referrerId\n      }\n      saveAnalytics {\n        linkName\n        referrerId\n      }\n    }\n  }\n  \n  \n  \n  \n".concat([O.fragment.loc.source.body,V.fragment.loc.source.body,K.fragment.loc.source.body,M.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},B=[O,V,K],w=({content:e})=>i.createElement(l.O,{fullWidth:!0},i.createElement(y.N,{padding:{block:"one"}},i.createElement(c.X,{alignItems:"center",space:"two"},i.createElement(o.C,null,i.createElement(y.N,{margin:{inlinestart:"four",inlineend:"six"}},i.createElement(s.LD,{name:"info_outline"}))),i.createElement(o.C,null,i.createElement("div",{"data-stid":"picker-banner-text"},i.createElement(S.D,null,e)))))),$=e=>{var n,a;const{skipSsr:l,lineOfBusiness:c,pickerTriggerPlacementType:o,inverseTheme:S,pageName:L}=e,{context:I}=(0,F.R)(),C={context:I,lineOfBusiness:c,pickerTriggerPlacementType:o,pageName:L},{data:D,error:x,loading:A,refetch:O,networkStatus:V}=(0,b.IT)(q,{context:{shouldLogPerformance:!0},variables:C,ssr:!l}),[K,$,Q]=(0,h.useDialog)("disp-settings-picker"),G=i.useRef(null),z=(0,T.KY)(),R=(0,_.useExperiment)("Shared_UI_Remove_Deprecated_UITK_Nav_Button").exposure.bucket>0,H=i.useCallback(()=>{$.closeDialog()},[$]),U={},Y=(e,n,a)=>{n===a?delete U[e]:U[e]=n},j=()=>{var e,n,a;$.closeDialog();const i=null==(e=null==D?void 0:D.localePreferences)?void 0:e.saveAnalytics;(null==i?void 0:i.referrerId)&&z(i.referrerId,(null==i?void 0:i.linkName)||"Picker button");const l=null==(n=null==D?void 0:D.localePreferences)?void 0:n.urlToSubmit,r=(null==(a=null==D?void 0:D.localePreferences)?void 0:a.queryParamsToSubmit)||[],d={};r.forEach(e=>{d[e.key]=e.value});const m=Object.keys(r).length>0,s=Object.keys(U).length>0;if(l||m||s)if(l){const e=t.stringify({...d,...U});window.location.href=e?`${l}?${e}`:l}else{const e=t.parse(window.location.search),n=t.stringify({...e,...d,...U});window.location.search=n}};if(A&&!(2===V||4===V)||x||!D)return null;const{localePreferences:W}=D,{preferences:X,trigger:J,heading:Z,closeDialogText:ee,submitText:ne,bannerText:ae,impressionAnalytics:ie}=W;if(!X||!X.length)return null;const te=()=>{z(J.trackingEvent,""),$.toggleDialog()},le=i.createElement(i.Fragment,null,J.iconName&&i.createElement(y.N,{margin:{inlineend:"one"}},i.createElement(s.LD,{name:J.iconName,size:s.So.SMALL})),i.createElement(y.N,{margin:{inline:"one"}},i.createElement("span",null,J.text)),J.flagName&&i.createElement(y.N,{margin:{inlinestart:"one"}},i.createElement(g.n,{id:J.flagName,name:J.flagName,title:J.flagName,description:J.flagName}))),re=i.createElement(i.Fragment,null,J.iconName&&i.createElement(y.N,{padding:{inlineend:"two"}},i.createElement(s.LD,{id:J.iconName,name:J.iconName,size:s.So.SMALL,title:J.iconName,description:J.iconName})),J.text,J.flagName&&i.createElement(y.N,{padding:{inlinestart:"two"}},i.createElement(g.n,{name:J.flagName}))),de=i.createElement(i.Fragment,null,J.iconName&&i.createElement(s.LD,{name:J.iconName,size:s.So.SMALL}),J.text,J.flagName&&i.createElement(g.n,{name:J.flagName})),me=i.createElement(N.K,{isVisible:K},i.createElement(Q,null,i.createElement(P.LM,null,i.createElement(P.NP,null,i.createElement(p.t,{isVisible:K,returnFocusOnClose:!0,type:"full",triggerRef:G},i.createElement(E.p,{toolbarTitle:Z,key:"picker-dialog-toolbar",navigationContent:{onClick:H,navIconLabel:ee,navType:"close"}}),ae&&i.createElement(w,{content:ae}),i.createElement(M,{data:D.localePreferences}),i.createElement(f.Y,null,X.map(e=>{if(!e)return null;const n=B.find(n=>n.fragment.__typename===e.__typename);return n?i.createElement(y.N,{margin:{block:"three"},key:`selector-${e.__typename}`},i.createElement("div",null,i.createElement(n,{refetch:O,data:e,updateQueryParams:Y}))):null}),i.createElement(k.O,{type:v.Q.BUTTON},i.createElement(r.t,{isFullWidth:!0,size:d.V.LARGE,onClick:j},ne))))),i.createElement(P.zQ,null,i.createElement(p.t,{isVisible:K,returnFocusOnClose:!0,type:"centered",centeredSheetSize:"small",triggerRef:G},i.createElement(E.p,{toolbarTitle:Z,key:"picker-dialog-toolbar",navigationContent:{onClick:H,navIconLabel:ee,navType:"close"}}),i.createElement(f.Y,{padded:!1},ae&&i.createElement(w,{content:ae}),i.createElement(M,{data:D.localePreferences})),i.createElement(f.Y,null,X.map(e=>{if(!e)return null;const n=B.find(n=>n.fragment.__typename===e.__typename);return n?i.createElement(y.N,{margin:{block:"three"},key:`selector-${e.__typename}`},i.createElement("div",null,i.createElement(n,{refetch:O,data:e,updateQueryParams:Y}))):null}),i.createElement(r.t,{isFullWidth:!0,size:d.V.LARGE,onClick:j},ne)))))));return i.createElement(i.Fragment,null,"GLOBAL_NAV_LINK"===J.displayType?i.createElement(y.N,{padding:{block:"three",inline:"six"}},i.createElement(u.i,{className:"uitk-list-item",onClick:te,"data-stid":"link-type-picker-trigger",domRef:G},i.createElement("button",{type:"button"},de))):i.createElement(y.N,{margin:R?{small:{inline:"one"},large:{inline:"two"}}:void 0},i.createElement(m.q,{className:R?void 0:"global-navigation-nav-button",onClick:te,"data-stid":"button-type-picker-trigger",domRef:G,inverse:S},null===J.iconName?le:re)),K&&((null==ie?void 0:ie.referrerId)?i.createElement(T.ee,{referrerId:null!=(n=null==ie?void 0:ie.referrerId)?n:"",linkName:null!=(a=null==ie?void 0:ie.linkName)?a:""},me):me))};$.displayName="sharedui-Picker"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/landing-pwa/shared-ui-global-navigation-picker.ef0d2b6f81f084db33c1.js.map