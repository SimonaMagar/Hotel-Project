/*@license For license information please refer to shared-ui-retail-product-rating-summary.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[7620],{60593:function(e,t,n){n.d(t,{Pc:function(){return ce}});var i=n(96540),a=n(47848),r=n(98750),l=n(53735),s=n(28667),d=n(72195),c=n(62152),m=n(1023),o=n(22913),u=n(22828),g=n(93065),v=n(3418),p=n(92416),k=n(97222),y=n(8983),S=n(77950),E=n(25859),N=n(46414),f=n(2507),F=n(26143),b=n(85911),h=n(80105),x=n(39656),R=n(85215),P=n(28155),w=n(20780),C=n(65113),D=n(76918),I=n(66420),_=n(68370),T=n(45514),L=n(23211),M=n(99374);const A=e=>{const t={};return e.filter(e=>{if("FragmentDefinition"!==e.kind)return!0;const n=e.name.value;return!t[n]&&(t[n]=!0,!0)})};var G=i.createContext({}),O=({categories:e})=>{if(!Array.isArray(e))return null;const t=e.length,n=t=>t===e.length-1;return i.createElement(y.w,{columns:[(0,S.kM)(t,"auto")],alignItems:"stretch",role:"list","data-stid":"reviews-category-section-column-view"},null==e?void 0:e.map((e,t)=>i.createElement(d.N,{padding:{inline:"four"},border:n(t)?["unset"]:["inlineend"],key:`score-category-${t}`},i.createElement("div",{"aria-label":e.accessibility||`${e.categoryType} - ${e.categoryScore}`,role:"listitem"},i.createElement(l.X,{direction:"column",alignItems:"start",space:"two"},i.createElement(s.C,{alignSelf:"center"},e.categoryScore&&i.createElement(k.Z3,{data:e.categoryScore,size:300,skipScreenReader:!0,align:"center",weight:"medium"})),i.createElement(s.C,{alignSelf:"center"},e.categoryType&&i.createElement(k.Z3,{data:e.categoryType,inline:!0,size:200,skipScreenReader:!0,align:"center",weight:"medium"})))))))};O.displayName="CategorySectionColumnView";var V=({categories:e})=>{const t=(0,p.s5)({[p.OB.SMALL]:!0,[p.OB.MEDIUM]:!1});return i.createElement(d.N,{padding:{blockstart:"three"}},i.createElement(y.w,{columns:2,space:"one",role:"list","data-stid":"reviews-category-section-row-view"},null==e?void 0:e.map((e,n)=>i.createElement("div",{key:`score-category-${n}`,"aria-label":e.accessibility||`${e.categoryType} - ${e.categoryScore}`,role:"listitem"},i.createElement(l.X,{direction:"row",alignItems:"start",space:"two"},i.createElement(s.C,null,e.categoryScore&&i.createElement(k.Z3,{data:e.categoryScore,size:300,skipScreenReader:!0,weight:"medium"})),i.createElement(s.C,null,e.categoryType&&i.createElement(k.Z3,{data:e.categoryType,inline:!0,size:300,skipScreenReader:!0,weight:t?"medium":"regular"})))))))};V.displayName="CategorySectionRowView";var z={kind:"Document",definitions:A([{kind:"FragmentDefinition",name:{kind:"Name",value:"CategorySectionFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ReviewsCategorySection"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"categories"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"categoryScore"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSStylizedTextFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"categoryType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSStylizedTextFragment"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"heading"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}].concat(k.Z3.fragment.definitions)),loc:{start:0,end:276,source:{body:"\n  fragment CategorySectionFragment on ReviewsCategorySection {\n    categories {\n      accessibility\n      categoryScore {\n        ...EGDSStylizedTextFragment\n      }\n      categoryType {\n        ...EGDSStylizedTextFragment\n      }\n    }\n    heading {\n      text\n    }\n  }\n  \n".concat([k.Z3.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},$=({data:e,isRowLayout:t})=>{const{categories:n,heading:a}=e,{text:r}=a||{};return n&&0!==n.length?i.createElement(i.Fragment,null,a&&i.createElement(c.M,{tag:"h3",className:"is-visually-hidden"},r),t?i.createElement(V,{categories:n}):i.createElement(O,{categories:n})):null};$.displayName="CategorySection",$.fragment=z;var q=({data:e})=>{const{title:t,content:n}=e,[a,r]=i.useState(!1);return i.createElement(P.Y,null,i.createElement(b.D,{weight:"bold",size:400},t),i.createElement(d.N,{margin:{blockstart:"six"}},i.createElement(R.A,{isVisible:a,handleClick:()=>r(e=>!e),items:1},null==n?void 0:n.map((e,t)=>i.createElement(w.u,{key:t},"EGDSPlainText"===(null==e?void 0:e.__typename)&&(null==e?void 0:e.text))))))};q.displayName="ProductExternalReviewsMessage";var B={kind:"Document",definitions:A([{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductExternalReviewsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductTextInfoSection"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductExternalReviewsMessageFragment"},directives:[]}]}}]}}].concat((q.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductExternalReviewsMessageFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"PopUpMessage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSPlainText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"openAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"eventType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:248,source:{body:"\n  fragment ProductExternalReviewsMessageFragment on PopUpMessage {\n    title\n    content {\n      ... on EGDSPlainText {\n        accessibility\n        text\n      }\n    }\n    openAnalytics {\n      eventType\n      linkName\n      referrerId\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}}).definitions)),loc:{start:0,end:230,source:{body:"\n  fragment ProductExternalReviewsFragment on ProductTextInfoSection {\n    title {\n      text\n    }\n    icon {\n      id\n      description\n      token\n    }\n    message {\n      ...ProductExternalReviewsMessageFragment\n    }\n  }\n  \n".concat([q.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},Q=({data:e})=>{const{title:t,icon:n,message:a}=e,[r,s,c]=(0,x.useDialog)("product-external-reviews-dialog"),m=i.useRef(null),g=(0,p.eg)({viewSizes:p.pf}),{context:v}=(0,o.R)(),k=(0,u.KY)(),y=(0===g?"DESKTOP"===v.device.type||"MOBILE_TABLET"===v.device.type:g>p.pf.SMALL)?"small":"medium";if(!a||!t)return null;const{openAnalytics:S}=a;return i.createElement(i.Fragment,null,i.createElement(l.X,{alignItems:"center"},i.createElement(b.D,null,i.createElement(d.N,null,i.createElement(N.t,{onClick:()=>{s.openDialog(),S&&k(S.referrerId,S.linkName)},size:"medium",weight:"regular"},i.createElement("button",{ref:m,type:"button","aria-label":t.text},t.text,i.createElement(E.LD,{name:(null==n?void 0:n.token)||"",description:null==n?void 0:n.description,id:null==n?void 0:n.id,title:null==n?void 0:n.id})))))),i.createElement(f.K,{isVisible:r},i.createElement(c,null,i.createElement(F.t,{isVisible:r,type:"centered",centeredSheetSize:y,triggerRef:m},i.createElement(h.p,{navigationContent:{onClick:()=>{s.closeDialog()},navIconLabel:"close toolbar",navType:"close"}}),a&&i.createElement(q,{data:a})))))};Q.displayName="ProductExternalReviews",Q.fragment=B;var X=({data:{seoData:e}})=>i.createElement("div",{itemProp:"aggregateRating",itemScope:!0,itemType:"https://schema.org/AggregateRating"},e.map(({itemprop:e,content:t})=>t?i.createElement("meta",{itemProp:e,content:t,key:e}):null));X.displayName="ProductRatingMetadata",X.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductRatingMetadataFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductRatingMetadata"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"seoData"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemprop"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemscope"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:138,source:{body:"\n  fragment ProductRatingMetadataFragment on ProductRatingMetadata {\n    seoData {\n      itemprop\n      content\n      itemscope\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}},__typename:"ProductRatingMetadata"};var U=({triggerRef:e,dialogType:t,sheetType:n,sheetHeight:a,toolbarData:r})=>{var l,s,d,c,m,o;const[v,p,k]=(0,x.useDialog)(t,"pwaDialog"),{productIdentifier:y}=i.useContext(G),S=1===(0,g.useExperiment)("Reviews_Overlay_revamp",!1).exposure.bucket,{id:E}=y,N=(0,u.KY)(),b=i.createRef(),R=(0,i.useCallback)(()=>{p.closeDialog()},[p]),w=null==y?void 0:y.travelSearchCriteria;if(!(null==(l=null==w?void 0:w.property)?void 0:l.primary))return null;const C={primary:null==(s=null==w?void 0:w.property)?void 0:s.primary,secondary:null==(d=null==w?void 0:w.property)?void 0:d.secondary},{action:I}=r,_={id:(null==(c=I.closeAnalytics)?void 0:c.referrerId)||"",callback:()=>{var e,t;return N((null==(e=I.closeAnalytics)?void 0:e.referrerId)||"",(null==(t=I.closeAnalytics)?void 0:t.linkName)||"")}},T=i.createElement(D.Ub,{isDialogOpen:!0,triggerRef:e,scrollRef:b,DialogComponent:k,inputs:{productIdentifier:y}},i.createElement(h.p,{toolbarTitle:I.title||"",navigationContent:{onClick:R,navIconLabel:null==(m=null==I?void 0:I.icon)?void 0:m.description,onClickAnalytics:_,navType:"close",navButtonId:"reviews-dialog-close"},contentDomRef:b}));return i.createElement(i.Fragment,null,S?T:i.createElement(f.K,{isVisible:v},i.createElement(k,null,i.createElement(F.t,{type:n,height:a,isVisible:v,returnFocusOnClose:!0,triggerRef:e},i.createElement(h.p,{toolbarTitle:I.title||"",navigationContent:{onClick:R,navIconLabel:null==(o=null==I?void 0:I.icon)?void 0:o.description,onClickAnalytics:_,navType:"close",navButtonId:"reviews-dialog-close"},contentDomRef:b}),i.createElement(P.Y,{contentDomRef:b},i.createElement(D.C7,{inputs:{productIdentifier:{id:E,type:D.Wx.PROPERTY_ID,travelSearchCriteria:{property:C}}},skipSsr:!0}))))))};U.displayName="ReviewsDialog";var K=({dialogType:e,triggerRef:t,toolbarData:n})=>i.createElement(p.LM,null,i.createElement(p.NP,null,i.createElement(U,{dialogType:e,triggerRef:t,sheetType:"full",toolbarData:n})),i.createElement(p.rw,null,i.createElement(U,{dialogType:e,sheetHeight:1200,triggerRef:t,sheetType:"centered",toolbarData:n})));K.displayName="ReviewsDialogWrapper";var H=({data:e})=>{var t,n,a;const[,r]=(0,x.useDialog)("product-reviews","pwaDialog"),l=i.useRef(null),s=(0,u.KY)(),d=(0,i.useCallback)(()=>{r.openDialog()},[r]),c=(0,i.useCallback)(()=>{const{link:t}=e;if(t.action.analytics){const{linkName:e,referrerId:n,uisPrimeMessages:i}=t.action.analytics,a=i.map(({messageContent:e,schemaName:t})=>({messageContent:JSON.parse(e),schemaName:t}));s(n,e,void 0,a)}d()},[e,s,d]);if(!e||!(null==(t=null==e?void 0:e.link)?void 0:t.text))return null;const{link:m}=e;return i.createElement(i.Fragment,null,i.createElement(C.i,{onClick:c,domRef:l},i.createElement("button",{type:"button","data-stid":"reviews-link","aria-label":null!=(n=e.accessibilityText)?n:void 0},m.text,i.createElement(E.LD,{name:(null==(a=m.icon)?void 0:a.token)||""}))),i.createElement(K,{dialogType:"product-reviews",triggerRef:l,toolbarData:e}))};H.displayName="ProductRatingLink";var W=({data:e})=>(e=>{switch(e.__typename){case"EGDSPlainText":return(null==e?void 0:e.text)&&i.createElement(d.N,{margin:{blockend:"two"}},i.createElement(b.D,null,e.text),";");case"ProductRatingLink":return i.createElement(H,{data:e});default:return null}})(e);W.displayName="ProductRatingSupportingMessages",W.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductRatingSupportingMessagesFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductRatingSupportingMessage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSPlainText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductRatingLink"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"link"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"disabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"useRelativePath"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"analytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"eventType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"uisPrimeMessages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"schemaName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messageContent"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"closeAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"eventType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"accessibilityText"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:799,source:{body:"\n  fragment ProductRatingSupportingMessagesFragment on ProductRatingSupportingMessage {\n    ... on EGDSPlainText {\n      text\n      accessibility\n    }\n    ... on ProductRatingLink {\n      link {\n        text\n        disabled\n        action {\n          target\n          useRelativePath\n          analytics {\n            eventType\n            linkName\n            referrerId\n            uisPrimeMessages {\n              schemaName\n              messageContent\n            }\n          }\n        }\n        icon {\n          token\n        }\n      }\n      action {\n        text\n        title\n        icon {\n          id\n          token\n          description\n        }\n        closeAnalytics {\n          eventType\n          linkName\n          referrerId\n        }\n      }\n      accessibilityText\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var Y=({theme:e,primary:t,secondary:n,accessibilityLabel:a,icon:r,supportingMessages:s,productIdentifierId:c,travelSearchCriteria:m,skipSsr:o,isLuxuryProperty:u=!1,isSmallFont:v})=>{const p=s&&[...s],k=null==p?void 0:p.findIndex(e=>"ProductRatingLink"===e.__typename),y=-1!==k?null==p?void 0:p.splice(k,1)[0]:null,S=1===(0,g.useExperiment)("Top_of_PDP_Redesign",!1).exposure.bucket,E=!u&&!S;return i.createElement(i.Fragment,null,i.createElement(l.X,{space:"two"},i.createElement(d.N,{margin:{blockend:u||S?"unset":"two"}},i.createElement(l.X,{alignItems:"center",space:"two"},e?i.createElement(J,{primary:t,theme:e,secondary:n,accessibilityLabel:a,isSmallFont:v}):i.createElement(ee,{primary:t,icon:r,accessibilityLabel:a}))),i.createElement(d.N,{margin:{blockend:u||S?"unset":"one"}},i.createElement(l.X,{alignItems:"center",space:"two"},y&&i.createElement(W,{data:y})))),E&&i.createElement(j,{productIdentifierId:c,travelSearchCriteria:m,skipSsr:o}),null==p?void 0:p.map((e,t)=>i.createElement(d.N,{key:`${t}-message-${e.__typename}`,margin:{inlinestart:"two"}},i.createElement(W,{data:e}))))},Z=({theme:e,primary:t,secondary:n,accessibilityLabel:a,icon:r,supportingMessages:s,productIdentifierId:c,travelSearchCriteria:m,skipSsr:o,isSmallFont:u})=>{const{bucket:v}=(0,g.useExperiment)("Top_of_PDP_Redesign",!1).exposure;return i.createElement(i.Fragment,null,i.createElement(d.N,{margin:{blockend:"two"}},i.createElement(l.X,{alignItems:"center",space:"two"},e?i.createElement(J,{primary:t,theme:e,secondary:n,accessibilityLabel:a,isSmallFont:u}):i.createElement(ee,{primary:t,icon:r,accessibilityLabel:a}))),!v&&i.createElement(j,{productIdentifierId:c,travelSearchCriteria:m,skipSsr:o}),s&&s.length>0&&s.map((e,t)=>i.createElement(d.N,{key:`${t}-message-${e.__typename}`,margin:{inlinestart:"two"}},i.createElement(W,{data:e}))))},j=({productIdentifierId:e,travelSearchCriteria:t,skipSsr:n})=>i.createElement(I.N,{inputs:{productIdentifier:{id:e,type:I.W.PROPERTY_ID,travelSearchCriteria:t}},skipSsr:!0}),J=({primary:e,theme:t,secondary:n,accessibilityLabel:a,isSmallFont:r})=>i.createElement(i.Fragment,null,e&&t&&i.createElement(k.OM,{text:e,badgeTheme:t,accessibilityLabel:a}),n&&i.createElement(b.D,{size:r?400:500,weight:"medium",whiteSpace:"nowrap"},n)),ee=({primary:e,icon:t,accessibilityLabel:n})=>i.createElement(i.Fragment,null,t&&i.createElement(E.LD,{name:t.id,size:E.So.MEDIUM,theme:t.theme||"default"}),n&&i.createElement("span",{className:"is-visually-hidden"},n),i.createElement(b.D,{size:500,weight:"bold",theme:"default","aria-hidden":null!==n},e)),te=({data:e,productIdentifierId:t,travelSearchCriteria:n,skipSsr:a,isLuxuryProperty:r=!1,inlineView:l,isSmallFont:s})=>{const{primary:d,secondary:c,theme:m,supportingMessages:o,accessibilityLabel:u,icon:v}=e||{},p={theme:m,primary:d,secondary:c,accessibilityLabel:u,icon:v,supportingMessages:o,productIdentifierId:t,travelSearchCriteria:n,skipSsr:a,isLuxuryProperty:r,isSmallFont:s},k=1===(0,g.useExperiment)("App_Shell_Property_Requirement_Web",!0).exposure.bucket,y=1===(0,g.useExperiment)("App_Shell_Property_Requirement_Web_Dateless",!0).exposure.bucket,S=l||(k||y)?Y:Z;return i.createElement(S,{...p})};te.displayName="SummaryContent",te.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"SummaryContentFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductRatingSummary"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"secondary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"theme"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accessibilityLabel"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"supportingMessages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductRatingSupportingMessagesFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"theme"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:257,source:{body:"\n  fragment SummaryContentFragment on ProductRatingSummary {\n    __typename\n    primary\n    secondary\n    theme\n    accessibilityLabel\n    supportingMessages {\n      ...ProductRatingSupportingMessagesFragment\n    }\n    icon {\n      id\n      theme\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var ne=()=>i.createElement(s.C,{alignSelf:"center"},i.createElement(y.w,{columns:[(0,S.ZF)("12x","12x")]},i.createElement(L.T,null,i.createElement(_.M,{ratio:_.l.R1_1},i.createElement(T.F,{alt:"Guest choice pictogram",src:"https://a.travel-assets.com/travel-assets-manager/pictogram-vrbo/light__trophy.svg"}))))),ie=({subtext:e,heading:t,accessibilityLabel:n})=>i.createElement(l.X,{direction:"column",justifyContent:"center"},i.createElement(s.C,null,i.createElement(c.M,{size:5,tag:"h3","aria-label":null!=n?n:void 0},t)),i.createElement(s.C,null,i.createElement(b.D,{size:200},e))),ae=e=>i.createElement(l.X,{space:"small",wrap:"nowrap"},i.createElement(ne,null),i.createElement(s.C,{shrink:1,minWidth:0},i.createElement(ie,{...e}))),re=({data:e,subtext:t,categorySection:n,isSUVR:a})=>{const{primary:r,secondary:c,supportingMessages:m,accessibilityLabel:o}=e,u=[r,c].filter(Boolean).join(" "),g=(0,p.s5)({[p.OB.LARGE]:!0}),v={heading:u,subtext:t,accessibilityLabel:o},k=i.createElement(s.C,{shrink:0},m&&(null==m?void 0:m.length)>0&&m.map((e,t)=>i.createElement(d.N,{key:`${t}-message-${e.__typename}`,padding:{blockstart:"three"}},i.createElement(W,{data:e})))),y=i.createElement(l.X,{direction:"column",alignItems:"stretch",space:"small"},i.createElement(ae,{...v}),n&&i.createElement(s.C,null,i.createElement($,{data:n,isRowLayout:!0})),k);return!a&&g?y:i.createElement(p.LM,null,i.createElement(p.rw,null,i.createElement(l.X,{wrap:"nowrap",alignItems:"stretch",space:"small"},i.createElement(s.C,{grow:0,shrink:1},i.createElement(l.X,{direction:"column",alignItems:"start",space:"two"},i.createElement(ae,{...v}),k)),n&&i.createElement(s.C,{shrink:1,grow:1,alignSelf:"center"},i.createElement("div",null,i.createElement($,{data:n,isRowLayout:!1}))))),i.createElement(p.NP,null,y))};re.displayName="GuestChoiceReviews",re.fragment=te.fragment;var le=({isAppShellPropertyVariant:e,subtext:t,inputs:n,className:a,productRatingSummary:r,isSUVR:l})=>{const{summary:s,metadata:m,sectionHeadingAccessibilityText:o,categorySection:u}=r||{};return i.createElement(G.Provider,{value:n},i.createElement(d.N,{padding:{blockend:u||e?"unset":"six"}},i.createElement("div",{className:s?a:"","data-stid":"content-hotel-reviewsummary"},m&&i.createElement(X,{data:m}),i.createElement(c.M,{tag:"h2",className:"is-visually-hidden"},o),i.createElement(re,{data:s,subtext:t,categorySection:u,isSUVR:l}))))},se=()=>i.createElement(d.N,{padding:{blockend:"six"}},i.createElement("div",null,i.createElement(l.X,{space:"two",alignItems:"center"},i.createElement(s.C,null,i.createElement(d.N,{margin:{blockend:"two"}},i.createElement(M.R,{type:"line",lineHeight:24,lineLength:"secondary"}))),i.createElement(s.C,null,i.createElement(d.N,{margin:{blockend:"two"}},i.createElement(M.R,{type:"line",animation:!0})))),i.createElement(d.N,{margin:{blockend:"two"}},i.createElement(M.R,{type:"line",animation:!0})))),de={kind:"Document",definitions:A([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ProductRatingSummaryQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productIdentifier"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ProductIdentifierInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ContextInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"productRatingSummary"},arguments:[{kind:"Argument",name:{kind:"Name",value:"productIdentifier"},value:{kind:"Variable",name:{kind:"Name",value:"productIdentifier"}}},{kind:"Argument",name:{kind:"Name",value:"context"},value:{kind:"Variable",name:{kind:"Name",value:"context"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sectionHeadingAccessibilityText"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"SummaryContentFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"metadata"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductRatingMetadataFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"info"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductExternalReviewsFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"categorySection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"CategorySectionFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"impressionAnalytics"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tnlFields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"GraphQLPairFragment"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"GraphQLPairFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GraphQLPair"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}].concat(W.fragment.definitions,X.fragment.definitions,te.fragment.definitions,Q.fragment.definitions,$.fragment.definitions)),loc:{start:0,end:681,source:{body:"\n  query ProductRatingSummaryQuery($productIdentifier: ProductIdentifierInput!, $context: ContextInput!) {\n    productRatingSummary(productIdentifier: $productIdentifier, context: $context) {\n      __typename\n      sectionHeadingAccessibilityText\n      summary {\n        ...SummaryContentFragment\n      }\n      metadata {\n        ...ProductRatingMetadataFragment\n      }\n      info {\n        ...ProductExternalReviewsFragment\n      }\n      categorySection {\n        ...CategorySectionFragment\n      }\n      impressionAnalytics\n      tnlFields {\n        ...GraphQLPairFragment\n      }\n    }\n  }\n\n  fragment GraphQLPairFragment on GraphQLPair {\n    key\n    value\n  }\n\n  \n  \n  \n  \n  \n".concat([W.fragment.loc.source.body,X.fragment.loc.source.body,te.fragment.loc.source.body,Q.fragment.loc.source.body,$.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},ce=({inputs:e,skipSsr:t,className:n,batchKey:k,isDataRequired:y=!1,prefetchedData:S,isLuxuryProperty:E=!1,isSUVR:N,isInTopOfPDPRedesignVariant:f=!1})=>{var F,b,h,x,R,P,w,C,D,I,_,T,L;const M=(0,v.kY)(),{context:A}=(0,o.R)(),O=(0,p.s5)({[p.OB.SMALL]:!0,[p.OB.MEDIUM]:!1}),V=(0,p.s5)({[p.OB.LARGE]:!0}),z={...e,context:A},q=!(null==(x=null==(h=null==(b=null==(F=null==z?void 0:z.productIdentifier)?void 0:F.travelSearchCriteria)?void 0:b.property)?void 0:h.primary)?void 0:x.dateRange),B=1===(0,g.useExperiment)("App_Shell_Property_Requirement_Web",!0).exposure.bucket,U=1===(0,g.useExperiment)("App_Shell_Property_Requirement_Web_Dateless",!0).exposure.bucket,K=B||U,{data:H,error:W,loading:Y}=(0,m.IT)(de,{context:{useApq:!0,batchKey:null!=k?k:"default-product-details-experience-batch-key",shouldLogPerformance:!0},variables:z,ssr:!t,skip:(null==(R=null==M?void 0:M.product)?void 0:R.productRatingSummary)||S}),{subtext:Z}=(e=>{const t=i.useMemo(()=>e?e.length>0?(e=>e.reduce((e,t)=>(e[t.key]=t.value,e),{}))(e):{}:null,[e]);return{subtext:t?t.egtnl61664_guestChoice_subtext:void 0}})(null!=(D=null!=S?S:null==(P=null==H?void 0:H.productRatingSummary)?void 0:P.tnlFields)?D:null==(C=null==(w=null==M?void 0:M.product)?void 0:w.productRatingSummary)?void 0:C.tnlFields),j=1===(0,g.useExperiment)("GCv3_Web_PDP_Feature_Gate",!0).exposure.bucket&&Z;if(W)return null;const J=null!=(_=null!=S?S:null==H?void 0:H.productRatingSummary)?_:null==(I=null==M?void 0:M.product)?void 0:I.productRatingSummary,{summary:ee,metadata:ne,sectionHeadingAccessibilityText:ie,info:ae,impressionAnalytics:re,categorySection:ce}=J||{},me=!N&&V,oe=!ce||O||me,ue=E||f&&oe,ge=J&&i.createElement(G.Provider,{value:e},i.createElement(d.N,{padding:{blockend:ce||K?"unset":"six"}},i.createElement("div",{className:ee?n:"","data-stid":"content-hotel-reviewsummary"},ne&&i.createElement(X,{data:ne}),i.createElement(c.M,{tag:"h2",className:"is-visually-hidden"},ie),i.createElement(l.X,{...(ve=!oe,pe=Boolean(ae),ke=Boolean(ce),ye=!O&&!V,ke||pe?pe?{direction:"row",alignItems:"center",space:"two",wrap:"wrap"}:{direction:ve?"row":"column",alignItems:ve?"stretch":void 0,space:void 0}:{direction:ye?"column":"row",alignItems:"start",space:void 0,wrap:"wrap"})},i.createElement(s.C,null,i.createElement("div",null,i.createElement(te,{data:ee,productIdentifierId:e.productIdentifier.id,isDateless:q,travelSearchCriteria:null==(T=null==z?void 0:z.productIdentifier)?void 0:T.travelSearchCriteria,skipSsr:t,isLuxuryProperty:E,inlineView:ue,isSmallFont:E||O}))),ae&&i.createElement(s.C,null,i.createElement("div",null,i.createElement(Q,{data:ae}))),ce&&i.createElement(s.C,{grow:1},i.createElement("div",null,i.createElement($,{data:ce,isRowLayout:oe})))))));var ve,pe,ke,ye;const Se={isAppShellPropertyVariant:K,subtext:Z,inputs:e,className:n,productRatingSummary:J,isSUVR:N},Ee=i.createElement(g.Experiment,{name:"Top_of_PDP_Redesign"},i.createElement(g.ExperimentControl,null,i.createElement(G.Provider,{value:e},i.createElement(d.N,{padding:{blockend:(Ne=K,Ne?"unset":"six")}},i.createElement("div",{className:ee?n:"","data-stid":"content-hotel-reviewsummary"},ne&&i.createElement(X,{data:ne}),i.createElement(c.M,{tag:"h2",className:"is-visually-hidden"},ie),i.createElement(te,{data:ee,productIdentifierId:e.productIdentifier.id,isDateless:q,travelSearchCriteria:null==(L=null==z?void 0:z.productIdentifier)?void 0:L.travelSearchCriteria,skipSsr:t,isLuxuryProperty:E,inlineView:E,isSmallFont:E}),ae&&i.createElement(Q,{data:ae}))))),i.createElement(g.ExperimentVariant,{bucket:1},ce?i.createElement(d.N,{margin:{blockstart:me?"eight":"unset",blockend:K?"unset":"six"}},i.createElement(a.g,{padded:!0,useStandardCardPadding:!0,border:!0},i.createElement(r.E,null,j?i.createElement(le,{...Se}):ge))):i.createElement(i.Fragment,null,j?i.createElement(le,{...Se}):ge)));var Ne;if(re){const e={clientPayload:{event:{event_name:"review_score.presented",event_version:"1.7.0"}},serverPayload:re};return i.createElement(u.E0,{eventData:e},Ee)}return i.createElement(i.Fragment,null,Y?i.createElement(se,null):null,!y||J?Ee:null)};ce.displayName="sharedui-ProductRatingSummary"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/landing-pwa/shared-ui-retail-product-rating-summary.6cfd2a3f3e5c18c70893.js.map