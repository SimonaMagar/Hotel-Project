/*@license For license information please refer to shared-ui-retail-product-headline.licenses.txt*/
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[372],{33393:function(e,n,t){t.d(n,{UL:function(){return G},Wx:function(){return R},zB:function(){return w}});var i=t(96540),a=t(53735),r=t(28667),l=t(58994),d=t(72195),s=t(85911),m=t(62152),c=t(14280),o=t(1023),u=t(22913),g=t(22828),p=t(93065),k=t(17033),v=t(18748),E=t(3418),S=t(92416),y=t(33387),N=t(97222),F=t(69045),D=t(25859),f=t(1843),h=t(37137),T=t(28408),I=t(99374);const P=e=>{const n={};return e.filter(e=>{if("FragmentDefinition"!==e.kind)return!0;const t=e.name.value;return!n[t]&&(n[t]=!0,!0)})};var _=(e=>(e.APARTMENT="Apartment",e.VACATION_RENTAL="VacationRental",e.VACATION_RENTALS="VacationRentals",e.BED_AND_BREAKFAST="BedAndBreakfast",e.CAMPGROUND="Campground",e.HOSTEL="Hostel",e.MOTEL="Motel",e.RESORT="Resort",e.HOUSE="House",e.CAMPINGPITCH="CampingPitch",e.ROOM="Room",e.SUITE="Suite",e))(_||{}),A=(e,n)=>{if(!e)return null;let t;try{t=JSON.parse(e)}catch(u){return null}const{"@type":a,address:r,description:l,identifier:d,latitude:s,longitude:m,starRating:c}=t;return o=a,Object.values(_).includes(o)&&1===n?i.createElement(i.Fragment,null,r&&i.createElement("div",{itemProp:"address",itemScope:!0,itemType:"https://schema.org/PostalAddress"},i.createElement("meta",{itemProp:"addressCountry",content:r.addressCountry}),i.createElement("meta",{itemProp:"addressLocality",content:r.addressLocality}),i.createElement("meta",{itemProp:"addressRegion",content:r.addressRegion}),i.createElement("meta",{itemProp:"postalCode",content:r.postalCode}),i.createElement("meta",{itemProp:"streetAddress",content:r.streetAddress})),i.createElement("script",{"data-stid":"product-headline-structured-data",type:"application/ld+json",dangerouslySetInnerHTML:{__html:e}})):i.createElement(i.Fragment,null,l&&i.createElement("meta",{itemProp:"description",content:l}),r&&i.createElement("div",{itemProp:"address",itemScope:!0,itemType:"https://schema.org/PostalAddress"},i.createElement("meta",{itemProp:"addressCountry",content:r.addressCountry}),i.createElement("meta",{itemProp:"addressLocality",content:r.addressLocality}),i.createElement("meta",{itemProp:"addressRegion",content:r.addressRegion}),i.createElement("meta",{itemProp:"postalCode",content:r.postalCode}),i.createElement("meta",{itemProp:"streetAddress",content:r.streetAddress})),(null==c?void 0:c.ratingValue)&&i.createElement("div",{itemProp:"starRating",itemScope:!0,itemType:"https://schema.org/Rating"},i.createElement("meta",{itemProp:"ratingValue",content:c.ratingValue})),s&&i.createElement("meta",{itemProp:"latitude",content:s}),m&&i.createElement("meta",{itemProp:"longitude",content:m}),d&&i.createElement("meta",{itemProp:"identifier",content:d}));var o},R=(e=>(e.ACTIVITY_ID="ACTIVITY_ID",e.CART_ID="CART_ID",e.CAR_OFFER_TOKEN="CAR_OFFER_TOKEN",e.CHECKOUT_SESSION_ID="CHECKOUT_SESSION_ID",e.ENTITY_ID="ENTITY_ID",e.LEGACY_ORDER_ID="LEGACY_ORDER_ID",e.OFFER_ID="OFFER_ID",e.ORDER_ID="ORDER_ID",e.PROPERTY_ID="PROPERTY_ID",e.SAILING_TOKEN="SAILING_TOKEN",e))(R||{}),b=({data:e,isMobileOrTablet:n})=>{var t;const{address:a}=e||{},r=(0,g.iQ)(),[l,d]=i.useState(!1),m=null==a?void 0:a.address,c=null==(t=null==a?void 0:a.message)?void 0:t.text,o=null==a?void 0:a.clickStreamAnalytics,u=null==m?void 0:m.join(", "),p="secondary";return i.createElement(i.Fragment,null,u&&i.createElement(i.Fragment,null,n?i.createElement("button",{type:"button",onClick:()=>{var e;u&&(null==(e=null==navigator?void 0:navigator.clipboard)?void 0:e.writeText)&&(navigator.clipboard.writeText(u),d(!0),o&&r((0,N.Ft)("address.selected",o)))},style:{textAlign:"left",textDecoration:"none",background:"none"}},i.createElement(s.D,{size:300,theme:p,inline:!0},u)):i.createElement(s.D,{whiteSpace:"normal",size:300,theme:p,inline:!0},u)),c&&i.createElement(y.N,{show:l,autoHide:!0,onDismiss:()=>d(!1)},c))};b.displayName="ProductAddressDetails",b.fragment={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductAddressDetailsFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductAddressDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"address"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clickStreamAnalytics"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:171,source:{body:"\n  fragment ProductAddressDetailsFragment on ProductAddressDetails {\n    address {\n      address\n      clickStreamAnalytics\n      message {\n        text\n      }\n    }\n  }\n",name:"GraphQL request",locationOffset:{line:1,column:1}}}};var x={kind:"Document",definitions:P([{kind:"FragmentDefinition",name:{kind:"Name",value:"ProductSupportingMessageFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ProductSupportingMessage"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSPlainText"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSStandardBadge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"badgeText"},name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"theme"},arguments:[],directives:[]}]}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"EGDSInlineLink"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"action"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"analytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"resource"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"HttpURI"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"relativePath"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"target"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"useRelativePath"},arguments:[],directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"EGDSGraphicTextFragment"},directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"LoyaltyDialogWithTriggerFragment"},directives:[]}]}}].concat(N.NF.fragment.definitions,T.t.fragment.definitions)),loc:{start:0,end:558,source:{body:"\n  fragment ProductSupportingMessageFragment on ProductSupportingMessage {\n    ... on EGDSPlainText {\n      text\n    }\n    ... on EGDSStandardBadge {\n      badgeText: text\n      theme\n    }\n    ... on EGDSInlineLink {\n      text\n      action {\n        analytics {\n          linkName\n          referrerId\n        }\n        resource {\n          value\n          ... on HttpURI {\n            relativePath\n          }\n        }\n        target\n        useRelativePath\n      }\n    }\n    ...EGDSGraphicTextFragment\n    ...LoyaltyDialogWithTriggerFragment\n  }\n\n  \n  \n".concat([N.NF.fragment.loc.source.body,T.t.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},C=({inline:e,data:n})=>{switch(n.__typename){case"EGDSGraphicText":return i.createElement(s.D,{inline:e},"Icon"===(t=n.graphic).__typename?i.createElement(D.LD,{id:t.id,name:t.id,size:D.So.SMALL,"aria-hidden":"true"}):"Mark"===t.__typename?i.createElement(d.N,{padding:{inlineend:"two"}},i.createElement(f.D,{url:null==(a=t.url)?void 0:a.value,size:h.K.SMALL})):void 0,n.text);case"EGDSStandardBadge":return n.badgeText?i.createElement(F.G,{text:n.badgeText,theme:n.theme}):null;case"EGDSPlainText":return i.createElement(s.D,{inline:e},null==n?void 0:n.text);case"LoyaltyDialogWithTrigger":return i.createElement(T.t,{data:n});default:return null}var t,a};C.displayName="ProductSupportingMessage";var O=()=>i.createElement(i.Fragment,null,i.createElement(d.N,{margin:{blockend:"two"}},i.createElement(I.R,{type:"line",animation:!0})),i.createElement(I.R,{type:"line",lineLength:"secondary",animation:!0})),L=()=>i.createElement(d.N,{padding:{blockend:"eight",blockstart:"four"}},i.createElement("div",null,i.createElement(a.X,{direction:"row",space:"two"},i.createElement(r.C,null,i.createElement(I.R,{type:"line",lineLength:"secondary",animation:!0}))),i.createElement(d.N,{margin:{blockstart:"two",blockend:"two"}},i.createElement(I.R,{type:"line",lineHeight:"heading-4",animation:!0})),i.createElement(a.X,{direction:"row",space:"two"},i.createElement(r.C,null,i.createElement(I.R,{type:"line",animation:!0})),i.createElement(r.C,null,i.createElement(I.R,{type:"line",lineLength:"secondary",animation:!0}))))),M={kind:"Document",definitions:P([{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ProductHeadlineQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"productIdentifier"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ProductIdentifierInput"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ContextInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"productHeadline"},arguments:[{kind:"Argument",name:{kind:"Name",value:"productIdentifier"},value:{kind:"Variable",name:{kind:"Name",value:"productIdentifier"}}},{kind:"Argument",name:{kind:"Name",value:"context"},value:{kind:"Variable",name:{kind:"Name",value:"context"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"primary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"secondary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"theme"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"accessibility"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"featuredMessages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductSupportingMessageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"highlights"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductSupportingMessageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"addressDetails"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductAddressDetailsFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"impressionAnalytics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"event"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"linkName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"referrerId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"supportingMessages"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ProductSupportingMessageFragment"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"seoStructuredData"},arguments:[],directives:[]}]}}]}}].concat((C.fragment=x).definitions,b.fragment.definitions)),loc:{start:0,end:774,source:{body:"\n  query ProductHeadlineQuery($productIdentifier: ProductIdentifierInput!, $context: ContextInput!) {\n    productHeadline(productIdentifier: $productIdentifier, context: $context) {\n      primary\n      secondary\n      rating {\n        rating\n        icon {\n          id\n          description\n          theme\n        }\n        accessibility\n      }\n      featuredMessages {\n        ...ProductSupportingMessageFragment\n      }\n      highlights {\n        ...ProductSupportingMessageFragment\n      }\n      addressDetails {\n        ...ProductAddressDetailsFragment\n      }\n      impressionAnalytics {\n        event\n        linkName\n        referrerId\n      }\n      supportingMessages {\n        ...ProductSupportingMessageFragment\n      }\n      seoStructuredData\n    }\n  }\n\n  \n  \n".concat([C.fragment.loc.source.body,b.fragment.loc.source.body].join("\n")),name:"GraphQL request",locationOffset:{line:1,column:1}}}},w=(e,n,t,i,a)=>{var r;const{context:l}=(0,u.R)(),d={...e,context:l};return(0,o.IT)(M,{context:{useApq:!0,batchKey:null!=t?t:"default-product-details-experience-batch-key",shouldLogPerformance:!0},variables:d,ssr:!n,skip:(null==(r=null==i?void 0:i.product)?void 0:r.headline)||a})},G=({inputs:e,skipSsr:n,batchKey:t,placeholderData:o,inlineRating:y=!1,headingEmphasis:N=!1,isLuxuryProperty:F=!1,prefetchedData:D,skipProductHeadlineSync:f=!0,isInTopOfPDPRedesignVariant:h=!1})=>{var T,I,P,_,R,x,M,G,H;const{setPageTitle:V}=(0,k.HU)(),{context:$}=(0,u.R)(),B=(0,E.kY)(),{data:U,error:K,loading:z}=w(e,n,t,B,D),Y=((e,n,t,a)=>(0,i.useMemo)(()=>{var i;return e||t||a?null!=(i=null!=a?a:e)?i:t:n},[e,n,t,a]))(null==U?void 0:U.productHeadline,o,null==(T=null==B?void 0:B.product)?void 0:T.headline,D),{bucket:Q}=(0,p.useExperiment)("PWA_ADD_SEO_STRUCTURED_DATA_FOR_VR_IN_PRODUCT_HEADLINE").exposure;if((0,i.useEffect)(()=>{(null==Y?void 0:Y.primary)&&f&&V({title:Y.primary})},[V,Y]),z&&!(null==Y?void 0:Y.primary))return h?i.createElement(L,null):i.createElement(O,null);if(K||!(null==Y?void 0:Y.primary))return null;const{primary:j,secondary:q,rating:W,supportingMessages:X,featuredMessages:J,highlights:Z,addressDetails:ee,seoStructuredData:ne,impressionAnalytics:te}=Y,ie=ne?A(ne,Q):null,ae="MOBILE_PHONE"===(null==(I=$.device)?void 0:I.type),re=ae||"MOBILE_TABLET"===(null==(P=$.device)?void 0:P.type),le=(null==W?void 0:W.icon.id)&&!y&&!F&&!h,de=h?i.createElement(i.Fragment,null," "):i.createElement(i.Fragment,null,"·"),se=(null==W?void 0:W.icon.id)&&y?i.createElement(i.Fragment,null,i.createElement(d.N,{padding:{inlinestart:"two"}},i.createElement("span",null)),i.createElement(l.v,{icon:"star"===W.icon.id?"star":"alternate",rating:`${W.rating}`,a11yText:null!=(_=W.accessibility)?_:void 0})):null,me=i.createElement(a.X,{direction:"row",justifyContent:"start",space:"two",alignItems:"center"},J.length>0&&J.map((e,n)=>i.createElement(r.C,{key:`featured-message-${e.__typename}-${n}`},i.createElement(d.N,{margin:{inlineend:"two"}},i.createElement(C,{data:e,inline:!0})))),F&&(null==(R=null==W?void 0:W.icon)?void 0:R.id)&&i.createElement(r.C,null,i.createElement(l.v,{icon:"star"===W.icon.id?"star":"alternate",rating:`${W.rating}`,a11yText:null!=(x=W.accessibility)?x:void 0}))),ce=i.createElement(d.N,{padding:{blockend:h?"two":"one"}},i.createElement(a.X,{space:"two",className:"uitk-type-300",alignItems:"center"},J.length>0&&i.createElement(r.C,null,i.createElement("div",null,J.map((e,n)=>i.createElement(i.Fragment,null,0!==n&&!F&&i.createElement(d.N,{margin:{inline:"half"}},i.createElement(s.D,{inline:!0},de)),i.createElement(C,{data:e,key:`featured-message-${e.__typename}-${n}`,inline:!0}))))),h&&(null==(M=null==W?void 0:W.icon)?void 0:M.id)?i.createElement(r.C,null,i.createElement(l.v,{icon:"star"===W.icon.id?"star":"alternate",rating:`${W.rating}`,a11yText:null!=(G=W.accessibility)?G:void 0})):null)),oe=i.createElement(d.N,{padding:{blockstart:"two"}},i.createElement(a.X,{space:"two",wrap:"wrap"},ee&&i.createElement(i.Fragment,null,i.createElement(r.C,null,i.createElement(b,{data:ee,isMobileOrTablet:re})),!ae&&i.createElement(r.C,null,i.createElement("div",null,i.createElement(v.zk,{propertyId:e.productIdentifier.id,inputs:e})))),Z&&i.createElement("div",null,Z.map((e,n)=>i.createElement(i.Fragment,null,0!==n&&!F&&i.createElement(d.N,{margin:{inline:"half"}},i.createElement(s.D,{inline:!0},"·")),i.createElement(C,{data:e,key:`featured-message-${e.__typename}-${n}`,inline:!0})))))),ue=i.createElement(d.N,{padding:{blockend:h?"six":"two"}},i.createElement("div",null,i.createElement(d.N,{padding:{blockend:F?"four":"one"}},F?me:ce),i.createElement(S.LM,null,i.createElement(S.NP,null,i.createElement(i.Fragment,null,i.createElement(m.M,{tag:N?"h1":"h2",typeStyle:{customStyle:"headline-large"},size:4,"aria-hidden":N?"false":"true",style:y?{display:"inline"}:void 0,tabIndex:-1},j),!F&&se)),i.createElement(S.zQ,null,i.createElement(i.Fragment,null,i.createElement(m.M,{tag:N?"h1":"h2",typeStyle:{customStyle:"headline-extra-large"},size:3,"aria-hidden":N?"false":"true",style:y?{display:"inline"}:void 0,tabIndex:-1},j),!F&&se))),j&&i.createElement("meta",{itemProp:"name",content:j}),q&&i.createElement(c.s,{tag:"h2"},q),le&&i.createElement(d.N,{margin:{blockstart:"one"}},i.createElement(l.v,{icon:"star"===W.icon.id?"star":"alternate",rating:`${W.rating}`,a11yText:null!=(H=W.accessibility)?H:void 0})),null==X?void 0:X.map((e,n)=>{let t={};switch(e.__typename){case"EGDSPlainText":t={padding:{blockstart:0!==n?"two":"unset"},margin:{inlinestart:y?"half":"unset"}};break;case"EGDSStandardBadge":t={padding:{blockstart:"three",blockend:"one"}}}return i.createElement(d.N,{key:`message-${e.__typename}-${n}`,...t},i.createElement("div",null,i.createElement(C,{data:e})))}),h?oe:null,ie));return(null==te?void 0:te.linkName)&&(null==te?void 0:te.referrerId)?i.createElement(g.ee,{linkName:te.linkName,referrerId:te.referrerId},ue):ue};G.displayName="sharedui-ProductHeadline"}}]);
//# sourceMappingURL=https://bernie-assets.s3.us-west-2.amazonaws.com/landing-pwa/shared-ui-retail-product-headline.4eb35f84058f7635eb6d.js.map